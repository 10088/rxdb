{"version":3,"sources":["../../../../src/plugins/memory/index.ts"],"names":["flatClone","RxStorageDexieStatics","createMemoryStorageInstance","getRxStorageMemory","settings","storage","name","statics","collectionStates","Map","createStorageInstance","params","collectionName","schema","version","useSettings","Object","assign","options"],"mappings":"AACA,SAASA,SAAT,QAA0B,YAA1B;AACA,SAASC,qBAAT,QAAsC,2BAAtC;AAMA,SACIC,2BADJ,QAGO,8BAHP;AAKA,OAAO,SAASC,kBAAT,GAEY;AAAA,MADfC,QACe,uEADqB,EACrB;AAEf,MAAMC,OAAwB,GAAG;AAC7BC,IAAAA,IAAI,EAAE,QADuB;AAE7BC,IAAAA,OAAO,EAAEN,qBAFoB;AAG7BO,IAAAA,gBAAgB,EAAE,IAAIC,GAAJ,EAHW;AAI7BC,IAAAA,qBAJ6B,iCAKzBC,MALyB,EAMkB;AAC3CA,MAAAA,MAAM,GAAGX,SAAS,CAACW,MAAD,CAAlB;AACAA,MAAAA,MAAM,CAACC,cAAP,GAAwBD,MAAM,CAACC,cAAP,GAAwB,GAAxB,GAA8BD,MAAM,CAACE,MAAP,CAAcC,OAApE;AAEA,UAAMC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAChB,EADgB,EAEhBb,QAFgB,EAGhBO,MAAM,CAACO,OAHS,CAApB;AAOA,aAAOhB,2BAA2B,CAAC,IAAD,EAAOS,MAAP,EAAeI,WAAf,CAAlC;AACH;AAlB4B,GAAjC;AAqBA,SAAOV,OAAP;AACH;AAGD,cAAc,iBAAd;AACA,cAAc,gBAAd;AACA,cAAc,kBAAd;AACA,cAAc,8BAAd","sourcesContent":["import type { RxStorageInstanceCreationParams } from '../../types';\nimport { flatClone } from '../../util';\nimport { RxStorageDexieStatics } from '../dexie/rx-storage-dexie';\nimport type {\n    RxStorageMemory,\n    RxStorageMemoryInstanceCreationOptions,\n    RxStorageMemorySettings\n} from './memory-types';\nimport {\n    createMemoryStorageInstance,\n    RxStorageInstanceMemory\n} from './rx-storage-instance-memory';\n\nexport function getRxStorageMemory(\n    settings: RxStorageMemorySettings = {}\n): RxStorageMemory {\n\n    const storage: RxStorageMemory = {\n        name: 'memory',\n        statics: RxStorageDexieStatics,\n        collectionStates: new Map(),\n        createStorageInstance<RxDocType>(\n            params: RxStorageInstanceCreationParams<RxDocType, RxStorageMemoryInstanceCreationOptions>\n        ): Promise<RxStorageInstanceMemory<RxDocType>> {\n            params = flatClone(params);\n            params.collectionName = params.collectionName + '-' + params.schema.version;\n\n            const useSettings = Object.assign(\n                {},\n                settings,\n                params.options\n            );\n\n\n            return createMemoryStorageInstance(this, params, useSettings);\n        }\n    };\n\n    return storage;\n}\n\n\nexport * from './memory-helper';\nexport * from './memory-types';\nexport * from './memory-indexes';\nexport * from './rx-storage-instance-memory';\n"],"file":"index.js"}