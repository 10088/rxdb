{"version":3,"sources":["../../../../src/plugins/memory/binary-search-bounds.ts"],"names":["ge","a","y","c","l","h","i","m","x","p","undefined","gt","lt","le","eq","norm","f","length","boundGE","boundGT","boundLT","boundLE","boundEQ"],"mappings":"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","sourcesContent":["/**\n * Everything in this file was copied and adapted from\n * @link https://github.com/mikolalysenko/binary-search-bounds\n * \n * TODO We should use the original npm module instead when this bug is fixed:\n * @link https://github.com/mikolalysenko/binary-search-bounds/pull/14\n */\n\n\n\ntype Compare<T> = ((a: T, b: T) => number | null | undefined);\n\nfunction ge<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i: number = h + 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1;\n        const x: any = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : (x - (y as any));\n        if (p >= 0) { i = m; h = m - 1 } else { l = m + 1 }\n    }\n    return i;\n}\n\nfunction gt<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = h + 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p > 0) { i = m; h = m - 1 } else { l = m + 1 }\n    }\n    return i;\n}\n\nfunction lt<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = l - 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p < 0) { i = m; l = m + 1 } else { h = m - 1 }\n    }\n    return i;\n}\n\nfunction le<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = l - 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p <= 0) { i = m; l = m + 1 } else { h = m - 1 }\n    }\n    return i;\n}\n\nfunction eq<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p === 0) { return m }\n        if (p <= 0) { l = m + 1 } else { h = m - 1 }\n    }\n    return -1;\n}\n\nfunction norm<T>(a: T[], y: T, c: Compare<T>, l: any, h: any, f: any) {\n    if (typeof c === 'function') {\n        return f(a, y, c, (l === undefined) ? 0 : l | 0, (h === undefined) ? a.length - 1 : h | 0);\n    }\n    return f(a, y, undefined, (c === undefined) ? 0 : c | 0, (l === undefined) ? a.length - 1 : l | 0);\n}\n\n\nexport function boundGE<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, ge) }\nexport function boundGT<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, gt) }\nexport function boundLT<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, lt) }\nexport function boundLE<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, le) }\nexport function boundEQ<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, eq) }\n"],"file":"binary-search-bounds.js"}