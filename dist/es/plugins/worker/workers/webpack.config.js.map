{"version":3,"file":"webpack.config.js","names":["path","require","TerserPlugin","projectRootPath","resolve","__dirname","babelConfig","module","exports","entry","output","filename","clean","mode","cache","type","cacheDirectory","devtool","rules","test","exclude","use","loader","options","extensions","fallback","fs","optimization","moduleIds","minimize","minimizer","terserOptions","format","comments","extractComments"],"sources":["../../../../../src/plugins/worker/workers/webpack.config.js"],"sourcesContent":["const path = require('path');\nconst TerserPlugin = require('terser-webpack-plugin');\n\nconst projectRootPath = path.resolve(\n    __dirname,\n    '../../../../'\n);\n\nconst babelConfig = require('../../../../babel.config');\nmodule.exports = {\n    entry: {\n        'lokijs-incremental-indexeddb': './src/plugins/worker/workers/lokijs-incremental-indexeddb.worker.ts',\n        'lokijs-indexeddb': './src/plugins/worker/workers/lokijs-indexeddb.worker.ts',\n        'lokijs-memory': './src/plugins/worker/workers/lokijs-memory.worker.ts',\n        'lokijs-fs': './src/plugins/worker/workers/lokijs-fs.worker.ts',\n        'pouchdb-idb': './src/plugins/worker/workers/pouchdb-idb.worker.ts',\n        'pouchdb-memory': './src/plugins/worker/workers/pouchdb-memory.worker.ts',\n        'dexie': './src/plugins/worker/workers/dexie.worker.ts',\n        'dexie-memory': './src/plugins/worker/workers/dexie-memory.worker.ts'\n    },\n    output: {\n        filename: '[name].worker.js',\n        clean: true,\n        path: path.resolve(\n            projectRootPath,\n            'dist/workers'\n        ),\n    },\n    mode: 'production',\n    cache: {\n        type: 'filesystem',\n        cacheDirectory: path.resolve(\n            projectRootPath,\n            'test_tmp',\n            'webpack-cache'\n        ),\n    },\n    devtool: 'source-map',\n    module: {\n        rules: [\n            /**\n             * We transpile the typscript via babel instead of ts-loader.\n             * This ensures we have the exact same babel config\n             * as the root RxDB project.\n             */\n            {\n                test: /\\.tsx?$/,\n                exclude: /(node_modules)/,\n                use: {\n                    loader: 'babel-loader',\n                    options: babelConfig\n                }\n            }\n        ],\n    },\n    resolve: {\n        extensions: ['.tsx', '.ts', '.js'],\n        /**\n         * Fix LokiJS bundle error\n         * @link https://rxdb.info/rx-storage-lokijs.html\n         */\n        fallback: {\n            fs: false\n        }\n    },\n    optimization: {\n        moduleIds: 'deterministic',\n        minimize: true,\n        minimizer: [new TerserPlugin({\n            terserOptions: {\n                format: {\n                    comments: false,\n                },\n            },\n            /**\n             * Disable creating the license files.\n             * @link https://github.com/webpack/webpack/issues/12506#issuecomment-789314176\n             */\n            extractComments: false,\n        })],\n    }\n};\n"],"mappings":"AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAMC,YAAY,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAErD,IAAME,eAAe,GAAGH,IAAI,CAACI,OAAO,CAChCC,SAAS,EACT,cAAc,CACjB;AAED,IAAMC,WAAW,GAAGL,OAAO,CAAC,0BAA0B,CAAC;AACvDM,MAAM,CAACC,OAAO,GAAG;EACbC,KAAK,EAAE;IACH,8BAA8B,EAAE,qEAAqE;IACrG,kBAAkB,EAAE,yDAAyD;IAC7E,eAAe,EAAE,sDAAsD;IACvE,WAAW,EAAE,kDAAkD;IAC/D,aAAa,EAAE,oDAAoD;IACnE,gBAAgB,EAAE,uDAAuD;IACzE,OAAO,EAAE,8CAA8C;IACvD,cAAc,EAAE;EACpB,CAAC;EACDC,MAAM,EAAE;IACJC,QAAQ,EAAE,kBAAkB;IAC5BC,KAAK,EAAE,IAAI;IACXZ,IAAI,EAAEA,IAAI,CAACI,OAAO,CACdD,eAAe,EACf,cAAc;EAEtB,CAAC;EACDU,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACHC,IAAI,EAAE,YAAY;IAClBC,cAAc,EAAEhB,IAAI,CAACI,OAAO,CACxBD,eAAe,EACf,UAAU,EACV,eAAe;EAEvB,CAAC;EACDc,OAAO,EAAE,YAAY;EACrBV,MAAM,EAAE;IACJW,KAAK,EAAE;IACH;AACZ;AACA;AACA;AACA;IACY;MACIC,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,gBAAgB;MACzBC,GAAG,EAAE;QACDC,MAAM,EAAE,cAAc;QACtBC,OAAO,EAAEjB;MACb;IACJ,CAAC;EAET,CAAC;EACDF,OAAO,EAAE;IACLoB,UAAU,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC;IAClC;AACR;AACA;AACA;IACQC,QAAQ,EAAE;MACNC,EAAE,EAAE;IACR;EACJ,CAAC;EACDC,YAAY,EAAE;IACVC,SAAS,EAAE,eAAe;IAC1BC,QAAQ,EAAE,IAAI;IACdC,SAAS,EAAE,CAAC,IAAI5B,YAAY,CAAC;MACzB6B,aAAa,EAAE;QACXC,MAAM,EAAE;UACJC,QAAQ,EAAE;QACd;MACJ,CAAC;MACD;AACZ;AACA;AACA;MACYC,eAAe,EAAE;IACrB,CAAC,CAAC;EACN;AACJ,CAAC"}