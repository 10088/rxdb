{"version":3,"sources":["../../../../src/plugins/dev-mode/unallowed-properties.ts"],"names":["newRxError","rxDatabaseProperties","isFolderPath","validateDatabaseName","ensureCollectionNameValid","args","includes","name","ensureDatabaseNameIsValid","endsWith"],"mappings":"AACA,SAASA,UAAT,QAA2B,gBAA3B;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA,SAASC,oBAAT,QAAqC,eAArC;AAGA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,yBAAT,CACHC,IADG,EAEL;AACE,MAAIJ,oBAAoB,GAAGK,QAAvB,CAAgCD,IAAI,CAACE,IAArC,CAAJ,EAAgD;AAC5C,UAAMP,UAAU,CAAC,KAAD,EAAQ;AACpBO,MAAAA,IAAI,EAAEF,IAAI,CAACE;AADS,KAAR,CAAhB;AAGH;AACJ;AAED,OAAO,SAASC,yBAAT,CAAmCH,IAAnC,EAAsE;AAEzEF,EAAAA,oBAAoB,CAACE,IAAI,CAACE,IAAN,CAApB;AAEA;AACJ;AACA;AACA;AACA;;AACI,MAAIL,YAAY,CAACG,IAAI,CAACE,IAAN,CAAhB,EAA6B;AACzB,QAAIF,IAAI,CAACE,IAAL,CAAUE,QAAV,CAAmB,GAAnB,KAA2BJ,IAAI,CAACE,IAAL,CAAUE,QAAV,CAAmB,IAAnB,CAA/B,EAAyD;AACrD,YAAMT,UAAU,CAAC,MAAD,EAAS;AACrBO,QAAAA,IAAI,EAAEF,IAAI,CAACE;AADU,OAAT,CAAhB;AAGH;AACJ;AAEJ","sourcesContent":["import type { RxCollectionCreator, RxDatabaseCreator } from '../../types';\nimport { newRxError } from '../../rx-error';\nimport { rxDatabaseProperties } from './entity-properties';\nimport { isFolderPath } from '../../util';\nimport { validateDatabaseName } from './check-names';\n\n\n/**\n * if the name of a collection\n * clashes with a property of RxDatabase,\n * we get problems so this function prohibits this\n */\nexport function ensureCollectionNameValid(\n    args: RxCollectionCreator & { name: string; }\n) {\n    if (rxDatabaseProperties().includes(args.name)) {\n        throw newRxError('DB5', {\n            name: args.name\n        });\n    }\n}\n\nexport function ensureDatabaseNameIsValid(args: RxDatabaseCreator<any, any>) {\n\n    validateDatabaseName(args.name);\n\n    /**\n     * The server-plugin has problems when a path with and ending slash is given\n     * So we do not allow this.\n     * @link https://github.com/pubkey/rxdb/issues/2251\n     */\n    if (isFolderPath(args.name)) {\n        if (args.name.endsWith('/') || args.name.endsWith('\\\\')) {\n            throw newRxError('DB11', {\n                name: args.name,\n            });\n        }\n    }\n\n}\n"],"file":"unallowed-properties.js"}