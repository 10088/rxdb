{"version":3,"file":"couchdb-helper.js","names":["pouchSwapIdToPrimary","COUCHDB_NEW_REPLICATION_PLUGIN_IDENTITY_PREFIX","mergeUrlQueryParams","params","Object","entries","filter","_k","value","map","key","join","couchDBDocToRxDocData","primaryPath","couchDocData","doc","_deleted"],"sources":["../../../../src/plugins/replication-couchdb-new/couchdb-helper.ts"],"sourcesContent":["import { WithDeleted } from '../../types';\nimport { pouchSwapIdToPrimary } from '../pouchdb';\nimport { URLQueryParams } from './couchdb-types';\n\n\nexport const COUCHDB_NEW_REPLICATION_PLUGIN_IDENTITY_PREFIX = 'rxdb-replication-couchdb-';\n\n\nexport function mergeUrlQueryParams(\n    params: URLQueryParams\n): string {\n    return Object.entries(params)\n        .filter(([_k, value]) => typeof value !== 'undefined')\n        .map(([key, value]) => key + '=' + value)\n        .join('&');\n}\n\nexport function couchDBDocToRxDocData<RxDocType>(\n    primaryPath: string,\n    couchDocData: any\n): WithDeleted<RxDocType> {\n    const doc = pouchSwapIdToPrimary(primaryPath, couchDocData);\n\n    // ensure deleted flag is set.\n    doc._deleted = !!doc._deleted;\n\n    return doc;\n}\n"],"mappings":"AACA,SAASA,oBAAoB,QAAQ,YAAY;AAIjD,OAAO,IAAMC,8CAA8C,GAAG,2BAA2B;AAGzF,OAAO,SAASC,mBAAmB,CAC/BC,MAAsB,EAChB;EACN,OAAOC,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CACxBG,MAAM,CAAC;IAAA,IAAEC,EAAE;MAAEC,KAAK;IAAA,OAAM,OAAOA,KAAK,KAAK,WAAW;EAAA,EAAC,CACrDC,GAAG,CAAC;IAAA,IAAEC,GAAG;MAAEF,KAAK;IAAA,OAAME,GAAG,GAAG,GAAG,GAAGF,KAAK;EAAA,EAAC,CACxCG,IAAI,CAAC,GAAG,CAAC;AAClB;AAEA,OAAO,SAASC,qBAAqB,CACjCC,WAAmB,EACnBC,YAAiB,EACK;EACtB,IAAMC,GAAG,GAAGf,oBAAoB,CAACa,WAAW,EAAEC,YAAY,CAAC;;EAE3D;EACAC,GAAG,CAACC,QAAQ,GAAG,CAAC,CAACD,GAAG,CAACC,QAAQ;EAE7B,OAAOD,GAAG;AACd"}