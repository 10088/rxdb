{"version":3,"file":"dexie-memory.worker.js","mappings":"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","sources":["webpack://rxdb/./node_modules/argsarray/index.js","webpack://rxdb/./node_modules/clone/clone.js","webpack://rxdb/./node_modules/events/events.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBCursor.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBCursorWithValue.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBDatabase.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBFactory.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBIndex.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBKeyRange.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBObjectStore.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBOpenDBRequest.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBRequest.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBTransaction.js","webpack://rxdb/./node_modules/fake-indexeddb/build/FDBVersionChangeEvent.js","webpack://rxdb/./node_modules/fake-indexeddb/build/fakeIndexedDB.js","webpack://rxdb/./node_modules/fake-indexeddb/build/index.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/Database.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/FakeEvent.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/FakeEventTarget.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/Index.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/KeyGenerator.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/ObjectStore.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/RecordStore.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/binarySearch.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/canInjectKey.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/cmp.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/enforceRange.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/errors.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/extractKey.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/fakeDOMStringList.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/scheduling.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/structuredClone.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/validateKeyPath.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/valueToKey.js","webpack://rxdb/./node_modules/fake-indexeddb/build/lib/valueToKeyRange.js","webpack://rxdb/./node_modules/fake-indexeddb/lib/FDBKeyRange.js","webpack://rxdb/./node_modules/immediate/lib/index.js","webpack://rxdb/./node_modules/immediate/lib/messageChannel.js","webpack://rxdb/./node_modules/immediate/lib/mutation.js","webpack://rxdb/./node_modules/immediate/lib/queueMicrotask.js","webpack://rxdb/./node_modules/immediate/lib/stateChange.js","webpack://rxdb/./node_modules/immediate/lib/timeout.js","webpack://rxdb/./node_modules/inherits/inherits_browser.js","webpack://rxdb/./node_modules/is-electron/index.js","webpack://rxdb/./node_modules/is-observable/index.js","webpack://rxdb/./node_modules/mingo/aggregator.js","webpack://rxdb/./node_modules/mingo/core.js","webpack://rxdb/./node_modules/mingo/cursor.js","webpack://rxdb/./node_modules/mingo/index.js","webpack://rxdb/./node_modules/mingo/init/basic.js","webpack://rxdb/./node_modules/mingo/lazy.js","webpack://rxdb/./node_modules/mingo/operators/_predicates.js","webpack://rxdb/./node_modules/mingo/operators/expression/array/slice.js","webpack://rxdb/./node_modules/mingo/operators/expression/boolean/and.js","webpack://rxdb/./node_modules/mingo/operators/expression/boolean/index.js","webpack://rxdb/./node_modules/mingo/operators/expression/boolean/not.js","webpack://rxdb/./node_modules/mingo/operators/expression/boolean/or.js","webpack://rxdb/./node_modules/mingo/operators/expression/comparison.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/addFields.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/bucket.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/bucketAuto.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/count.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/facet.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/group.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/index.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/limit.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/lookup.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/match.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/out.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/project.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/redact.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/replaceRoot.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/replaceWith.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/sample.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/set.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/skip.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/sort.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/sortByCount.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/unset.js","webpack://rxdb/./node_modules/mingo/operators/pipeline/unwind.js","webpack://rxdb/./node_modules/mingo/operators/projection/elemMatch.js","webpack://rxdb/./node_modules/mingo/operators/projection/index.js","webpack://rxdb/./node_modules/mingo/operators/projection/slice.js","webpack://rxdb/./node_modules/mingo/operators/query/array/all.js","webpack://rxdb/./node_modules/mingo/operators/query/array/elemMatch.js","webpack://rxdb/./node_modules/mingo/operators/query/array/index.js","webpack://rxdb/./node_modules/mingo/operators/query/array/size.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/_internal.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/bitsAllClear.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/bitsAllSet.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/bitsAnyClear.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/bitsAnySet.js","webpack://rxdb/./node_modules/mingo/operators/query/bitwise/index.js","webpack://rxdb/./node_modules/mingo/operators/query/comparison.js","webpack://rxdb/./node_modules/mingo/operators/query/element/exists.js","webpack://rxdb/./node_modules/mingo/operators/query/element/index.js","webpack://rxdb/./node_modules/mingo/operators/query/element/type.js","webpack://rxdb/./node_modules/mingo/operators/query/evaluation/expr.js","webpack://rxdb/./node_modules/mingo/operators/query/evaluation/index.js","webpack://rxdb/./node_modules/mingo/operators/query/evaluation/jsonSchema.js","webpack://rxdb/./node_modules/mingo/operators/query/evaluation/mod.js","webpack://rxdb/./node_modules/mingo/operators/query/evaluation/regex.js","webpack://rxdb/./node_modules/mingo/operators/query/index.js","webpack://rxdb/./node_modules/mingo/operators/query/logical/and.js","webpack://rxdb/./node_modules/mingo/operators/query/logical/index.js","webpack://rxdb/./node_modules/mingo/operators/query/logical/nor.js","webpack://rxdb/./node_modules/mingo/operators/query/logical/not.js","webpack://rxdb/./node_modules/mingo/operators/query/logical/or.js","webpack://rxdb/./node_modules/mingo/query.js","webpack://rxdb/./node_modules/mingo/util.js","webpack://rxdb/./node_modules/object-path/index.js","webpack://rxdb/./node_modules/pouchdb-md5/node_modules/spark-md5/spark-md5.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/bytesToUuid.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/index.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/md5-browser.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/rng-browser.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/sha1-browser.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/v1.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/v3.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/v35.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/v4.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/dist/v5.js","webpack://rxdb/./node_modules/realistic-structured-clone/dist/index.js","webpack://rxdb/./node_modules/spark-md5/spark-md5.js","webpack://rxdb/./node_modules/threads/dist/common.js","webpack://rxdb/./node_modules/threads/dist/serializers.js","webpack://rxdb/./node_modules/threads/dist/symbols.js","webpack://rxdb/./node_modules/threads/dist/transferable.js","webpack://rxdb/./node_modules/threads/dist/types/messages.js","webpack://rxdb/./node_modules/threads/dist/worker/implementation.browser.js","webpack://rxdb/./node_modules/threads/dist/worker/index.js","webpack://rxdb/webpack/bootstrap","webpack://rxdb/webpack/runtime/compat get default export","webpack://rxdb/webpack/runtime/define property getters","webpack://rxdb/webpack/runtime/global","webpack://rxdb/webpack/runtime/hasOwnProperty shorthand","webpack://rxdb/./node_modules/pouchdb-binary-utils/lib/index-browser.es.js","webpack://rxdb/./node_modules/pouchdb-md5/lib/index-browser.es.js","webpack://rxdb/./node_modules/dexie/dist/modern/dexie.min.mjs","webpack://rxdb/./src/util.ts","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://rxdb/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://rxdb/./src/overwritable.ts","webpack://rxdb/./src/rx-error.ts","webpack://rxdb/./src/rx-schema-helper.ts","webpack://rxdb/./src/plugins/dexie/dexie-helper.ts","webpack://rxdb/./node_modules/tslib/tslib.es6.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/config.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://rxdb/./node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://rxdb/./src/plugins/pouchdb/pouchdb-helper.ts","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/pouchdb-collections/lib/index.es.js","webpack://rxdb/./node_modules/pouchdb-errors/lib/index.es.js","webpack://rxdb/./node_modules/pouchdb-utils/node_modules/uuid/wrapper.mjs","webpack://rxdb/./node_modules/pouchdb-utils/lib/index-browser.es.js","webpack://rxdb/./node_modules/pouchdb-selector-core/lib/index.es.js","webpack://rxdb/./src/plugins/pouchdb/pouch-statics.ts","webpack://rxdb/./src/plugins/dexie/query/pouchdb-find-query-planer/indexeddb-find.ts","webpack://rxdb/./src/plugins/dexie/query/pouchdb-find-query-planer/main-utils.ts","webpack://rxdb/./src/plugins/dexie/query/pouchdb-find-query-planer/query-planner.ts","webpack://rxdb/./src/plugins/dexie/query/pouchdb-find-query-planer/utils.ts","webpack://rxdb/./src/plugins/dexie/query/dexie-query.ts","webpack://rxdb/./src/rx-storage-helper.ts","webpack://rxdb/./src/plugins/dexie/rx-storage-instance-dexie.ts","webpack://rxdb/./src/plugins/dexie/rx-storage-dexie.ts","webpack://rxdb/./node_modules/threads/worker.mjs","webpack://rxdb/./src/plugins/worker/workers/dexie-memory.worker.ts","webpack://rxdb/./src/plugins/worker/in-worker.ts"],"sourcesContent":["'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBKeyRange_1 = require(\"./FDBKeyRange\");\nvar FDBObjectStore_1 = require(\"./FDBObjectStore\");\nvar cmp_1 = require(\"./lib/cmp\");\nvar errors_1 = require(\"./lib/errors\");\nvar extractKey_1 = require(\"./lib/extractKey\");\nvar structuredClone_1 = require(\"./lib/structuredClone\");\nvar valueToKey_1 = require(\"./lib/valueToKey\");\nvar getEffectiveObjectStore = function (cursor) {\n    if (cursor.source instanceof FDBObjectStore_1.default) {\n        return cursor.source;\n    }\n    return cursor.source.objectStore;\n};\n// This takes a key range, a list of lower bounds, and a list of upper bounds and combines them all into a single key\n// range. It does not handle gt/gte distinctions, because it doesn't really matter much anyway, since for next/prev\n// cursor iteration it'd also have to look at values to be precise, which would be complicated. This should get us 99%\n// of the way there.\nvar makeKeyRange = function (range, lowers, uppers) {\n    var e_1, _a, e_2, _b;\n    // Start with bounds from range\n    var lower = range !== undefined ? range.lower : undefined;\n    var upper = range !== undefined ? range.upper : undefined;\n    try {\n        // Augment with values from lowers and uppers\n        for (var lowers_1 = __values(lowers), lowers_1_1 = lowers_1.next(); !lowers_1_1.done; lowers_1_1 = lowers_1.next()) {\n            var lowerTemp = lowers_1_1.value;\n            if (lowerTemp === undefined) {\n                continue;\n            }\n            if (lower === undefined || cmp_1.default(lower, lowerTemp) === 1) {\n                lower = lowerTemp;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (lowers_1_1 && !lowers_1_1.done && (_a = lowers_1.return)) _a.call(lowers_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    try {\n        for (var uppers_1 = __values(uppers), uppers_1_1 = uppers_1.next(); !uppers_1_1.done; uppers_1_1 = uppers_1.next()) {\n            var upperTemp = uppers_1_1.value;\n            if (upperTemp === undefined) {\n                continue;\n            }\n            if (upper === undefined || cmp_1.default(upper, upperTemp) === -1) {\n                upper = upperTemp;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (uppers_1_1 && !uppers_1_1.done && (_b = uppers_1.return)) _b.call(uppers_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    if (lower !== undefined && upper !== undefined) {\n        return FDBKeyRange_1.default.bound(lower, upper);\n    }\n    if (lower !== undefined) {\n        return FDBKeyRange_1.default.lowerBound(lower);\n    }\n    if (upper !== undefined) {\n        return FDBKeyRange_1.default.upperBound(upper);\n    }\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#cursor\nvar FDBCursor = /** @class */ (function () {\n    function FDBCursor(source, range, direction, request, keyOnly) {\n        if (direction === void 0) { direction = \"next\"; }\n        if (keyOnly === void 0) { keyOnly = false; }\n        this._gotValue = false;\n        this._position = undefined; // Key of previously returned record\n        this._objectStorePosition = undefined;\n        this._keyOnly = false;\n        this._key = undefined;\n        this._primaryKey = undefined;\n        this._range = range;\n        this._source = source;\n        this._direction = direction;\n        this._request = request;\n        this._keyOnly = keyOnly;\n    }\n    Object.defineProperty(FDBCursor.prototype, \"source\", {\n        // Read only properties\n        get: function () {\n            return this._source;\n        },\n        set: function (val) {\n            /* For babel */\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FDBCursor.prototype, \"direction\", {\n        get: function () {\n            return this._direction;\n        },\n        set: function (val) {\n            /* For babel */\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FDBCursor.prototype, \"key\", {\n        get: function () {\n            return this._key;\n        },\n        set: function (val) {\n            /* For babel */\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FDBCursor.prototype, \"primaryKey\", {\n        get: function () {\n            return this._primaryKey;\n        },\n        set: function (val) {\n            /* For babel */\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // https://w3c.github.io/IndexedDB/#iterate-a-cursor\n    FDBCursor.prototype._iterate = function (key, primaryKey) {\n        var e_3, _a, e_4, _b, e_5, _c, e_6, _d;\n        var sourceIsObjectStore = this.source instanceof FDBObjectStore_1.default;\n        // Can't use sourceIsObjectStore because TypeScript\n        var records = this.source instanceof FDBObjectStore_1.default\n            ? this.source._rawObjectStore.records\n            : this.source._rawIndex.records;\n        var foundRecord;\n        if (this.direction === \"next\") {\n            var range = makeKeyRange(this._range, [key, this._position], []);\n            try {\n                for (var _e = __values(records.values(range)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var record = _f.value;\n                    var cmpResultKey = key !== undefined ? cmp_1.default(record.key, key) : undefined;\n                    var cmpResultPosition = this._position !== undefined\n                        ? cmp_1.default(record.key, this._position)\n                        : undefined;\n                    if (key !== undefined) {\n                        if (cmpResultKey === -1) {\n                            continue;\n                        }\n                    }\n                    if (primaryKey !== undefined) {\n                        if (cmpResultKey === -1) {\n                            continue;\n                        }\n                        var cmpResultPrimaryKey = cmp_1.default(record.value, primaryKey);\n                        if (cmpResultKey === 0 && cmpResultPrimaryKey === -1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined && sourceIsObjectStore) {\n                        if (cmpResultPosition !== 1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined && !sourceIsObjectStore) {\n                        if (cmpResultPosition === -1) {\n                            continue;\n                        }\n                        if (cmpResultPosition === 0 &&\n                            cmp_1.default(record.value, this._objectStorePosition) !== 1) {\n                            continue;\n                        }\n                    }\n                    if (this._range !== undefined) {\n                        if (!this._range.includes(record.key)) {\n                            continue;\n                        }\n                    }\n                    foundRecord = record;\n                    break;\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        else if (this.direction === \"nextunique\") {\n            // This could be done without iterating, if the range was defined slightly better (to handle gt/gte cases).\n            // But the performance difference should be small, and that wouldn't work anyway for directions where the\n            // value needs to be used (like next and prev).\n            var range = makeKeyRange(this._range, [key, this._position], []);\n            try {\n                for (var _g = __values(records.values(range)), _h = _g.next(); !_h.done; _h = _g.next()) {\n                    var record = _h.value;\n                    if (key !== undefined) {\n                        if (cmp_1.default(record.key, key) === -1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined) {\n                        if (cmp_1.default(record.key, this._position) !== 1) {\n                            continue;\n                        }\n                    }\n                    if (this._range !== undefined) {\n                        if (!this._range.includes(record.key)) {\n                            continue;\n                        }\n                    }\n                    foundRecord = record;\n                    break;\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n        else if (this.direction === \"prev\") {\n            var range = makeKeyRange(this._range, [], [key, this._position]);\n            try {\n                for (var _j = __values(records.values(range, \"prev\")), _k = _j.next(); !_k.done; _k = _j.next()) {\n                    var record = _k.value;\n                    var cmpResultKey = key !== undefined ? cmp_1.default(record.key, key) : undefined;\n                    var cmpResultPosition = this._position !== undefined\n                        ? cmp_1.default(record.key, this._position)\n                        : undefined;\n                    if (key !== undefined) {\n                        if (cmpResultKey === 1) {\n                            continue;\n                        }\n                    }\n                    if (primaryKey !== undefined) {\n                        if (cmpResultKey === 1) {\n                            continue;\n                        }\n                        var cmpResultPrimaryKey = cmp_1.default(record.value, primaryKey);\n                        if (cmpResultKey === 0 && cmpResultPrimaryKey === 1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined && sourceIsObjectStore) {\n                        if (cmpResultPosition !== -1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined && !sourceIsObjectStore) {\n                        if (cmpResultPosition === 1) {\n                            continue;\n                        }\n                        if (cmpResultPosition === 0 &&\n                            cmp_1.default(record.value, this._objectStorePosition) !== -1) {\n                            continue;\n                        }\n                    }\n                    if (this._range !== undefined) {\n                        if (!this._range.includes(record.key)) {\n                            continue;\n                        }\n                    }\n                    foundRecord = record;\n                    break;\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        }\n        else if (this.direction === \"prevunique\") {\n            var tempRecord = void 0;\n            var range = makeKeyRange(this._range, [], [key, this._position]);\n            try {\n                for (var _l = __values(records.values(range, \"prev\")), _m = _l.next(); !_m.done; _m = _l.next()) {\n                    var record = _m.value;\n                    if (key !== undefined) {\n                        if (cmp_1.default(record.key, key) === 1) {\n                            continue;\n                        }\n                    }\n                    if (this._position !== undefined) {\n                        if (cmp_1.default(record.key, this._position) !== -1) {\n                            continue;\n                        }\n                    }\n                    if (this._range !== undefined) {\n                        if (!this._range.includes(record.key)) {\n                            continue;\n                        }\n                    }\n                    tempRecord = record;\n                    break;\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n            if (tempRecord) {\n                foundRecord = records.get(tempRecord.key);\n            }\n        }\n        var result;\n        if (!foundRecord) {\n            this._key = undefined;\n            if (!sourceIsObjectStore) {\n                this._objectStorePosition = undefined;\n            }\n            // \"this instanceof FDBCursorWithValue\" would be better and not require (this as any), but causes runtime\n            // error due to circular dependency.\n            if (!this._keyOnly &&\n                this.toString() === \"[object IDBCursorWithValue]\") {\n                this.value = undefined;\n            }\n            result = null;\n        }\n        else {\n            this._position = foundRecord.key;\n            if (!sourceIsObjectStore) {\n                this._objectStorePosition = foundRecord.value;\n            }\n            this._key = foundRecord.key;\n            if (sourceIsObjectStore) {\n                this._primaryKey = structuredClone_1.default(foundRecord.key);\n                if (!this._keyOnly &&\n                    this.toString() === \"[object IDBCursorWithValue]\") {\n                    this.value = structuredClone_1.default(foundRecord.value);\n                }\n            }\n            else {\n                this._primaryKey = structuredClone_1.default(foundRecord.value);\n                if (!this._keyOnly &&\n                    this.toString() === \"[object IDBCursorWithValue]\") {\n                    if (this.source instanceof FDBObjectStore_1.default) {\n                        // Can't use sourceIsObjectStore because TypeScript\n                        throw new Error(\"This should never happen\");\n                    }\n                    var value = this.source.objectStore._rawObjectStore.getValue(foundRecord.value);\n                    this.value = structuredClone_1.default(value);\n                }\n            }\n            this._gotValue = true;\n            result = this;\n        }\n        return result;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBCursor-update-IDBRequest-any-value\n    FDBCursor.prototype.update = function (value) {\n        if (value === undefined) {\n            throw new TypeError();\n        }\n        var effectiveObjectStore = getEffectiveObjectStore(this);\n        var effectiveKey = this.source.hasOwnProperty(\"_rawIndex\")\n            ? this.primaryKey\n            : this._position;\n        var transaction = effectiveObjectStore.transaction;\n        if (transaction._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        if (transaction.mode === \"readonly\") {\n            throw new errors_1.ReadOnlyError();\n        }\n        if (effectiveObjectStore._rawObjectStore.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!(this.source instanceof FDBObjectStore_1.default) &&\n            this.source._rawIndex.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!this._gotValue || !this.hasOwnProperty(\"value\")) {\n            throw new errors_1.InvalidStateError();\n        }\n        var clone = structuredClone_1.default(value);\n        if (effectiveObjectStore.keyPath !== null) {\n            var tempKey = void 0;\n            try {\n                tempKey = extractKey_1.default(effectiveObjectStore.keyPath, clone);\n            }\n            catch (err) {\n                /* Handled immediately below */\n            }\n            if (cmp_1.default(tempKey, effectiveKey) !== 0) {\n                throw new errors_1.DataError();\n            }\n        }\n        var record = {\n            key: effectiveKey,\n            value: clone,\n        };\n        return transaction._execRequestAsync({\n            operation: effectiveObjectStore._rawObjectStore.storeRecord.bind(effectiveObjectStore._rawObjectStore, record, false, transaction._rollbackLog),\n            source: this,\n        });\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBCursor-advance-void-unsigned-long-count\n    FDBCursor.prototype.advance = function (count) {\n        var _this = this;\n        if (!Number.isInteger(count) || count <= 0) {\n            throw new TypeError();\n        }\n        var effectiveObjectStore = getEffectiveObjectStore(this);\n        var transaction = effectiveObjectStore.transaction;\n        if (transaction._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        if (effectiveObjectStore._rawObjectStore.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!(this.source instanceof FDBObjectStore_1.default) &&\n            this.source._rawIndex.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!this._gotValue) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (this._request) {\n            this._request.readyState = \"pending\";\n        }\n        transaction._execRequestAsync({\n            operation: function () {\n                var result;\n                for (var i = 0; i < count; i++) {\n                    result = _this._iterate();\n                    // Not sure why this is needed\n                    if (!result) {\n                        break;\n                    }\n                }\n                return result;\n            },\n            request: this._request,\n            source: this.source,\n        });\n        this._gotValue = false;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBCursor-continue-void-any-key\n    FDBCursor.prototype.continue = function (key) {\n        var effectiveObjectStore = getEffectiveObjectStore(this);\n        var transaction = effectiveObjectStore.transaction;\n        if (transaction._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        if (effectiveObjectStore._rawObjectStore.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!(this.source instanceof FDBObjectStore_1.default) &&\n            this.source._rawIndex.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!this._gotValue) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (key !== undefined) {\n            key = valueToKey_1.default(key);\n            var cmpResult = cmp_1.default(key, this._position);\n            if ((cmpResult <= 0 &&\n                (this.direction === \"next\" ||\n                    this.direction === \"nextunique\")) ||\n                (cmpResult >= 0 &&\n                    (this.direction === \"prev\" ||\n                        this.direction === \"prevunique\"))) {\n                throw new errors_1.DataError();\n            }\n        }\n        if (this._request) {\n            this._request.readyState = \"pending\";\n        }\n        transaction._execRequestAsync({\n            operation: this._iterate.bind(this, key),\n            request: this._request,\n            source: this.source,\n        });\n        this._gotValue = false;\n    };\n    // hthttps://w3c.github.io/IndexedDB/#dom-idbcursor-continueprimarykey\n    FDBCursor.prototype.continuePrimaryKey = function (key, primaryKey) {\n        var effectiveObjectStore = getEffectiveObjectStore(this);\n        var transaction = effectiveObjectStore.transaction;\n        if (transaction._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        if (effectiveObjectStore._rawObjectStore.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!(this.source instanceof FDBObjectStore_1.default) &&\n            this.source._rawIndex.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (this.source instanceof FDBObjectStore_1.default ||\n            (this.direction !== \"next\" && this.direction !== \"prev\")) {\n            throw new errors_1.InvalidAccessError();\n        }\n        if (!this._gotValue) {\n            throw new errors_1.InvalidStateError();\n        }\n        // Not sure about this\n        if (key === undefined || primaryKey === undefined) {\n            throw new errors_1.DataError();\n        }\n        key = valueToKey_1.default(key);\n        var cmpResult = cmp_1.default(key, this._position);\n        if ((cmpResult === -1 && this.direction === \"next\") ||\n            (cmpResult === 1 && this.direction === \"prev\")) {\n            throw new errors_1.DataError();\n        }\n        var cmpResult2 = cmp_1.default(primaryKey, this._objectStorePosition);\n        if (cmpResult === 0) {\n            if ((cmpResult2 <= 0 && this.direction === \"next\") ||\n                (cmpResult2 >= 0 && this.direction === \"prev\")) {\n                throw new errors_1.DataError();\n            }\n        }\n        if (this._request) {\n            this._request.readyState = \"pending\";\n        }\n        transaction._execRequestAsync({\n            operation: this._iterate.bind(this, key, primaryKey),\n            request: this._request,\n            source: this.source,\n        });\n        this._gotValue = false;\n    };\n    FDBCursor.prototype.delete = function () {\n        var effectiveObjectStore = getEffectiveObjectStore(this);\n        var effectiveKey = this.source.hasOwnProperty(\"_rawIndex\")\n            ? this.primaryKey\n            : this._position;\n        var transaction = effectiveObjectStore.transaction;\n        if (transaction._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        if (transaction.mode === \"readonly\") {\n            throw new errors_1.ReadOnlyError();\n        }\n        if (effectiveObjectStore._rawObjectStore.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!(this.source instanceof FDBObjectStore_1.default) &&\n            this.source._rawIndex.deleted) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!this._gotValue || !this.hasOwnProperty(\"value\")) {\n            throw new errors_1.InvalidStateError();\n        }\n        return transaction._execRequestAsync({\n            operation: effectiveObjectStore._rawObjectStore.deleteRecord.bind(effectiveObjectStore._rawObjectStore, effectiveKey, transaction._rollbackLog),\n            source: this,\n        });\n    };\n    FDBCursor.prototype.toString = function () {\n        return \"[object IDBCursor]\";\n    };\n    return FDBCursor;\n}());\nexports.default = FDBCursor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBCursor_1 = require(\"./FDBCursor\");\nvar FDBCursorWithValue = /** @class */ (function (_super) {\n    __extends(FDBCursorWithValue, _super);\n    function FDBCursorWithValue(source, range, direction, request) {\n        var _this = _super.call(this, source, range, direction, request) || this;\n        _this.value = undefined;\n        return _this;\n    }\n    FDBCursorWithValue.prototype.toString = function () {\n        return \"[object IDBCursorWithValue]\";\n    };\n    return FDBCursorWithValue;\n}(FDBCursor_1.default));\nexports.default = FDBCursorWithValue;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBTransaction_1 = require(\"./FDBTransaction\");\nvar errors_1 = require(\"./lib/errors\");\nvar fakeDOMStringList_1 = require(\"./lib/fakeDOMStringList\");\nvar FakeEventTarget_1 = require(\"./lib/FakeEventTarget\");\nvar ObjectStore_1 = require(\"./lib/ObjectStore\");\nvar scheduling_1 = require(\"./lib/scheduling\");\nvar validateKeyPath_1 = require(\"./lib/validateKeyPath\");\nvar confirmActiveVersionchangeTransaction = function (database) {\n    if (!database._runningVersionchangeTransaction) {\n        throw new errors_1.InvalidStateError();\n    }\n    // Find the latest versionchange transaction\n    var transactions = database._rawDatabase.transactions.filter(function (tx) {\n        return tx.mode === \"versionchange\";\n    });\n    var transaction = transactions[transactions.length - 1];\n    if (!transaction || transaction._state === \"finished\") {\n        throw new errors_1.InvalidStateError();\n    }\n    if (transaction._state !== \"active\") {\n        throw new errors_1.TransactionInactiveError();\n    }\n    return transaction;\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#database-closing-steps\nvar closeConnection = function (connection) {\n    connection._closePending = true;\n    var transactionsComplete = connection._rawDatabase.transactions.every(function (transaction) {\n        return transaction._state === \"finished\";\n    });\n    if (transactionsComplete) {\n        connection._closed = true;\n        connection._rawDatabase.connections = connection._rawDatabase.connections.filter(function (otherConnection) {\n            return connection !== otherConnection;\n        });\n    }\n    else {\n        scheduling_1.queueTask(function () {\n            closeConnection(connection);\n        });\n    }\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#database-interface\nvar FDBDatabase = /** @class */ (function (_super) {\n    __extends(FDBDatabase, _super);\n    function FDBDatabase(rawDatabase) {\n        var _this = _super.call(this) || this;\n        _this._closePending = false;\n        _this._closed = false;\n        _this._runningVersionchangeTransaction = false;\n        _this._rawDatabase = rawDatabase;\n        _this._rawDatabase.connections.push(_this);\n        _this.name = rawDatabase.name;\n        _this.version = rawDatabase.version;\n        _this.objectStoreNames = fakeDOMStringList_1.default(Array.from(rawDatabase.rawObjectStores.keys())).sort();\n        return _this;\n    }\n    // http://w3c.github.io/IndexedDB/#dom-idbdatabase-createobjectstore\n    FDBDatabase.prototype.createObjectStore = function (name, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        if (name === undefined) {\n            throw new TypeError();\n        }\n        var transaction = confirmActiveVersionchangeTransaction(this);\n        var keyPath = options !== null && options.keyPath !== undefined\n            ? options.keyPath\n            : null;\n        var autoIncrement = options !== null && options.autoIncrement !== undefined\n            ? options.autoIncrement\n            : false;\n        if (keyPath !== null) {\n            validateKeyPath_1.default(keyPath);\n        }\n        if (this._rawDatabase.rawObjectStores.has(name)) {\n            throw new errors_1.ConstraintError();\n        }\n        if (autoIncrement && (keyPath === \"\" || Array.isArray(keyPath))) {\n            throw new errors_1.InvalidAccessError();\n        }\n        var objectStoreNames = this.objectStoreNames.slice();\n        transaction._rollbackLog.push(function () {\n            var objectStore = _this._rawDatabase.rawObjectStores.get(name);\n            if (objectStore) {\n                objectStore.deleted = true;\n            }\n            _this.objectStoreNames = fakeDOMStringList_1.default(objectStoreNames);\n            transaction._scope.delete(name);\n            _this._rawDatabase.rawObjectStores.delete(name);\n        });\n        var rawObjectStore = new ObjectStore_1.default(this._rawDatabase, name, keyPath, autoIncrement);\n        this.objectStoreNames.push(name);\n        this.objectStoreNames.sort();\n        transaction._scope.add(name);\n        this._rawDatabase.rawObjectStores.set(name, rawObjectStore);\n        transaction.objectStoreNames = fakeDOMStringList_1.default(this.objectStoreNames.slice());\n        return transaction.objectStore(name);\n    };\n    FDBDatabase.prototype.deleteObjectStore = function (name) {\n        var _this = this;\n        if (name === undefined) {\n            throw new TypeError();\n        }\n        var transaction = confirmActiveVersionchangeTransaction(this);\n        var store = this._rawDatabase.rawObjectStores.get(name);\n        if (store === undefined) {\n            throw new errors_1.NotFoundError();\n        }\n        this.objectStoreNames = fakeDOMStringList_1.default(this.objectStoreNames.filter(function (objectStoreName) {\n            return objectStoreName !== name;\n        }));\n        transaction.objectStoreNames = fakeDOMStringList_1.default(this.objectStoreNames.slice());\n        transaction._rollbackLog.push(function () {\n            store.deleted = false;\n            _this._rawDatabase.rawObjectStores.set(name, store);\n            _this.objectStoreNames.push(name);\n            _this.objectStoreNames.sort();\n        });\n        store.deleted = true;\n        this._rawDatabase.rawObjectStores.delete(name);\n        transaction._objectStoresCache.delete(name);\n    };\n    FDBDatabase.prototype.transaction = function (storeNames, mode) {\n        var e_1, _a;\n        var _this = this;\n        mode = mode !== undefined ? mode : \"readonly\";\n        if (mode !== \"readonly\" &&\n            mode !== \"readwrite\" &&\n            mode !== \"versionchange\") {\n            throw new TypeError(\"Invalid mode: \" + mode);\n        }\n        var hasActiveVersionchange = this._rawDatabase.transactions.some(function (transaction) {\n            return (transaction._state === \"active\" &&\n                transaction.mode === \"versionchange\" &&\n                transaction.db === _this);\n        });\n        if (hasActiveVersionchange) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (this._closePending) {\n            throw new errors_1.InvalidStateError();\n        }\n        if (!Array.isArray(storeNames)) {\n            storeNames = [storeNames];\n        }\n        if (storeNames.length === 0 && mode !== \"versionchange\") {\n            throw new errors_1.InvalidAccessError();\n        }\n        try {\n            for (var storeNames_1 = __values(storeNames), storeNames_1_1 = storeNames_1.next(); !storeNames_1_1.done; storeNames_1_1 = storeNames_1.next()) {\n                var storeName = storeNames_1_1.value;\n                if (this.objectStoreNames.indexOf(storeName) < 0) {\n                    throw new errors_1.NotFoundError(\"No objectStore named \" + storeName + \" in this database\");\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (storeNames_1_1 && !storeNames_1_1.done && (_a = storeNames_1.return)) _a.call(storeNames_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var tx = new FDBTransaction_1.default(storeNames, mode, this);\n        this._rawDatabase.transactions.push(tx);\n        this._rawDatabase.processTransactions(); // See if can start right away (async)\n        return tx;\n    };\n    FDBDatabase.prototype.close = function () {\n        closeConnection(this);\n    };\n    FDBDatabase.prototype.toString = function () {\n        return \"[object IDBDatabase]\";\n    };\n    return FDBDatabase;\n}(FakeEventTarget_1.default));\nexports.default = FDBDatabase;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBDatabase_1 = require(\"./FDBDatabase\");\nvar FDBOpenDBRequest_1 = require(\"./FDBOpenDBRequest\");\nvar FDBVersionChangeEvent_1 = require(\"./FDBVersionChangeEvent\");\nvar cmp_1 = require(\"./lib/cmp\");\nvar Database_1 = require(\"./lib/Database\");\nvar enforceRange_1 = require(\"./lib/enforceRange\");\nvar errors_1 = require(\"./lib/errors\");\nvar FakeEvent_1 = require(\"./lib/FakeEvent\");\nvar scheduling_1 = require(\"./lib/scheduling\");\nvar waitForOthersClosedDelete = function (databases, name, openDatabases, cb) {\n    var anyOpen = openDatabases.some(function (openDatabase2) {\n        return !openDatabase2._closed && !openDatabase2._closePending;\n    });\n    if (anyOpen) {\n        scheduling_1.queueTask(function () {\n            return waitForOthersClosedDelete(databases, name, openDatabases, cb);\n        });\n        return;\n    }\n    databases.delete(name);\n    cb(null);\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-deleting-a-database\nvar deleteDatabase = function (databases, name, request, cb) {\n    var e_1, _a;\n    try {\n        var db = databases.get(name);\n        if (db === undefined) {\n            cb(null);\n            return;\n        }\n        db.deletePending = true;\n        var openDatabases = db.connections.filter(function (connection) {\n            return !connection._closed && !connection._closePending;\n        });\n        try {\n            for (var openDatabases_1 = __values(openDatabases), openDatabases_1_1 = openDatabases_1.next(); !openDatabases_1_1.done; openDatabases_1_1 = openDatabases_1.next()) {\n                var openDatabase2 = openDatabases_1_1.value;\n                if (!openDatabase2._closePending) {\n                    var event_1 = new FDBVersionChangeEvent_1.default(\"versionchange\", {\n                        newVersion: null,\n                        oldVersion: db.version,\n                    });\n                    openDatabase2.dispatchEvent(event_1);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (openDatabases_1_1 && !openDatabases_1_1.done && (_a = openDatabases_1.return)) _a.call(openDatabases_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var anyOpen = openDatabases.some(function (openDatabase3) {\n            return !openDatabase3._closed && !openDatabase3._closePending;\n        });\n        if (request && anyOpen) {\n            var event_2 = new FDBVersionChangeEvent_1.default(\"blocked\", {\n                newVersion: null,\n                oldVersion: db.version,\n            });\n            request.dispatchEvent(event_2);\n        }\n        waitForOthersClosedDelete(databases, name, openDatabases, cb);\n    }\n    catch (err) {\n        cb(err);\n    }\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-running-a-versionchange-transaction\nvar runVersionchangeTransaction = function (connection, version, request, cb) {\n    var e_2, _a;\n    connection._runningVersionchangeTransaction = true;\n    var oldVersion = connection.version;\n    var openDatabases = connection._rawDatabase.connections.filter(function (otherDatabase) {\n        return connection !== otherDatabase;\n    });\n    try {\n        for (var openDatabases_2 = __values(openDatabases), openDatabases_2_1 = openDatabases_2.next(); !openDatabases_2_1.done; openDatabases_2_1 = openDatabases_2.next()) {\n            var openDatabase2 = openDatabases_2_1.value;\n            if (!openDatabase2._closed && !openDatabase2._closePending) {\n                var event_3 = new FDBVersionChangeEvent_1.default(\"versionchange\", {\n                    newVersion: version,\n                    oldVersion: oldVersion,\n                });\n                openDatabase2.dispatchEvent(event_3);\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (openDatabases_2_1 && !openDatabases_2_1.done && (_a = openDatabases_2.return)) _a.call(openDatabases_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    var anyOpen = openDatabases.some(function (openDatabase3) {\n        return !openDatabase3._closed && !openDatabase3._closePending;\n    });\n    if (anyOpen) {\n        var event_4 = new FDBVersionChangeEvent_1.default(\"blocked\", {\n            newVersion: version,\n            oldVersion: oldVersion,\n        });\n        request.dispatchEvent(event_4);\n    }\n    var waitForOthersClosed = function () {\n        var anyOpen2 = openDatabases.some(function (openDatabase2) {\n            return !openDatabase2._closed && !openDatabase2._closePending;\n        });\n        if (anyOpen2) {\n            scheduling_1.queueTask(waitForOthersClosed);\n            return;\n        }\n        // Set the version of database to version. This change is considered part of the transaction, and so if the\n        // transaction is aborted, this change is reverted.\n        connection._rawDatabase.version = version;\n        connection.version = version;\n        // Get rid of this setImmediate?\n        var transaction = connection.transaction(connection.objectStoreNames, \"versionchange\");\n        request.result = connection;\n        request.readyState = \"done\";\n        request.transaction = transaction;\n        transaction._rollbackLog.push(function () {\n            connection._rawDatabase.version = oldVersion;\n            connection.version = oldVersion;\n        });\n        var event = new FDBVersionChangeEvent_1.default(\"upgradeneeded\", {\n            newVersion: version,\n            oldVersion: oldVersion,\n        });\n        request.dispatchEvent(event);\n        transaction.addEventListener(\"error\", function () {\n            connection._runningVersionchangeTransaction = false;\n            // throw arguments[0].target.error;\n            // console.log(\"error in versionchange transaction - not sure if anything needs to be done here\", e.target.error.name);\n        });\n        transaction.addEventListener(\"abort\", function () {\n            connection._runningVersionchangeTransaction = false;\n            request.transaction = null;\n            scheduling_1.queueTask(function () {\n                cb(new errors_1.AbortError());\n            });\n        });\n        transaction.addEventListener(\"complete\", function () {\n            connection._runningVersionchangeTransaction = false;\n            request.transaction = null;\n            // Let other complete event handlers run before continuing\n            scheduling_1.queueTask(function () {\n                if (connection._closePending) {\n                    cb(new errors_1.AbortError());\n                }\n                else {\n                    cb(null);\n                }\n            });\n        });\n    };\n    waitForOthersClosed();\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-opening-a-database\nvar openDatabase = function (databases, name, version, request, cb) {\n    var db = databases.get(name);\n    if (db === undefined) {\n        db = new Database_1.default(name, 0);\n        databases.set(name, db);\n    }\n    if (version === undefined) {\n        version = db.version !== 0 ? db.version : 1;\n    }\n    if (db.version > version) {\n        return cb(new errors_1.VersionError());\n    }\n    var connection = new FDBDatabase_1.default(db);\n    if (db.version < version) {\n        runVersionchangeTransaction(connection, version, request, function (err) {\n            if (err) {\n                // DO THIS HERE: ensure that connection is closed by running the steps for closing a database connection before these\n                // steps are aborted.\n                return cb(err);\n            }\n            cb(null, connection);\n        });\n    }\n    else {\n        cb(null, connection);\n    }\n};\nvar FDBFactory = /** @class */ (function () {\n    function FDBFactory() {\n        this.cmp = cmp_1.default;\n        this._databases = new Map();\n    }\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBFactory-deleteDatabase-IDBOpenDBRequest-DOMString-name\n    FDBFactory.prototype.deleteDatabase = function (name) {\n        var _this = this;\n        var request = new FDBOpenDBRequest_1.default();\n        request.source = null;\n        scheduling_1.queueTask(function () {\n            var db = _this._databases.get(name);\n            var oldVersion = db !== undefined ? db.version : 0;\n            deleteDatabase(_this._databases, name, request, function (err) {\n                if (err) {\n                    request.error = new Error();\n                    request.error.name = err.name;\n                    request.readyState = \"done\";\n                    var event_5 = new FakeEvent_1.default(\"error\", {\n                        bubbles: true,\n                        cancelable: true,\n                    });\n                    event_5.eventPath = [];\n                    request.dispatchEvent(event_5);\n                    return;\n                }\n                request.result = undefined;\n                request.readyState = \"done\";\n                var event2 = new FDBVersionChangeEvent_1.default(\"success\", {\n                    newVersion: null,\n                    oldVersion: oldVersion,\n                });\n                request.dispatchEvent(event2);\n            });\n        });\n        return request;\n    };\n    // tslint:disable-next-line max-line-length\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBFactory-open-IDBOpenDBRequest-DOMString-name-unsigned-long-long-version\n    FDBFactory.prototype.open = function (name, version) {\n        var _this = this;\n        if (arguments.length > 1 && version !== undefined) {\n            // Based on spec, not sure why \"MAX_SAFE_INTEGER\" instead of \"unsigned long long\", but it's needed to pass\n            // tests\n            version = enforceRange_1.default(version, \"MAX_SAFE_INTEGER\");\n        }\n        if (version === 0) {\n            throw new TypeError();\n        }\n        var request = new FDBOpenDBRequest_1.default();\n        request.source = null;\n        scheduling_1.queueTask(function () {\n            openDatabase(_this._databases, name, version, request, function (err, connection) {\n                if (err) {\n                    request.result = undefined;\n                    request.readyState = \"done\";\n                    request.error = new Error();\n                    request.error.name = err.name;\n                    var event_6 = new FakeEvent_1.default(\"error\", {\n                        bubbles: true,\n                        cancelable: true,\n                    });\n                    event_6.eventPath = [];\n                    request.dispatchEvent(event_6);\n                    return;\n                }\n                request.result = connection;\n                request.readyState = \"done\";\n                var event2 = new FakeEvent_1.default(\"success\");\n                event2.eventPath = [];\n                request.dispatchEvent(event2);\n            });\n        });\n        return request;\n    };\n    // https://w3c.github.io/IndexedDB/#dom-idbfactory-databases\n    FDBFactory.prototype.databases = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var e_3, _a;\n            var result = [];\n            try {\n                for (var _b = __values(_this._databases), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var _d = __read(_c.value, 2), name_1 = _d[0], database = _d[1];\n                    result.push({\n                        name: name_1,\n                        version: database.version,\n                    });\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            resolve(result);\n        });\n    };\n    FDBFactory.prototype.toString = function () {\n        return \"[object IDBFactory]\";\n    };\n    return FDBFactory;\n}());\nexports.default = FDBFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBCursor_1 = require(\"./FDBCursor\");\nvar FDBCursorWithValue_1 = require(\"./FDBCursorWithValue\");\nvar FDBKeyRange_1 = require(\"./FDBKeyRange\");\nvar FDBRequest_1 = require(\"./FDBRequest\");\nvar enforceRange_1 = require(\"./lib/enforceRange\");\nvar errors_1 = require(\"./lib/errors\");\nvar fakeDOMStringList_1 = require(\"./lib/fakeDOMStringList\");\nvar valueToKey_1 = require(\"./lib/valueToKey\");\nvar valueToKeyRange_1 = require(\"./lib/valueToKeyRange\");\nvar confirmActiveTransaction = function (index) {\n    if (index._rawIndex.deleted || index.objectStore._rawObjectStore.deleted) {\n        throw new errors_1.InvalidStateError();\n    }\n    if (index.objectStore.transaction._state !== \"active\") {\n        throw new errors_1.TransactionInactiveError();\n    }\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#idl-def-IDBIndex\nvar FDBIndex = /** @class */ (function () {\n    function FDBIndex(objectStore, rawIndex) {\n        this._rawIndex = rawIndex;\n        this._name = rawIndex.name;\n        this.objectStore = objectStore;\n        this.keyPath = rawIndex.keyPath;\n        this.multiEntry = rawIndex.multiEntry;\n        this.unique = rawIndex.unique;\n    }\n    Object.defineProperty(FDBIndex.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        // https://w3c.github.io/IndexedDB/#dom-idbindex-name\n        set: function (name) {\n            var _this = this;\n            var transaction = this.objectStore.transaction;\n            if (!transaction.db._runningVersionchangeTransaction) {\n                throw new errors_1.InvalidStateError();\n            }\n            if (transaction._state !== \"active\") {\n                throw new errors_1.TransactionInactiveError();\n            }\n            if (this._rawIndex.deleted ||\n                this.objectStore._rawObjectStore.deleted) {\n                throw new errors_1.InvalidStateError();\n            }\n            name = String(name);\n            if (name === this._name) {\n                return;\n            }\n            if (this.objectStore.indexNames.indexOf(name) >= 0) {\n                throw new errors_1.ConstraintError();\n            }\n            var oldName = this._name;\n            var oldIndexNames = this.objectStore.indexNames.slice();\n            this._name = name;\n            this._rawIndex.name = name;\n            this.objectStore._indexesCache.delete(oldName);\n            this.objectStore._indexesCache.set(name, this);\n            this.objectStore._rawObjectStore.rawIndexes.delete(oldName);\n            this.objectStore._rawObjectStore.rawIndexes.set(name, this._rawIndex);\n            this.objectStore.indexNames = fakeDOMStringList_1.default(Array.from(this.objectStore._rawObjectStore.rawIndexes.keys()).filter(function (indexName) {\n                var index = _this.objectStore._rawObjectStore.rawIndexes.get(indexName);\n                return index && !index.deleted;\n            })).sort();\n            transaction._rollbackLog.push(function () {\n                _this._name = oldName;\n                _this._rawIndex.name = oldName;\n                _this.objectStore._indexesCache.delete(name);\n                _this.objectStore._indexesCache.set(oldName, _this);\n                _this.objectStore._rawObjectStore.rawIndexes.delete(name);\n                _this.objectStore._rawObjectStore.rawIndexes.set(oldName, _this._rawIndex);\n                _this.objectStore.indexNames = fakeDOMStringList_1.default(oldIndexNames);\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // tslint:disable-next-line max-line-length\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBIndex-openCursor-IDBRequest-any-range-IDBCursorDirection-direction\n    FDBIndex.prototype.openCursor = function (range, direction) {\n        confirmActiveTransaction(this);\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof FDBKeyRange_1.default)) {\n            range = FDBKeyRange_1.default.only(valueToKey_1.default(range));\n        }\n        var request = new FDBRequest_1.default();\n        request.source = this;\n        request.transaction = this.objectStore.transaction;\n        var cursor = new FDBCursorWithValue_1.default(this, range, direction, request);\n        return this.objectStore.transaction._execRequestAsync({\n            operation: cursor._iterate.bind(cursor),\n            request: request,\n            source: this,\n        });\n    };\n    // tslint:disable-next-line max-line-length\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBIndex-openKeyCursor-IDBRequest-any-range-IDBCursorDirection-direction\n    FDBIndex.prototype.openKeyCursor = function (range, direction) {\n        confirmActiveTransaction(this);\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof FDBKeyRange_1.default)) {\n            range = FDBKeyRange_1.default.only(valueToKey_1.default(range));\n        }\n        var request = new FDBRequest_1.default();\n        request.source = this;\n        request.transaction = this.objectStore.transaction;\n        var cursor = new FDBCursor_1.default(this, range, direction, request, true);\n        return this.objectStore.transaction._execRequestAsync({\n            operation: cursor._iterate.bind(cursor),\n            request: request,\n            source: this,\n        });\n    };\n    FDBIndex.prototype.get = function (key) {\n        confirmActiveTransaction(this);\n        if (!(key instanceof FDBKeyRange_1.default)) {\n            key = valueToKey_1.default(key);\n        }\n        return this.objectStore.transaction._execRequestAsync({\n            operation: this._rawIndex.getValue.bind(this._rawIndex, key),\n            source: this,\n        });\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbindex-getall\n    FDBIndex.prototype.getAll = function (query, count) {\n        if (arguments.length > 1 && count !== undefined) {\n            count = enforceRange_1.default(count, \"unsigned long\");\n        }\n        confirmActiveTransaction(this);\n        var range = valueToKeyRange_1.default(query);\n        return this.objectStore.transaction._execRequestAsync({\n            operation: this._rawIndex.getAllValues.bind(this._rawIndex, range, count),\n            source: this,\n        });\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBIndex-getKey-IDBRequest-any-key\n    FDBIndex.prototype.getKey = function (key) {\n        confirmActiveTransaction(this);\n        if (!(key instanceof FDBKeyRange_1.default)) {\n            key = valueToKey_1.default(key);\n        }\n        return this.objectStore.transaction._execRequestAsync({\n            operation: this._rawIndex.getKey.bind(this._rawIndex, key),\n            source: this,\n        });\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbindex-getallkeys\n    FDBIndex.prototype.getAllKeys = function (query, count) {\n        if (arguments.length > 1 && count !== undefined) {\n            count = enforceRange_1.default(count, \"unsigned long\");\n        }\n        confirmActiveTransaction(this);\n        var range = valueToKeyRange_1.default(query);\n        return this.objectStore.transaction._execRequestAsync({\n            operation: this._rawIndex.getAllKeys.bind(this._rawIndex, range, count),\n            source: this,\n        });\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBIndex-count-IDBRequest-any-key\n    FDBIndex.prototype.count = function (key) {\n        var _this = this;\n        confirmActiveTransaction(this);\n        if (key === null) {\n            key = undefined;\n        }\n        if (key !== undefined && !(key instanceof FDBKeyRange_1.default)) {\n            key = FDBKeyRange_1.default.only(valueToKey_1.default(key));\n        }\n        return this.objectStore.transaction._execRequestAsync({\n            operation: function () {\n                var count = 0;\n                var cursor = new FDBCursor_1.default(_this, key);\n                while (cursor._iterate() !== null) {\n                    count += 1;\n                }\n                return count;\n            },\n            source: this,\n        });\n    };\n    FDBIndex.prototype.toString = function () {\n        return \"[object IDBIndex]\";\n    };\n    return FDBIndex;\n}());\nexports.default = FDBIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cmp_1 = require(\"./lib/cmp\");\nvar errors_1 = require(\"./lib/errors\");\nvar valueToKey_1 = require(\"./lib/valueToKey\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#range-concept\nvar FDBKeyRange = /** @class */ (function () {\n    function FDBKeyRange(lower, upper, lowerOpen, upperOpen) {\n        this.lower = lower;\n        this.upper = upper;\n        this.lowerOpen = lowerOpen;\n        this.upperOpen = upperOpen;\n    }\n    FDBKeyRange.only = function (value) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        value = valueToKey_1.default(value);\n        return new FDBKeyRange(value, value, false, false);\n    };\n    FDBKeyRange.lowerBound = function (lower, open) {\n        if (open === void 0) { open = false; }\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        lower = valueToKey_1.default(lower);\n        return new FDBKeyRange(lower, undefined, open, true);\n    };\n    FDBKeyRange.upperBound = function (upper, open) {\n        if (open === void 0) { open = false; }\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        upper = valueToKey_1.default(upper);\n        return new FDBKeyRange(undefined, upper, true, open);\n    };\n    FDBKeyRange.bound = function (lower, upper, lowerOpen, upperOpen) {\n        if (lowerOpen === void 0) { lowerOpen = false; }\n        if (upperOpen === void 0) { upperOpen = false; }\n        if (arguments.length < 2) {\n            throw new TypeError();\n        }\n        var cmpResult = cmp_1.default(lower, upper);\n        if (cmpResult === 1 || (cmpResult === 0 && (lowerOpen || upperOpen))) {\n            throw new errors_1.DataError();\n        }\n        lower = valueToKey_1.default(lower);\n        upper = valueToKey_1.default(upper);\n        return new FDBKeyRange(lower, upper, lowerOpen, upperOpen);\n    };\n    // https://w3c.github.io/IndexedDB/#dom-idbkeyrange-includes\n    FDBKeyRange.prototype.includes = function (key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        key = valueToKey_1.default(key);\n        if (this.lower !== undefined) {\n            var cmpResult = cmp_1.default(this.lower, key);\n            if (cmpResult === 1 || (cmpResult === 0 && this.lowerOpen)) {\n                return false;\n            }\n        }\n        if (this.upper !== undefined) {\n            var cmpResult = cmp_1.default(this.upper, key);\n            if (cmpResult === -1 || (cmpResult === 0 && this.upperOpen)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    FDBKeyRange.prototype.toString = function () {\n        return \"[object IDBKeyRange]\";\n    };\n    return FDBKeyRange;\n}());\nexports.default = FDBKeyRange;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBCursor_1 = require(\"./FDBCursor\");\nvar FDBCursorWithValue_1 = require(\"./FDBCursorWithValue\");\nvar FDBIndex_1 = require(\"./FDBIndex\");\nvar FDBKeyRange_1 = require(\"./FDBKeyRange\");\nvar FDBRequest_1 = require(\"./FDBRequest\");\nvar canInjectKey_1 = require(\"./lib/canInjectKey\");\nvar enforceRange_1 = require(\"./lib/enforceRange\");\nvar errors_1 = require(\"./lib/errors\");\nvar extractKey_1 = require(\"./lib/extractKey\");\nvar fakeDOMStringList_1 = require(\"./lib/fakeDOMStringList\");\nvar Index_1 = require(\"./lib/Index\");\nvar structuredClone_1 = require(\"./lib/structuredClone\");\nvar validateKeyPath_1 = require(\"./lib/validateKeyPath\");\nvar valueToKey_1 = require(\"./lib/valueToKey\");\nvar valueToKeyRange_1 = require(\"./lib/valueToKeyRange\");\nvar confirmActiveTransaction = function (objectStore) {\n    if (objectStore._rawObjectStore.deleted) {\n        throw new errors_1.InvalidStateError();\n    }\n    if (objectStore.transaction._state !== \"active\") {\n        throw new errors_1.TransactionInactiveError();\n    }\n};\nvar buildRecordAddPut = function (objectStore, value, key) {\n    confirmActiveTransaction(objectStore);\n    if (objectStore.transaction.mode === \"readonly\") {\n        throw new errors_1.ReadOnlyError();\n    }\n    if (objectStore.keyPath !== null) {\n        if (key !== undefined) {\n            throw new errors_1.DataError();\n        }\n    }\n    var clone = structuredClone_1.default(value);\n    if (objectStore.keyPath !== null) {\n        var tempKey = extractKey_1.default(objectStore.keyPath, clone);\n        if (tempKey !== undefined) {\n            valueToKey_1.default(tempKey);\n        }\n        else {\n            if (!objectStore._rawObjectStore.keyGenerator) {\n                throw new errors_1.DataError();\n            }\n            else if (!canInjectKey_1.default(objectStore.keyPath, clone)) {\n                throw new errors_1.DataError();\n            }\n        }\n    }\n    if (objectStore.keyPath === null &&\n        objectStore._rawObjectStore.keyGenerator === null &&\n        key === undefined) {\n        throw new errors_1.DataError();\n    }\n    if (key !== undefined) {\n        key = valueToKey_1.default(key);\n    }\n    return {\n        key: key,\n        value: clone,\n    };\n};\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#object-store\nvar FDBObjectStore = /** @class */ (function () {\n    function FDBObjectStore(transaction, rawObjectStore) {\n        this._indexesCache = new Map();\n        this._rawObjectStore = rawObjectStore;\n        this._name = rawObjectStore.name;\n        this.keyPath = rawObjectStore.keyPath;\n        this.autoIncrement = rawObjectStore.autoIncrement;\n        this.transaction = transaction;\n        this.indexNames = fakeDOMStringList_1.default(Array.from(rawObjectStore.rawIndexes.keys())).sort();\n    }\n    Object.defineProperty(FDBObjectStore.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        // http://w3c.github.io/IndexedDB/#dom-idbobjectstore-name\n        set: function (name) {\n            var _this = this;\n            var transaction = this.transaction;\n            if (!transaction.db._runningVersionchangeTransaction) {\n                throw new errors_1.InvalidStateError();\n            }\n            confirmActiveTransaction(this);\n            name = String(name);\n            if (name === this._name) {\n                return;\n            }\n            if (this._rawObjectStore.rawDatabase.rawObjectStores.has(name)) {\n                throw new errors_1.ConstraintError();\n            }\n            var oldName = this._name;\n            var oldObjectStoreNames = transaction.db.objectStoreNames.slice();\n            this._name = name;\n            this._rawObjectStore.name = name;\n            this.transaction._objectStoresCache.delete(oldName);\n            this.transaction._objectStoresCache.set(name, this);\n            this._rawObjectStore.rawDatabase.rawObjectStores.delete(oldName);\n            this._rawObjectStore.rawDatabase.rawObjectStores.set(name, this._rawObjectStore);\n            transaction.db.objectStoreNames = fakeDOMStringList_1.default(Array.from(this._rawObjectStore.rawDatabase.rawObjectStores.keys()).filter(function (objectStoreName) {\n                var objectStore = _this._rawObjectStore.rawDatabase.rawObjectStores.get(objectStoreName);\n                return objectStore && !objectStore.deleted;\n            })).sort();\n            var oldScope = new Set(transaction._scope);\n            var oldTransactionObjectStoreNames = transaction.objectStoreNames.slice();\n            this.transaction._scope.delete(oldName);\n            transaction._scope.add(name);\n            transaction.objectStoreNames = fakeDOMStringList_1.default(Array.from(transaction._scope).sort());\n            transaction._rollbackLog.push(function () {\n                _this._name = oldName;\n                _this._rawObjectStore.name = oldName;\n                _this.transaction._objectStoresCache.delete(name);\n                _this.transaction._objectStoresCache.set(oldName, _this);\n                _this._rawObjectStore.rawDatabase.rawObjectStores.delete(name);\n                _this._rawObjectStore.rawDatabase.rawObjectStores.set(oldName, _this._rawObjectStore);\n                transaction.db.objectStoreNames = fakeDOMStringList_1.default(oldObjectStoreNames);\n                transaction._scope = oldScope;\n                transaction.objectStoreNames = fakeDOMStringList_1.default(oldTransactionObjectStoreNames);\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FDBObjectStore.prototype.put = function (value, key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        var record = buildRecordAddPut(this, value, key);\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.storeRecord.bind(this._rawObjectStore, record, false, this.transaction._rollbackLog),\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.add = function (value, key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        var record = buildRecordAddPut(this, value, key);\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.storeRecord.bind(this._rawObjectStore, record, true, this.transaction._rollbackLog),\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.delete = function (key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        confirmActiveTransaction(this);\n        if (this.transaction.mode === \"readonly\") {\n            throw new errors_1.ReadOnlyError();\n        }\n        if (!(key instanceof FDBKeyRange_1.default)) {\n            key = valueToKey_1.default(key);\n        }\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.deleteRecord.bind(this._rawObjectStore, key, this.transaction._rollbackLog),\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.get = function (key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        confirmActiveTransaction(this);\n        if (!(key instanceof FDBKeyRange_1.default)) {\n            key = valueToKey_1.default(key);\n        }\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.getValue.bind(this._rawObjectStore, key),\n            source: this,\n        });\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbobjectstore-getall\n    FDBObjectStore.prototype.getAll = function (query, count) {\n        if (arguments.length > 1 && count !== undefined) {\n            count = enforceRange_1.default(count, \"unsigned long\");\n        }\n        confirmActiveTransaction(this);\n        var range = valueToKeyRange_1.default(query);\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.getAllValues.bind(this._rawObjectStore, range, count),\n            source: this,\n        });\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbobjectstore-getkey\n    FDBObjectStore.prototype.getKey = function (key) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        confirmActiveTransaction(this);\n        if (!(key instanceof FDBKeyRange_1.default)) {\n            key = valueToKey_1.default(key);\n        }\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.getKey.bind(this._rawObjectStore, key),\n            source: this,\n        });\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbobjectstore-getallkeys\n    FDBObjectStore.prototype.getAllKeys = function (query, count) {\n        if (arguments.length > 1 && count !== undefined) {\n            count = enforceRange_1.default(count, \"unsigned long\");\n        }\n        confirmActiveTransaction(this);\n        var range = valueToKeyRange_1.default(query);\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.getAllKeys.bind(this._rawObjectStore, range, count),\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.clear = function () {\n        confirmActiveTransaction(this);\n        if (this.transaction.mode === \"readonly\") {\n            throw new errors_1.ReadOnlyError();\n        }\n        return this.transaction._execRequestAsync({\n            operation: this._rawObjectStore.clear.bind(this._rawObjectStore, this.transaction._rollbackLog),\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.openCursor = function (range, direction) {\n        confirmActiveTransaction(this);\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof FDBKeyRange_1.default)) {\n            range = FDBKeyRange_1.default.only(valueToKey_1.default(range));\n        }\n        var request = new FDBRequest_1.default();\n        request.source = this;\n        request.transaction = this.transaction;\n        var cursor = new FDBCursorWithValue_1.default(this, range, direction, request);\n        return this.transaction._execRequestAsync({\n            operation: cursor._iterate.bind(cursor),\n            request: request,\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.openKeyCursor = function (range, direction) {\n        confirmActiveTransaction(this);\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof FDBKeyRange_1.default)) {\n            range = FDBKeyRange_1.default.only(valueToKey_1.default(range));\n        }\n        var request = new FDBRequest_1.default();\n        request.source = this;\n        request.transaction = this.transaction;\n        var cursor = new FDBCursor_1.default(this, range, direction, request, true);\n        return this.transaction._execRequestAsync({\n            operation: cursor._iterate.bind(cursor),\n            request: request,\n            source: this,\n        });\n    };\n    // tslint:disable-next-line max-line-length\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBObjectStore-createIndex-IDBIndex-DOMString-name-DOMString-sequence-DOMString--keyPath-IDBIndexParameters-optionalParameters\n    FDBObjectStore.prototype.createIndex = function (name, keyPath, optionalParameters) {\n        var _this = this;\n        if (optionalParameters === void 0) { optionalParameters = {}; }\n        if (arguments.length < 2) {\n            throw new TypeError();\n        }\n        var multiEntry = optionalParameters.multiEntry !== undefined\n            ? optionalParameters.multiEntry\n            : false;\n        var unique = optionalParameters.unique !== undefined\n            ? optionalParameters.unique\n            : false;\n        if (this.transaction.mode !== \"versionchange\") {\n            throw new errors_1.InvalidStateError();\n        }\n        confirmActiveTransaction(this);\n        if (this.indexNames.indexOf(name) >= 0) {\n            throw new errors_1.ConstraintError();\n        }\n        validateKeyPath_1.default(keyPath);\n        if (Array.isArray(keyPath) && multiEntry) {\n            throw new errors_1.InvalidAccessError();\n        }\n        // The index that is requested to be created can contain constraints on the data allowed in the index's\n        // referenced object store, such as requiring uniqueness of the values referenced by the index's keyPath. If the\n        // referenced object store already contains data which violates these constraints, this MUST NOT cause the\n        // implementation of createIndex to throw an exception or affect what it returns. The implementation MUST still\n        // create and return an IDBIndex object. Instead the implementation must queue up an operation to abort the\n        // \"versionchange\" transaction which was used for the createIndex call.\n        var indexNames = this.indexNames.slice();\n        this.transaction._rollbackLog.push(function () {\n            var index2 = _this._rawObjectStore.rawIndexes.get(name);\n            if (index2) {\n                index2.deleted = true;\n            }\n            _this.indexNames = fakeDOMStringList_1.default(indexNames);\n            _this._rawObjectStore.rawIndexes.delete(name);\n        });\n        var index = new Index_1.default(this._rawObjectStore, name, keyPath, multiEntry, unique);\n        this.indexNames.push(name);\n        this.indexNames.sort();\n        this._rawObjectStore.rawIndexes.set(name, index);\n        index.initialize(this.transaction); // This is async by design\n        return new FDBIndex_1.default(this, index);\n    };\n    // https://w3c.github.io/IndexedDB/#dom-idbobjectstore-index\n    FDBObjectStore.prototype.index = function (name) {\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        if (this._rawObjectStore.deleted ||\n            this.transaction._state === \"finished\") {\n            throw new errors_1.InvalidStateError();\n        }\n        var index = this._indexesCache.get(name);\n        if (index !== undefined) {\n            return index;\n        }\n        var rawIndex = this._rawObjectStore.rawIndexes.get(name);\n        if (this.indexNames.indexOf(name) < 0 || rawIndex === undefined) {\n            throw new errors_1.NotFoundError();\n        }\n        var index2 = new FDBIndex_1.default(this, rawIndex);\n        this._indexesCache.set(name, index2);\n        return index2;\n    };\n    FDBObjectStore.prototype.deleteIndex = function (name) {\n        var _this = this;\n        if (arguments.length === 0) {\n            throw new TypeError();\n        }\n        if (this.transaction.mode !== \"versionchange\") {\n            throw new errors_1.InvalidStateError();\n        }\n        confirmActiveTransaction(this);\n        var rawIndex = this._rawObjectStore.rawIndexes.get(name);\n        if (rawIndex === undefined) {\n            throw new errors_1.NotFoundError();\n        }\n        this.transaction._rollbackLog.push(function () {\n            rawIndex.deleted = false;\n            _this._rawObjectStore.rawIndexes.set(name, rawIndex);\n            _this.indexNames.push(name);\n            _this.indexNames.sort();\n        });\n        this.indexNames = fakeDOMStringList_1.default(this.indexNames.filter(function (indexName) {\n            return indexName !== name;\n        }));\n        rawIndex.deleted = true; // Not sure if this is supposed to happen synchronously\n        this.transaction._execRequestAsync({\n            operation: function () {\n                var rawIndex2 = _this._rawObjectStore.rawIndexes.get(name);\n                // Hack in case another index is given this name before this async request is processed. It'd be better\n                // to have a real unique ID for each index.\n                if (rawIndex === rawIndex2) {\n                    _this._rawObjectStore.rawIndexes.delete(name);\n                }\n            },\n            source: this,\n        });\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#widl-IDBObjectStore-count-IDBRequest-any-key\n    FDBObjectStore.prototype.count = function (key) {\n        var _this = this;\n        confirmActiveTransaction(this);\n        if (key === null) {\n            key = undefined;\n        }\n        if (key !== undefined && !(key instanceof FDBKeyRange_1.default)) {\n            key = FDBKeyRange_1.default.only(valueToKey_1.default(key));\n        }\n        return this.transaction._execRequestAsync({\n            operation: function () {\n                var count = 0;\n                var cursor = new FDBCursor_1.default(_this, key);\n                while (cursor._iterate() !== null) {\n                    count += 1;\n                }\n                return count;\n            },\n            source: this,\n        });\n    };\n    FDBObjectStore.prototype.toString = function () {\n        return \"[object IDBObjectStore]\";\n    };\n    return FDBObjectStore;\n}());\nexports.default = FDBObjectStore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBRequest_1 = require(\"./FDBRequest\");\nvar FDBOpenDBRequest = /** @class */ (function (_super) {\n    __extends(FDBOpenDBRequest, _super);\n    function FDBOpenDBRequest() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onupgradeneeded = null;\n        _this.onblocked = null;\n        return _this;\n    }\n    FDBOpenDBRequest.prototype.toString = function () {\n        return \"[object IDBOpenDBRequest]\";\n    };\n    return FDBOpenDBRequest;\n}(FDBRequest_1.default));\nexports.default = FDBOpenDBRequest;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./lib/errors\");\nvar FakeEventTarget_1 = require(\"./lib/FakeEventTarget\");\nvar FDBRequest = /** @class */ (function (_super) {\n    __extends(FDBRequest, _super);\n    function FDBRequest() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._result = null;\n        _this._error = null;\n        _this.source = null;\n        _this.transaction = null;\n        _this.readyState = \"pending\";\n        _this.onsuccess = null;\n        _this.onerror = null;\n        return _this;\n    }\n    Object.defineProperty(FDBRequest.prototype, \"error\", {\n        get: function () {\n            if (this.readyState === \"pending\") {\n                throw new errors_1.InvalidStateError();\n            }\n            return this._error;\n        },\n        set: function (value) {\n            this._error = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FDBRequest.prototype, \"result\", {\n        get: function () {\n            if (this.readyState === \"pending\") {\n                throw new errors_1.InvalidStateError();\n            }\n            return this._result;\n        },\n        set: function (value) {\n            this._result = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FDBRequest.prototype.toString = function () {\n        return \"[object IDBRequest]\";\n    };\n    return FDBRequest;\n}(FakeEventTarget_1.default));\nexports.default = FDBRequest;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBObjectStore_1 = require(\"./FDBObjectStore\");\nvar FDBRequest_1 = require(\"./FDBRequest\");\nvar errors_1 = require(\"./lib/errors\");\nvar fakeDOMStringList_1 = require(\"./lib/fakeDOMStringList\");\nvar FakeEvent_1 = require(\"./lib/FakeEvent\");\nvar FakeEventTarget_1 = require(\"./lib/FakeEventTarget\");\nvar scheduling_1 = require(\"./lib/scheduling\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#transaction\nvar FDBTransaction = /** @class */ (function (_super) {\n    __extends(FDBTransaction, _super);\n    function FDBTransaction(storeNames, mode, db) {\n        var _this = _super.call(this) || this;\n        _this._state = \"active\";\n        _this._started = false;\n        _this._rollbackLog = [];\n        _this._objectStoresCache = new Map();\n        _this.error = null;\n        _this.onabort = null;\n        _this.oncomplete = null;\n        _this.onerror = null;\n        _this._requests = [];\n        _this._scope = new Set(storeNames);\n        _this.mode = mode;\n        _this.db = db;\n        _this.objectStoreNames = fakeDOMStringList_1.default(Array.from(_this._scope).sort());\n        return _this;\n    }\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-aborting-a-transaction\n    FDBTransaction.prototype._abort = function (errName) {\n        var e_1, _a, e_2, _b;\n        var _this = this;\n        try {\n            for (var _c = __values(this._rollbackLog.reverse()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var f = _d.value;\n                f();\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (errName !== null) {\n            var e = new Error();\n            e.name = errName;\n            this.error = e;\n        }\n        try {\n            // Should this directly remove from _requests?\n            for (var _e = __values(this._requests), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var request = _f.value.request;\n                if (request.readyState !== \"done\") {\n                    request.readyState = \"done\"; // This will cancel execution of this request's operation\n                    if (request.source) {\n                        request.result = undefined;\n                        request.error = new errors_1.AbortError();\n                        var event_1 = new FakeEvent_1.default(\"error\", {\n                            bubbles: true,\n                            cancelable: true,\n                        });\n                        event_1.eventPath = [this.db, this];\n                        request.dispatchEvent(event_1);\n                    }\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        scheduling_1.queueTask(function () {\n            var event = new FakeEvent_1.default(\"abort\", {\n                bubbles: true,\n                cancelable: false,\n            });\n            event.eventPath = [_this.db];\n            _this.dispatchEvent(event);\n        });\n        this._state = \"finished\";\n    };\n    FDBTransaction.prototype.abort = function () {\n        if (this._state === \"committing\" || this._state === \"finished\") {\n            throw new errors_1.InvalidStateError();\n        }\n        this._state = \"active\";\n        this._abort(null);\n    };\n    // http://w3c.github.io/IndexedDB/#dom-idbtransaction-objectstore\n    FDBTransaction.prototype.objectStore = function (name) {\n        if (this._state !== \"active\") {\n            throw new errors_1.InvalidStateError();\n        }\n        var objectStore = this._objectStoresCache.get(name);\n        if (objectStore !== undefined) {\n            return objectStore;\n        }\n        var rawObjectStore = this.db._rawDatabase.rawObjectStores.get(name);\n        if (!this._scope.has(name) || rawObjectStore === undefined) {\n            throw new errors_1.NotFoundError();\n        }\n        var objectStore2 = new FDBObjectStore_1.default(this, rawObjectStore);\n        this._objectStoresCache.set(name, objectStore2);\n        return objectStore2;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-asynchronously-executing-a-request\n    FDBTransaction.prototype._execRequestAsync = function (obj) {\n        var source = obj.source;\n        var operation = obj.operation;\n        var request = obj.hasOwnProperty(\"request\") ? obj.request : null;\n        if (this._state !== \"active\") {\n            throw new errors_1.TransactionInactiveError();\n        }\n        // Request should only be passed for cursors\n        if (!request) {\n            if (!source) {\n                // Special requests like indexes that just need to run some code\n                request = new FDBRequest_1.default();\n            }\n            else {\n                request = new FDBRequest_1.default();\n                request.source = source;\n                request.transaction = source.transaction;\n            }\n        }\n        this._requests.push({\n            operation: operation,\n            request: request,\n        });\n        return request;\n    };\n    FDBTransaction.prototype._start = function () {\n        this._started = true;\n        // Remove from request queue - cursor ones will be added back if necessary by cursor.continue and such\n        var operation;\n        var request;\n        while (this._requests.length > 0) {\n            var r = this._requests.shift();\n            // This should only be false if transaction was aborted\n            if (r && r.request.readyState !== \"done\") {\n                request = r.request;\n                operation = r.operation;\n                break;\n            }\n        }\n        if (request && operation) {\n            if (!request.source) {\n                // Special requests like indexes that just need to run some code, with error handling already built into\n                // operation\n                operation();\n            }\n            else {\n                var defaultAction = void 0;\n                var event_2;\n                try {\n                    var result = operation();\n                    request.readyState = \"done\";\n                    request.result = result;\n                    request.error = undefined;\n                    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-fire-a-success-event\n                    if (this._state === \"inactive\") {\n                        this._state = \"active\";\n                    }\n                    event_2 = new FakeEvent_1.default(\"success\", {\n                        bubbles: false,\n                        cancelable: false,\n                    });\n                }\n                catch (err) {\n                    request.readyState = \"done\";\n                    request.result = undefined;\n                    request.error = err;\n                    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-fire-an-error-event\n                    if (this._state === \"inactive\") {\n                        this._state = \"active\";\n                    }\n                    event_2 = new FakeEvent_1.default(\"error\", {\n                        bubbles: true,\n                        cancelable: true,\n                    });\n                    defaultAction = this._abort.bind(this, err.name);\n                }\n                try {\n                    event_2.eventPath = [this.db, this];\n                    request.dispatchEvent(event_2);\n                }\n                catch (err) {\n                    if (this._state !== \"committing\") {\n                        this._abort(\"AbortError\");\n                    }\n                    throw err;\n                }\n                // Default action of event\n                if (!event_2.canceled) {\n                    if (defaultAction) {\n                        defaultAction();\n                    }\n                }\n            }\n            // Give it another chance for new handlers to be set before finishing\n            scheduling_1.queueTask(this._start.bind(this));\n            return;\n        }\n        // Check if transaction complete event needs to be fired\n        if (this._state !== \"finished\") {\n            this._state = \"finished\";\n            if (!this.error) {\n                var event_3 = new FakeEvent_1.default(\"complete\");\n                this.dispatchEvent(event_3);\n            }\n        }\n    };\n    FDBTransaction.prototype.commit = function () {\n        if (this._state !== \"active\") {\n            throw new errors_1.InvalidStateError();\n        }\n        this._state = \"committing\";\n    };\n    FDBTransaction.prototype.toString = function () {\n        return \"[object IDBRequest]\";\n    };\n    return FDBTransaction;\n}(FakeEventTarget_1.default));\nexports.default = FDBTransaction;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FakeEvent_1 = require(\"./lib/FakeEvent\");\nvar FDBVersionChangeEvent = /** @class */ (function (_super) {\n    __extends(FDBVersionChangeEvent, _super);\n    function FDBVersionChangeEvent(type, parameters) {\n        if (parameters === void 0) { parameters = {}; }\n        var _this = _super.call(this, type) || this;\n        _this.newVersion =\n            parameters.newVersion !== undefined ? parameters.newVersion : null;\n        _this.oldVersion =\n            parameters.oldVersion !== undefined ? parameters.oldVersion : 0;\n        return _this;\n    }\n    FDBVersionChangeEvent.prototype.toString = function () {\n        return \"[object IDBVersionChangeEvent]\";\n    };\n    return FDBVersionChangeEvent;\n}(FakeEvent_1.default));\nexports.default = FDBVersionChangeEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBFactory_1 = require(\"./FDBFactory\");\nvar fakeIndexedDB = new FDBFactory_1.default();\nexports.default = fakeIndexedDB;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fakeIndexedDB_1 = require(\"./fakeIndexedDB\");\nmodule.exports = fakeIndexedDB_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar scheduling_1 = require(\"./scheduling\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-database\nvar Database = /** @class */ (function () {\n    function Database(name, version) {\n        this.deletePending = false;\n        this.transactions = [];\n        this.rawObjectStores = new Map();\n        this.connections = [];\n        this.name = name;\n        this.version = version;\n        this.processTransactions = this.processTransactions.bind(this);\n    }\n    Database.prototype.processTransactions = function () {\n        var _this = this;\n        scheduling_1.queueTask(function () {\n            var anyRunning = _this.transactions.some(function (transaction) {\n                return (transaction._started && transaction._state !== \"finished\");\n            });\n            if (!anyRunning) {\n                var next = _this.transactions.find(function (transaction) {\n                    return (!transaction._started &&\n                        transaction._state !== \"finished\");\n                });\n                if (next) {\n                    next.addEventListener(\"complete\", _this.processTransactions);\n                    next.addEventListener(\"abort\", _this.processTransactions);\n                    next._start();\n                }\n            }\n        });\n    };\n    return Database;\n}());\nexports.default = Database;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Event = /** @class */ (function () {\n    function Event(type, eventInitDict) {\n        if (eventInitDict === void 0) { eventInitDict = {}; }\n        this.eventPath = [];\n        this.NONE = 0;\n        this.CAPTURING_PHASE = 1;\n        this.AT_TARGET = 2;\n        this.BUBBLING_PHASE = 3;\n        // Flags\n        this.propagationStopped = false;\n        this.immediatePropagationStopped = false;\n        this.canceled = false;\n        this.initialized = true;\n        this.dispatched = false;\n        this.target = null;\n        this.currentTarget = null;\n        this.eventPhase = 0;\n        this.defaultPrevented = false;\n        this.isTrusted = false;\n        this.timeStamp = Date.now();\n        this.type = type;\n        this.bubbles =\n            eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;\n        this.cancelable =\n            eventInitDict.cancelable !== undefined\n                ? eventInitDict.cancelable\n                : false;\n    }\n    Event.prototype.preventDefault = function () {\n        if (this.cancelable) {\n            this.canceled = true;\n        }\n    };\n    Event.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    Event.prototype.stopImmediatePropagation = function () {\n        this.propagationStopped = true;\n        this.immediatePropagationStopped = true;\n    };\n    return Event;\n}());\nexports.default = Event;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar stopped = function (event, listener) {\n    return (event.immediatePropagationStopped ||\n        (event.eventPhase === event.CAPTURING_PHASE &&\n            listener.capture === false) ||\n        (event.eventPhase === event.BUBBLING_PHASE && listener.capture === true));\n};\n// http://www.w3.org/TR/dom/#concept-event-listener-invoke\nvar invokeEventListeners = function (event, obj) {\n    var e_1, _a;\n    event.currentTarget = obj;\n    try {\n        // The callback might cause obj.listeners to mutate as we traverse it.\n        // Take a copy of the array so that nothing sneaks in and we don't lose\n        // our place.\n        for (var _b = __values(obj.listeners.slice()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var listener = _c.value;\n            if (event.type !== listener.type || stopped(event, listener)) {\n                continue;\n            }\n            // @ts-ignore\n            listener.callback.call(event.currentTarget, event);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    var typeToProp = {\n        abort: \"onabort\",\n        blocked: \"onblocked\",\n        complete: \"oncomplete\",\n        error: \"onerror\",\n        success: \"onsuccess\",\n        upgradeneeded: \"onupgradeneeded\",\n        versionchange: \"onversionchange\",\n    };\n    var prop = typeToProp[event.type];\n    if (prop === undefined) {\n        throw new Error(\"Unknown event type: \\\"\" + event.type + \"\\\"\");\n    }\n    var callback = event.currentTarget[prop];\n    if (callback) {\n        var listener = {\n            callback: callback,\n            capture: false,\n            type: event.type,\n        };\n        if (!stopped(event, listener)) {\n            // @ts-ignore\n            listener.callback.call(event.currentTarget, event);\n        }\n    }\n};\nvar FakeEventTarget = /** @class */ (function () {\n    function FakeEventTarget() {\n        this.listeners = [];\n    }\n    FakeEventTarget.prototype.addEventListener = function (type, callback, capture) {\n        if (capture === void 0) { capture = false; }\n        this.listeners.push({\n            callback: callback,\n            capture: capture,\n            type: type,\n        });\n    };\n    FakeEventTarget.prototype.removeEventListener = function (type, callback, capture) {\n        if (capture === void 0) { capture = false; }\n        var i = this.listeners.findIndex(function (listener) {\n            return (listener.type === type &&\n                listener.callback === callback &&\n                listener.capture === capture);\n        });\n        this.listeners.splice(i, 1);\n    };\n    // http://www.w3.org/TR/dom/#dispatching-events\n    FakeEventTarget.prototype.dispatchEvent = function (event) {\n        var e_2, _a, e_3, _b;\n        if (event.dispatched || !event.initialized) {\n            throw new errors_1.InvalidStateError(\"The object is in an invalid state.\");\n        }\n        event.isTrusted = false;\n        event.dispatched = true;\n        event.target = this;\n        // NOT SURE WHEN THIS SHOULD BE SET        event.eventPath = [];\n        event.eventPhase = event.CAPTURING_PHASE;\n        try {\n            for (var _c = __values(event.eventPath), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var obj = _d.value;\n                if (!event.propagationStopped) {\n                    invokeEventListeners(event, obj);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        event.eventPhase = event.AT_TARGET;\n        if (!event.propagationStopped) {\n            invokeEventListeners(event, event.target);\n        }\n        if (event.bubbles) {\n            event.eventPath.reverse();\n            event.eventPhase = event.BUBBLING_PHASE;\n            try {\n                for (var _e = __values(event.eventPath), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var obj = _f.value;\n                    if (!event.propagationStopped) {\n                        invokeEventListeners(event, obj);\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        event.dispatched = false;\n        event.eventPhase = event.NONE;\n        event.currentTarget = null;\n        if (event.canceled) {\n            return false;\n        }\n        return true;\n    };\n    return FakeEventTarget;\n}());\nexports.default = FakeEventTarget;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar extractKey_1 = require(\"./extractKey\");\nvar RecordStore_1 = require(\"./RecordStore\");\nvar structuredClone_1 = require(\"./structuredClone\");\nvar valueToKey_1 = require(\"./valueToKey\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-index\nvar Index = /** @class */ (function () {\n    function Index(rawObjectStore, name, keyPath, multiEntry, unique) {\n        this.deleted = false;\n        // Initialized should be used to decide whether to throw an error or abort the versionchange transaction when there is a\n        // constraint\n        this.initialized = false;\n        this.records = new RecordStore_1.default();\n        this.rawObjectStore = rawObjectStore;\n        this.name = name;\n        this.keyPath = keyPath;\n        this.multiEntry = multiEntry;\n        this.unique = unique;\n    }\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-retrieving-a-value-from-an-index\n    Index.prototype.getKey = function (key) {\n        var record = this.records.get(key);\n        return record !== undefined ? record.value : undefined;\n    };\n    // http://w3c.github.io/IndexedDB/#retrieve-multiple-referenced-values-from-an-index\n    Index.prototype.getAllKeys = function (range, count) {\n        var e_1, _a;\n        if (count === undefined || count === 0) {\n            count = Infinity;\n        }\n        var records = [];\n        try {\n            for (var _b = __values(this.records.values(range)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var record = _c.value;\n                records.push(structuredClone_1.default(record.value));\n                if (records.length >= count) {\n                    break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return records;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#index-referenced-value-retrieval-operation\n    Index.prototype.getValue = function (key) {\n        var record = this.records.get(key);\n        return record !== undefined\n            ? this.rawObjectStore.getValue(record.value)\n            : undefined;\n    };\n    // http://w3c.github.io/IndexedDB/#retrieve-multiple-referenced-values-from-an-index\n    Index.prototype.getAllValues = function (range, count) {\n        var e_2, _a;\n        if (count === undefined || count === 0) {\n            count = Infinity;\n        }\n        var records = [];\n        try {\n            for (var _b = __values(this.records.values(range)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var record = _c.value;\n                records.push(this.rawObjectStore.getValue(record.value));\n                if (records.length >= count) {\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return records;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-storing-a-record-into-an-object-store (step 7)\n    Index.prototype.storeRecord = function (newRecord) {\n        var e_3, _a, e_4, _b, e_5, _c;\n        var indexKey;\n        try {\n            indexKey = extractKey_1.default(this.keyPath, newRecord.value);\n        }\n        catch (err) {\n            if (err.name === \"DataError\") {\n                // Invalid key is not an actual error, just means we do not store an entry in this index\n                return;\n            }\n            throw err;\n        }\n        if (!this.multiEntry || !Array.isArray(indexKey)) {\n            try {\n                valueToKey_1.default(indexKey);\n            }\n            catch (e) {\n                return;\n            }\n        }\n        else {\n            // remove any elements from index key that are not valid keys and remove any duplicate elements from index\n            // key such that only one instance of the duplicate value remains.\n            var keep = [];\n            try {\n                for (var indexKey_1 = __values(indexKey), indexKey_1_1 = indexKey_1.next(); !indexKey_1_1.done; indexKey_1_1 = indexKey_1.next()) {\n                    var part = indexKey_1_1.value;\n                    if (keep.indexOf(part) < 0) {\n                        try {\n                            keep.push(valueToKey_1.default(part));\n                        }\n                        catch (err) {\n                            /* Do nothing */\n                        }\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (indexKey_1_1 && !indexKey_1_1.done && (_a = indexKey_1.return)) _a.call(indexKey_1);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            indexKey = keep;\n        }\n        if (!this.multiEntry || !Array.isArray(indexKey)) {\n            if (this.unique) {\n                var existingRecord = this.records.get(indexKey);\n                if (existingRecord) {\n                    throw new errors_1.ConstraintError();\n                }\n            }\n        }\n        else {\n            if (this.unique) {\n                try {\n                    for (var indexKey_2 = __values(indexKey), indexKey_2_1 = indexKey_2.next(); !indexKey_2_1.done; indexKey_2_1 = indexKey_2.next()) {\n                        var individualIndexKey = indexKey_2_1.value;\n                        var existingRecord = this.records.get(individualIndexKey);\n                        if (existingRecord) {\n                            throw new errors_1.ConstraintError();\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (indexKey_2_1 && !indexKey_2_1.done && (_b = indexKey_2.return)) _b.call(indexKey_2);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        if (!this.multiEntry || !Array.isArray(indexKey)) {\n            this.records.add({\n                key: indexKey,\n                value: newRecord.key,\n            });\n        }\n        else {\n            try {\n                for (var indexKey_3 = __values(indexKey), indexKey_3_1 = indexKey_3.next(); !indexKey_3_1.done; indexKey_3_1 = indexKey_3.next()) {\n                    var individualIndexKey = indexKey_3_1.value;\n                    this.records.add({\n                        key: individualIndexKey,\n                        value: newRecord.key,\n                    });\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (indexKey_3_1 && !indexKey_3_1.done && (_c = indexKey_3.return)) _c.call(indexKey_3);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        }\n    };\n    Index.prototype.initialize = function (transaction) {\n        var _this = this;\n        if (this.initialized) {\n            throw new Error(\"Index already initialized\");\n        }\n        transaction._execRequestAsync({\n            operation: function () {\n                var e_6, _a;\n                try {\n                    try {\n                        // Create index based on current value of objectstore\n                        for (var _b = __values(_this.rawObjectStore.records.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            var record = _c.value;\n                            _this.storeRecord(record);\n                        }\n                    }\n                    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                        }\n                        finally { if (e_6) throw e_6.error; }\n                    }\n                    _this.initialized = true;\n                }\n                catch (err) {\n                    // console.error(err);\n                    transaction._abort(err.name);\n                }\n            },\n            source: null,\n        });\n    };\n    return Index;\n}());\nexports.default = Index;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar MAX_KEY = 9007199254740992;\nvar KeyGenerator = /** @class */ (function () {\n    function KeyGenerator() {\n        // This is kind of wrong. Should start at 1 and increment only after record is saved\n        this.num = 0;\n    }\n    KeyGenerator.prototype.next = function () {\n        if (this.num >= MAX_KEY) {\n            throw new errors_1.ConstraintError();\n        }\n        this.num += 1;\n        return this.num;\n    };\n    // https://w3c.github.io/IndexedDB/#possibly-update-the-key-generator\n    KeyGenerator.prototype.setIfLarger = function (num) {\n        var value = Math.floor(Math.min(num, MAX_KEY)) - 1;\n        if (value >= this.num) {\n            this.num = value + 1;\n        }\n    };\n    return KeyGenerator;\n}());\nexports.default = KeyGenerator;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar extractKey_1 = require(\"./extractKey\");\nvar KeyGenerator_1 = require(\"./KeyGenerator\");\nvar RecordStore_1 = require(\"./RecordStore\");\nvar structuredClone_1 = require(\"./structuredClone\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-object-store\nvar ObjectStore = /** @class */ (function () {\n    function ObjectStore(rawDatabase, name, keyPath, autoIncrement) {\n        this.deleted = false;\n        this.records = new RecordStore_1.default();\n        this.rawIndexes = new Map();\n        this.rawDatabase = rawDatabase;\n        this.keyGenerator = autoIncrement === true ? new KeyGenerator_1.default() : null;\n        this.deleted = false;\n        this.name = name;\n        this.keyPath = keyPath;\n        this.autoIncrement = autoIncrement;\n    }\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-retrieving-a-value-from-an-object-store\n    ObjectStore.prototype.getKey = function (key) {\n        var record = this.records.get(key);\n        return record !== undefined ? structuredClone_1.default(record.key) : undefined;\n    };\n    // http://w3c.github.io/IndexedDB/#retrieve-multiple-keys-from-an-object-store\n    ObjectStore.prototype.getAllKeys = function (range, count) {\n        var e_1, _a;\n        if (count === undefined || count === 0) {\n            count = Infinity;\n        }\n        var records = [];\n        try {\n            for (var _b = __values(this.records.values(range)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var record = _c.value;\n                records.push(structuredClone_1.default(record.key));\n                if (records.length >= count) {\n                    break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return records;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-retrieving-a-value-from-an-object-store\n    ObjectStore.prototype.getValue = function (key) {\n        var record = this.records.get(key);\n        return record !== undefined ? structuredClone_1.default(record.value) : undefined;\n    };\n    // http://w3c.github.io/IndexedDB/#retrieve-multiple-values-from-an-object-store\n    ObjectStore.prototype.getAllValues = function (range, count) {\n        var e_2, _a;\n        if (count === undefined || count === 0) {\n            count = Infinity;\n        }\n        var records = [];\n        try {\n            for (var _b = __values(this.records.values(range)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var record = _c.value;\n                records.push(structuredClone_1.default(record.value));\n                if (records.length >= count) {\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return records;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-storing-a-record-into-an-object-store\n    ObjectStore.prototype.storeRecord = function (newRecord, noOverwrite, rollbackLog) {\n        var e_3, _a;\n        var _this = this;\n        if (this.keyPath !== null) {\n            var key = extractKey_1.default(this.keyPath, newRecord.value);\n            if (key !== undefined) {\n                newRecord.key = key;\n            }\n        }\n        if (this.keyGenerator !== null && newRecord.key === undefined) {\n            if (rollbackLog) {\n                var keyGeneratorBefore_1 = this.keyGenerator.num;\n                rollbackLog.push(function () {\n                    if (_this.keyGenerator) {\n                        _this.keyGenerator.num = keyGeneratorBefore_1;\n                    }\n                });\n            }\n            newRecord.key = this.keyGenerator.next();\n            // Set in value if keyPath defiend but led to no key\n            // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-to-assign-a-key-to-a-value-using-a-key-path\n            if (this.keyPath !== null) {\n                if (Array.isArray(this.keyPath)) {\n                    throw new Error(\"Cannot have an array key path in an object store with a key generator\");\n                }\n                var remainingKeyPath = this.keyPath;\n                var object = newRecord.value;\n                var identifier = void 0;\n                var i = 0; // Just to run the loop at least once\n                while (i >= 0) {\n                    if (typeof object !== \"object\") {\n                        throw new errors_1.DataError();\n                    }\n                    i = remainingKeyPath.indexOf(\".\");\n                    if (i >= 0) {\n                        identifier = remainingKeyPath.slice(0, i);\n                        remainingKeyPath = remainingKeyPath.slice(i + 1);\n                        if (!object.hasOwnProperty(identifier)) {\n                            object[identifier] = {};\n                        }\n                        object = object[identifier];\n                    }\n                }\n                identifier = remainingKeyPath;\n                object[identifier] = newRecord.key;\n            }\n        }\n        else if (this.keyGenerator !== null &&\n            typeof newRecord.key === \"number\") {\n            this.keyGenerator.setIfLarger(newRecord.key);\n        }\n        var existingRecord = this.records.get(newRecord.key);\n        if (existingRecord) {\n            if (noOverwrite) {\n                throw new errors_1.ConstraintError();\n            }\n            this.deleteRecord(newRecord.key, rollbackLog);\n        }\n        this.records.add(newRecord);\n        if (rollbackLog) {\n            rollbackLog.push(function () {\n                _this.deleteRecord(newRecord.key);\n            });\n        }\n        try {\n            // Update indexes\n            for (var _b = __values(this.rawIndexes.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var rawIndex = _c.value;\n                if (rawIndex.initialized) {\n                    rawIndex.storeRecord(newRecord);\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return newRecord.key;\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-deleting-records-from-an-object-store\n    ObjectStore.prototype.deleteRecord = function (key, rollbackLog) {\n        var e_4, _a, e_5, _b;\n        var _this = this;\n        var deletedRecords = this.records.delete(key);\n        if (rollbackLog) {\n            var _loop_1 = function (record) {\n                rollbackLog.push(function () {\n                    _this.storeRecord(record, true);\n                });\n            };\n            try {\n                for (var deletedRecords_1 = __values(deletedRecords), deletedRecords_1_1 = deletedRecords_1.next(); !deletedRecords_1_1.done; deletedRecords_1_1 = deletedRecords_1.next()) {\n                    var record = deletedRecords_1_1.value;\n                    _loop_1(record);\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (deletedRecords_1_1 && !deletedRecords_1_1.done && (_a = deletedRecords_1.return)) _a.call(deletedRecords_1);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n        try {\n            for (var _c = __values(this.rawIndexes.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var rawIndex = _d.value;\n                rawIndex.records.deleteByValue(key);\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n    };\n    // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-clearing-an-object-store\n    ObjectStore.prototype.clear = function (rollbackLog) {\n        var e_6, _a, e_7, _b;\n        var _this = this;\n        var deletedRecords = this.records.clear();\n        if (rollbackLog) {\n            var _loop_2 = function (record) {\n                rollbackLog.push(function () {\n                    _this.storeRecord(record, true);\n                });\n            };\n            try {\n                for (var deletedRecords_2 = __values(deletedRecords), deletedRecords_2_1 = deletedRecords_2.next(); !deletedRecords_2_1.done; deletedRecords_2_1 = deletedRecords_2.next()) {\n                    var record = deletedRecords_2_1.value;\n                    _loop_2(record);\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (deletedRecords_2_1 && !deletedRecords_2_1.done && (_a = deletedRecords_2.return)) _a.call(deletedRecords_2);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n        }\n        try {\n            for (var _c = __values(this.rawIndexes.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var rawIndex = _d.value;\n                rawIndex.records.clear();\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n    };\n    return ObjectStore;\n}());\nexports.default = ObjectStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBKeyRange_1 = require(\"../FDBKeyRange\");\nvar binarySearch_1 = require(\"./binarySearch\");\nvar cmp_1 = require(\"./cmp\");\nvar RecordStore = /** @class */ (function () {\n    function RecordStore() {\n        this.records = [];\n    }\n    RecordStore.prototype.get = function (key) {\n        if (key instanceof FDBKeyRange_1.default) {\n            return binarySearch_1.getByKeyRange(this.records, key);\n        }\n        return binarySearch_1.getByKey(this.records, key);\n    };\n    RecordStore.prototype.add = function (newRecord) {\n        // Find where to put it so it's sorted by key\n        var i;\n        if (this.records.length === 0) {\n            i = 0;\n        }\n        else {\n            i = binarySearch_1.getIndexByKeyGTE(this.records, newRecord.key);\n            if (i === -1) {\n                // If no matching key, add to end\n                i = this.records.length;\n            }\n            else {\n                // If matching key, advance to appropriate position based on value (used in indexes)\n                while (i < this.records.length &&\n                    cmp_1.default(this.records[i].key, newRecord.key) === 0) {\n                    if (cmp_1.default(this.records[i].value, newRecord.value) !== -1) {\n                        // Record value >= newRecord value, so insert here\n                        break;\n                    }\n                    i += 1; // Look at next record\n                }\n            }\n        }\n        this.records.splice(i, 0, newRecord);\n    };\n    RecordStore.prototype.delete = function (key) {\n        var deletedRecords = [];\n        var isRange = key instanceof FDBKeyRange_1.default;\n        while (true) {\n            var idx = isRange\n                ? binarySearch_1.getIndexByKeyRange(this.records, key)\n                : binarySearch_1.getIndexByKey(this.records, key);\n            if (idx === -1) {\n                break;\n            }\n            deletedRecords.push(this.records[idx]);\n            this.records.splice(idx, 1);\n        }\n        return deletedRecords;\n    };\n    RecordStore.prototype.deleteByValue = function (key) {\n        var range = key instanceof FDBKeyRange_1.default ? key : FDBKeyRange_1.default.only(key);\n        var deletedRecords = [];\n        this.records = this.records.filter(function (record) {\n            var shouldDelete = range.includes(record.value);\n            if (shouldDelete) {\n                deletedRecords.push(record);\n            }\n            return !shouldDelete;\n        });\n        return deletedRecords;\n    };\n    RecordStore.prototype.clear = function () {\n        var deletedRecords = this.records.slice();\n        this.records = [];\n        return deletedRecords;\n    };\n    RecordStore.prototype.values = function (range, direction) {\n        var _a;\n        var _this = this;\n        if (direction === void 0) { direction = \"next\"; }\n        return _a = {},\n            _a[Symbol.iterator] = function () {\n                var i;\n                if (direction === \"next\") {\n                    i = 0;\n                    if (range !== undefined && range.lower !== undefined) {\n                        while (_this.records[i] !== undefined) {\n                            var cmpResult = cmp_1.default(_this.records[i].key, range.lower);\n                            if (cmpResult === 1 ||\n                                (cmpResult === 0 && !range.lowerOpen)) {\n                                break;\n                            }\n                            i += 1;\n                        }\n                    }\n                }\n                else {\n                    i = _this.records.length - 1;\n                    if (range !== undefined && range.upper !== undefined) {\n                        while (_this.records[i] !== undefined) {\n                            var cmpResult = cmp_1.default(_this.records[i].key, range.upper);\n                            if (cmpResult === -1 ||\n                                (cmpResult === 0 && !range.upperOpen)) {\n                                break;\n                            }\n                            i -= 1;\n                        }\n                    }\n                }\n                return {\n                    next: function () {\n                        var done;\n                        var value;\n                        if (direction === \"next\") {\n                            value = _this.records[i];\n                            done = i >= _this.records.length;\n                            i += 1;\n                            if (!done &&\n                                range !== undefined &&\n                                range.upper !== undefined) {\n                                var cmpResult = cmp_1.default(value.key, range.upper);\n                                done =\n                                    cmpResult === 1 ||\n                                        (cmpResult === 0 && range.upperOpen);\n                                if (done) {\n                                    value = undefined;\n                                }\n                            }\n                        }\n                        else {\n                            value = _this.records[i];\n                            done = i < 0;\n                            i -= 1;\n                            if (!done &&\n                                range !== undefined &&\n                                range.lower !== undefined) {\n                                var cmpResult = cmp_1.default(value.key, range.lower);\n                                done =\n                                    cmpResult === -1 ||\n                                        (cmpResult === 0 && range.lowerOpen);\n                                if (done) {\n                                    value = undefined;\n                                }\n                            }\n                        }\n                        // The weird \"as IteratorResult<Record>\" is needed because of\n                        // https://github.com/Microsoft/TypeScript/issues/11375 and\n                        // https://github.com/Microsoft/TypeScript/issues/2983\n                        // tslint:disable-next-line no-object-literal-type-assertion\n                        return {\n                            done: done,\n                            value: value,\n                        };\n                    },\n                };\n            },\n            _a;\n    };\n    return RecordStore;\n}());\nexports.default = RecordStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cmp_1 = require(\"./cmp\");\n/**\n * Classic binary search implementation. Returns the index where the key\n * should be inserted, assuming the records list is ordered.\n */\nfunction binarySearch(records, key) {\n    var low = 0;\n    var high = records.length;\n    var mid;\n    while (low < high) {\n        // tslint:disable-next-line:no-bitwise\n        mid = (low + high) >>> 1; // like Math.floor((low + high) / 2) but fast\n        if (cmp_1.default(records[mid].key, key) < 0) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\n/**\n * Equivalent to `records.findIndex(record => cmp(record.key, key) === 0)`\n */\nfunction getIndexByKey(records, key) {\n    var idx = binarySearch(records, key);\n    var record = records[idx];\n    if (record && cmp_1.default(record.key, key) === 0) {\n        return idx;\n    }\n    return -1;\n}\nexports.getIndexByKey = getIndexByKey;\n/**\n * Equivalent to `records.find(record => cmp(record.key, key) === 0)`\n */\nfunction getByKey(records, key) {\n    var idx = getIndexByKey(records, key);\n    return records[idx];\n}\nexports.getByKey = getByKey;\n/**\n * Equivalent to `records.findIndex(record => key.includes(record.key))`\n */\nfunction getIndexByKeyRange(records, keyRange) {\n    var lowerIdx = typeof keyRange.lower === \"undefined\"\n        ? 0\n        : binarySearch(records, keyRange.lower);\n    var upperIdx = typeof keyRange.upper === \"undefined\"\n        ? records.length - 1\n        : binarySearch(records, keyRange.upper);\n    for (var i = lowerIdx; i <= upperIdx; i++) {\n        var record = records[i];\n        if (record && keyRange.includes(record.key)) {\n            return i;\n        }\n    }\n    return -1;\n}\nexports.getIndexByKeyRange = getIndexByKeyRange;\n/**\n * Equivalent to `records.find(record => key.includes(record.key))`\n */\nfunction getByKeyRange(records, keyRange) {\n    var idx = getIndexByKeyRange(records, keyRange);\n    return records[idx];\n}\nexports.getByKeyRange = getByKeyRange;\n/**\n * Equivalent to `records.findIndex(record => cmp(record.key, key) >= 0)`\n */\nfunction getIndexByKeyGTE(records, key) {\n    var idx = binarySearch(records, key);\n    var record = records[idx];\n    if (record && cmp_1.default(record.key, key) >= 0) {\n        return idx;\n    }\n    return -1;\n}\nexports.getIndexByKeyGTE = getIndexByKeyGTE;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// http://w3c.github.io/IndexedDB/#check-that-a-key-could-be-injected-into-a-value\nvar canInjectKey = function (keyPath, value) {\n    var e_1, _a;\n    if (Array.isArray(keyPath)) {\n        // tslint:disable-next-line max-line-length\n        throw new Error(\"The key paths used in this section are always strings and never sequences, since it is not possible to create a object store which has a key generator and also has a key path that is a sequence.\");\n    }\n    var identifiers = keyPath.split(\".\");\n    if (identifiers.length === 0) {\n        throw new Error(\"Assert: identifiers is not empty\");\n    }\n    identifiers.pop();\n    try {\n        for (var identifiers_1 = __values(identifiers), identifiers_1_1 = identifiers_1.next(); !identifiers_1_1.done; identifiers_1_1 = identifiers_1.next()) {\n            var identifier = identifiers_1_1.value;\n            if (typeof value !== \"object\" && !Array.isArray(value)) {\n                return false;\n            }\n            var hop = value.hasOwnProperty(identifier);\n            if (!hop) {\n                return true;\n            }\n            value = value[identifier];\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (identifiers_1_1 && !identifiers_1_1.done && (_a = identifiers_1.return)) _a.call(identifiers_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return typeof value === \"object\" || Array.isArray(value);\n};\nexports.default = canInjectKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar valueToKey_1 = require(\"./valueToKey\");\nvar getType = function (x) {\n    if (typeof x === \"number\") {\n        return \"Number\";\n    }\n    if (x instanceof Date) {\n        return \"Date\";\n    }\n    if (Array.isArray(x)) {\n        return \"Array\";\n    }\n    if (typeof x === \"string\") {\n        return \"String\";\n    }\n    if (x instanceof ArrayBuffer) {\n        return \"Binary\";\n    }\n    throw new errors_1.DataError();\n};\n// https://w3c.github.io/IndexedDB/#compare-two-keys\nvar cmp = function (first, second) {\n    if (second === undefined) {\n        throw new TypeError();\n    }\n    first = valueToKey_1.default(first);\n    second = valueToKey_1.default(second);\n    var t1 = getType(first);\n    var t2 = getType(second);\n    if (t1 !== t2) {\n        if (t1 === \"Array\") {\n            return 1;\n        }\n        if (t1 === \"Binary\" &&\n            (t2 === \"String\" || t2 === \"Date\" || t2 === \"Number\")) {\n            return 1;\n        }\n        if (t1 === \"String\" && (t2 === \"Date\" || t2 === \"Number\")) {\n            return 1;\n        }\n        if (t1 === \"Date\" && t2 === \"Number\") {\n            return 1;\n        }\n        return -1;\n    }\n    if (t1 === \"Binary\") {\n        first = new Uint8Array(first);\n        second = new Uint8Array(second);\n    }\n    if (t1 === \"Array\" || t1 === \"Binary\") {\n        var length_1 = Math.min(first.length, second.length);\n        for (var i = 0; i < length_1; i++) {\n            var result = cmp(first[i], second[i]);\n            if (result !== 0) {\n                return result;\n            }\n        }\n        if (first.length > second.length) {\n            return 1;\n        }\n        if (first.length < second.length) {\n            return -1;\n        }\n        return 0;\n    }\n    if (t1 === \"Date\") {\n        if (first.getTime() === second.getTime()) {\n            return 0;\n        }\n    }\n    else {\n        if (first === second) {\n            return 0;\n        }\n    }\n    return first > second ? 1 : -1;\n};\nexports.default = cmp;\n","\"use strict\";\n// https://heycam.github.io/webidl/#EnforceRange\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar enforceRange = function (num, type) {\n    var min = 0;\n    var max = type === \"unsigned long\" ? 4294967295 : 9007199254740991;\n    if (isNaN(num) || num < min || num > max) {\n        throw new TypeError();\n    }\n    if (num >= 0) {\n        return Math.floor(num);\n    }\n};\nexports.default = enforceRange;\n","\"use strict\";\n/* tslint:disable: max-classes-per-file max-line-length */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar messages = {\n    AbortError: \"A request was aborted, for example through a call to IDBTransaction.abort.\",\n    ConstraintError: \"A mutation operation in the transaction failed because a constraint was not satisfied. For example, an object such as an object store or index already exists and a request attempted to create a new one.\",\n    DataCloneError: \"The data being stored could not be cloned by the internal structured cloning algorithm.\",\n    DataError: \"Data provided to an operation does not meet requirements.\",\n    InvalidAccessError: \"An invalid operation was performed on an object. For example transaction creation attempt was made, but an empty scope was provided.\",\n    InvalidStateError: \"An operation was called on an object on which it is not allowed or at a time when it is not allowed. Also occurs if a request is made on a source object that has been deleted or removed. Use TransactionInactiveError or ReadOnlyError when possible, as they are more specific variations of InvalidStateError.\",\n    NotFoundError: \"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.\",\n    ReadOnlyError: 'The mutating operation was attempted in a \"readonly\" transaction.',\n    TransactionInactiveError: \"A request was placed against a transaction which is currently not active, or which is finished.\",\n    VersionError: \"An attempt was made to open a database using a lower version than the existing version.\",\n};\nvar AbortError = /** @class */ (function (_super) {\n    __extends(AbortError, _super);\n    function AbortError(message) {\n        if (message === void 0) { message = messages.AbortError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"AbortError\";\n        _this.message = message;\n        return _this;\n    }\n    return AbortError;\n}(Error));\nexports.AbortError = AbortError;\nvar ConstraintError = /** @class */ (function (_super) {\n    __extends(ConstraintError, _super);\n    function ConstraintError(message) {\n        if (message === void 0) { message = messages.ConstraintError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"ConstraintError\";\n        _this.message = message;\n        return _this;\n    }\n    return ConstraintError;\n}(Error));\nexports.ConstraintError = ConstraintError;\nvar DataCloneError = /** @class */ (function (_super) {\n    __extends(DataCloneError, _super);\n    function DataCloneError(message) {\n        if (message === void 0) { message = messages.DataCloneError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"DataCloneError\";\n        _this.message = message;\n        return _this;\n    }\n    return DataCloneError;\n}(Error));\nexports.DataCloneError = DataCloneError;\nvar DataError = /** @class */ (function (_super) {\n    __extends(DataError, _super);\n    function DataError(message) {\n        if (message === void 0) { message = messages.DataError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"DataError\";\n        _this.message = message;\n        return _this;\n    }\n    return DataError;\n}(Error));\nexports.DataError = DataError;\nvar InvalidAccessError = /** @class */ (function (_super) {\n    __extends(InvalidAccessError, _super);\n    function InvalidAccessError(message) {\n        if (message === void 0) { message = messages.InvalidAccessError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"InvalidAccessError\";\n        _this.message = message;\n        return _this;\n    }\n    return InvalidAccessError;\n}(Error));\nexports.InvalidAccessError = InvalidAccessError;\nvar InvalidStateError = /** @class */ (function (_super) {\n    __extends(InvalidStateError, _super);\n    function InvalidStateError(message) {\n        if (message === void 0) { message = messages.InvalidStateError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"InvalidStateError\";\n        _this.message = message;\n        return _this;\n    }\n    return InvalidStateError;\n}(Error));\nexports.InvalidStateError = InvalidStateError;\nvar NotFoundError = /** @class */ (function (_super) {\n    __extends(NotFoundError, _super);\n    function NotFoundError(message) {\n        if (message === void 0) { message = messages.NotFoundError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"NotFoundError\";\n        _this.message = message;\n        return _this;\n    }\n    return NotFoundError;\n}(Error));\nexports.NotFoundError = NotFoundError;\nvar ReadOnlyError = /** @class */ (function (_super) {\n    __extends(ReadOnlyError, _super);\n    function ReadOnlyError(message) {\n        if (message === void 0) { message = messages.ReadOnlyError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"ReadOnlyError\";\n        _this.message = message;\n        return _this;\n    }\n    return ReadOnlyError;\n}(Error));\nexports.ReadOnlyError = ReadOnlyError;\nvar TransactionInactiveError = /** @class */ (function (_super) {\n    __extends(TransactionInactiveError, _super);\n    function TransactionInactiveError(message) {\n        if (message === void 0) { message = messages.TransactionInactiveError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"TransactionInactiveError\";\n        _this.message = message;\n        return _this;\n    }\n    return TransactionInactiveError;\n}(Error));\nexports.TransactionInactiveError = TransactionInactiveError;\nvar VersionError = /** @class */ (function (_super) {\n    __extends(VersionError, _super);\n    function VersionError(message) {\n        if (message === void 0) { message = messages.VersionError; }\n        var _this = _super.call(this) || this;\n        _this.name = \"VersionError\";\n        _this.message = message;\n        return _this;\n    }\n    return VersionError;\n}(Error));\nexports.VersionError = VersionError;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar valueToKey_1 = require(\"./valueToKey\");\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-extracting-a-key-from-a-value-using-a-key-path\nvar extractKey = function (keyPath, value) {\n    var e_1, _a;\n    if (Array.isArray(keyPath)) {\n        var result = [];\n        try {\n            for (var keyPath_1 = __values(keyPath), keyPath_1_1 = keyPath_1.next(); !keyPath_1_1.done; keyPath_1_1 = keyPath_1.next()) {\n                var item = keyPath_1_1.value;\n                // This doesn't make sense to me based on the spec, but it is needed to pass the W3C KeyPath tests (see same\n                // comment in validateKeyPath)\n                if (item !== undefined &&\n                    item !== null &&\n                    typeof item !== \"string\" &&\n                    item.toString) {\n                    item = item.toString();\n                }\n                result.push(valueToKey_1.default(extractKey(item, value)));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keyPath_1_1 && !keyPath_1_1.done && (_a = keyPath_1.return)) _a.call(keyPath_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    }\n    if (keyPath === \"\") {\n        return value;\n    }\n    var remainingKeyPath = keyPath;\n    var object = value;\n    while (remainingKeyPath !== null) {\n        var identifier = void 0;\n        var i = remainingKeyPath.indexOf(\".\");\n        if (i >= 0) {\n            identifier = remainingKeyPath.slice(0, i);\n            remainingKeyPath = remainingKeyPath.slice(i + 1);\n        }\n        else {\n            identifier = remainingKeyPath;\n            remainingKeyPath = null;\n        }\n        if (!object.hasOwnProperty(identifier)) {\n            return;\n        }\n        object = object[identifier];\n    }\n    return object;\n};\nexports.default = extractKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Would be nicer to sublcass Array, but I'd have to sacrifice Node 4 support to do that.\nvar fakeDOMStringList = function (arr) {\n    var arr2 = arr.slice();\n    Object.defineProperty(arr2, \"contains\", {\n        // tslint:disable-next-line object-literal-shorthand\n        value: function (value) { return arr2.indexOf(value) >= 0; },\n    });\n    Object.defineProperty(arr2, \"item\", {\n        // tslint:disable-next-line object-literal-shorthand\n        value: function (i) { return arr2[i]; },\n    });\n    return arr2;\n};\nexports.default = fakeDOMStringList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// When running within Node.js (including jsdom), we want to use setImmediate\n// (which runs immediately) rather than setTimeout (which enforces a minimum\n// delay of 1ms, and on Windows only has a resolution of 15ms or so).  jsdom\n// doesn't provide setImmediate (to better match the browser environment) and\n// sandboxes scripts, but its sandbox is by necessity imperfect, so we can break\n// out of it:\n//\n// - https://github.com/jsdom/jsdom#executing-scripts\n// - https://github.com/jsdom/jsdom/issues/2729\n// - https://github.com/scala-js/scala-js-macrotask-executor/pull/17\nfunction getSetImmediateFromJsdom() {\n    if (typeof navigator !== \"undefined\" && /jsdom/.test(navigator.userAgent)) {\n        var outerRealmFunctionConstructor = Node.constructor;\n        return new outerRealmFunctionConstructor(\"return setImmediate\")();\n    }\n    else {\n        return undefined;\n    }\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis\n// Remove this after dropping Node 8 support\n// tslint:disable-next-line\nvar getGlobal = function () {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    throw new Error('unable to locate global object');\n};\nvar globals = getGlobal();\n// Schedules a task to run later.  Use Node.js's setImmediate if available and\n// setTimeout otherwise.  Note that options like process.nextTick or\n// queueMicrotask will likely not work: IndexedDB semantics require that\n// transactions are marked as not active when the event loop runs. The next\n// tick queue and microtask queue run within the current event loop macrotask,\n// so they'd process database operations too quickly.\nexports.queueTask = globals.setImmediate ||\n    getSetImmediateFromJsdom() ||\n    (function (fn) { return setTimeout(fn, 0); });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar realisticStructuredClone = require(\"realistic-structured-clone\"); // tslint:disable-line no-var-requires\nvar errors_1 = require(\"./errors\");\nvar structuredClone = function (input) {\n    try {\n        return realisticStructuredClone(input);\n    }\n    catch (err) {\n        throw new errors_1.DataCloneError();\n    }\n};\nexports.default = structuredClone;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-valid-key-path\nvar validateKeyPath = function (keyPath, parent) {\n    var e_1, _a, e_2, _b;\n    // This doesn't make sense to me based on the spec, but it is needed to pass the W3C KeyPath tests (see same\n    // comment in extractKey)\n    if (keyPath !== undefined &&\n        keyPath !== null &&\n        typeof keyPath !== \"string\" &&\n        keyPath.toString &&\n        (parent === \"array\" || !Array.isArray(keyPath))) {\n        keyPath = keyPath.toString();\n    }\n    if (typeof keyPath === \"string\") {\n        if (keyPath === \"\" && parent !== \"string\") {\n            return;\n        }\n        try {\n            // https://mathiasbynens.be/demo/javascript-identifier-regex for ECMAScript 5.1 / Unicode v7.0.0, with\n            // reserved words at beginning removed\n            // tslint:disable-next-line max-line-length\n            var validIdentifierRegex = /^(?:[\\$A-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])(?:[\\$0-9A-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])*$/;\n            if (keyPath.length >= 1 && validIdentifierRegex.test(keyPath)) {\n                return;\n            }\n        }\n        catch (err) {\n            throw new SyntaxError(err.message);\n        }\n        if (keyPath.indexOf(\" \") >= 0) {\n            throw new SyntaxError(\"The keypath argument contains an invalid key path (no spaces allowed).\");\n        }\n    }\n    if (Array.isArray(keyPath) && keyPath.length > 0) {\n        if (parent) {\n            // No nested arrays\n            throw new SyntaxError(\"The keypath argument contains an invalid key path (nested arrays).\");\n        }\n        try {\n            for (var keyPath_1 = __values(keyPath), keyPath_1_1 = keyPath_1.next(); !keyPath_1_1.done; keyPath_1_1 = keyPath_1.next()) {\n                var part = keyPath_1_1.value;\n                validateKeyPath(part, \"array\");\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keyPath_1_1 && !keyPath_1_1.done && (_a = keyPath_1.return)) _a.call(keyPath_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return;\n    }\n    else if (typeof keyPath === \"string\" && keyPath.indexOf(\".\") >= 0) {\n        keyPath = keyPath.split(\".\");\n        try {\n            for (var keyPath_2 = __values(keyPath), keyPath_2_1 = keyPath_2.next(); !keyPath_2_1.done; keyPath_2_1 = keyPath_2.next()) {\n                var part = keyPath_2_1.value;\n                validateKeyPath(part, \"string\");\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (keyPath_2_1 && !keyPath_2_1.done && (_b = keyPath_2.return)) _b.call(keyPath_2);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return;\n    }\n    throw new SyntaxError();\n};\nexports.default = validateKeyPath;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\n// https://w3c.github.io/IndexedDB/#convert-a-value-to-a-input\nvar valueToKey = function (input, seen) {\n    if (typeof input === \"number\") {\n        if (isNaN(input)) {\n            throw new errors_1.DataError();\n        }\n        return input;\n    }\n    else if (input instanceof Date) {\n        var ms = input.valueOf();\n        if (isNaN(ms)) {\n            throw new errors_1.DataError();\n        }\n        return new Date(ms);\n    }\n    else if (typeof input === \"string\") {\n        return input;\n    }\n    else if (input instanceof ArrayBuffer ||\n        (typeof ArrayBuffer !== \"undefined\" &&\n            ArrayBuffer.isView &&\n            ArrayBuffer.isView(input))) {\n        if (input instanceof ArrayBuffer) {\n            return new Uint8Array(input).buffer;\n        }\n        return new Uint8Array(input.buffer).buffer;\n    }\n    else if (Array.isArray(input)) {\n        if (seen === undefined) {\n            seen = new Set();\n        }\n        else if (seen.has(input)) {\n            throw new errors_1.DataError();\n        }\n        seen.add(input);\n        var keys = [];\n        for (var i = 0; i < input.length; i++) {\n            var hop = input.hasOwnProperty(i);\n            if (!hop) {\n                throw new errors_1.DataError();\n            }\n            var entry = input[i];\n            var key = valueToKey(entry, seen);\n            keys.push(key);\n        }\n        return keys;\n    }\n    else {\n        throw new errors_1.DataError();\n    }\n};\nexports.default = valueToKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FDBKeyRange_1 = require(\"../FDBKeyRange\");\nvar errors_1 = require(\"./errors\");\nvar valueToKey_1 = require(\"./valueToKey\");\n// http://w3c.github.io/IndexedDB/#convert-a-value-to-a-key-range\nvar valueToKeyRange = function (value, nullDisallowedFlag) {\n    if (nullDisallowedFlag === void 0) { nullDisallowedFlag = false; }\n    if (value instanceof FDBKeyRange_1.default) {\n        return value;\n    }\n    if (value === null || value === undefined) {\n        if (nullDisallowedFlag) {\n            throw new errors_1.DataError();\n        }\n        return new FDBKeyRange_1.default(undefined, undefined, false, false);\n    }\n    var key = valueToKey_1.default(value);\n    return FDBKeyRange_1.default.only(key);\n};\nexports.default = valueToKeyRange;\n","// This file is needed to maintain API compatibility with fake-indexeddb 1.x because of\n// <https://github.com/Microsoft/TypeScript/issues/2719> and <http://stackoverflow.com/q/30302747/786644>. It should not\n// be used internally, only externally.\n\nmodule.exports = require(\"../build/FDBKeyRange\").default;\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to true\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","'use strict';\n\nmodule.exports = value => {\n\tif (!value) {\n\t\treturn false;\n\t}\n\n\t// eslint-disable-next-line no-use-extend-native/no-use-extend-native\n\tif (typeof Symbol.observable === 'symbol' && typeof value[Symbol.observable] === 'function') {\n\t\t// eslint-disable-next-line no-use-extend-native/no-use-extend-native\n\t\treturn value === value[Symbol.observable]();\n\t}\n\n\tif (typeof value['@@observable'] === 'function') {\n\t\treturn value === value['@@observable']();\n\t}\n\n\treturn false;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Aggregator = void 0;\nvar core_1 = require(\"./core\");\nvar lazy_1 = require(\"./lazy\");\nvar util_1 = require(\"./util\");\n/**\n * Provides functionality for the mongoDB aggregation pipeline\n *\n * @param pipeline an Array of pipeline operators\n * @param options An optional Options to pass the aggregator\n * @constructor\n */\nvar Aggregator = /** @class */ (function () {\n    function Aggregator(pipeline, options) {\n        this.pipeline = pipeline;\n        this.options = options;\n        this.options = (0, core_1.makeOptions)(options);\n    }\n    /**\n     * Returns an `Lazy` iterator for processing results of pipeline\n     *\n     * @param {*} collection An array or iterator object\n     * @param {Query} query the `Query` object to use as context\n     * @returns {Iterator} an iterator object\n     */\n    Aggregator.prototype.stream = function (collection) {\n        var iterator = (0, lazy_1.Lazy)(collection);\n        var mode = this.options.processingMode;\n        if (mode == core_1.ProcessingMode.CLONE_ALL ||\n            mode == core_1.ProcessingMode.CLONE_INPUT) {\n            iterator.map(util_1.cloneDeep);\n        }\n        var pipelineOperators = [];\n        if (!(0, util_1.isEmpty)(this.pipeline)) {\n            // run aggregation pipeline\n            for (var _i = 0, _a = this.pipeline; _i < _a.length; _i++) {\n                var operator = _a[_i];\n                var operatorKeys = Object.keys(operator);\n                var op = operatorKeys[0];\n                var call = (0, core_1.getOperator)(core_1.OperatorType.PIPELINE, op);\n                (0, util_1.assert)(operatorKeys.length === 1 && !!call, \"invalid aggregation operator \" + op);\n                pipelineOperators.push(op);\n                iterator = call(iterator, operator[op], this.options);\n            }\n        }\n        // operators that may share object graphs of inputs.\n        // we only need to clone the output for these since the objects will already be distinct for other operators.\n        if (mode == core_1.ProcessingMode.CLONE_OUTPUT ||\n            (mode == core_1.ProcessingMode.CLONE_ALL &&\n                !!(0, util_1.intersection)([\"$group\", \"$unwind\"], pipelineOperators).length)) {\n            iterator.map(util_1.cloneDeep);\n        }\n        return iterator;\n    };\n    /**\n     * Return the results of the aggregation as an array.\n     *\n     * @param {*} collection\n     * @param {*} query\n     */\n    Aggregator.prototype.run = function (collection) {\n        return this.stream(collection).value();\n    };\n    return Aggregator;\n}());\nexports.Aggregator = Aggregator;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.redact = exports.computeValue = exports.addOperators = exports.getOperator = exports.useOperators = exports.OperatorType = exports.makeOptions = exports.ProcessingMode = void 0;\nvar util_1 = require(\"./util\");\n/**\n * This controls how input and output documents are processed to meet different application needs.\n * Each mode has different trade offs for; immutability, reference sharing, and performance.\n */\nvar ProcessingMode;\n(function (ProcessingMode) {\n    /**\n     * Clone inputs prior to processing, and the outputs if some objects graphs may be shared.\n     * Use this option to keep input collection immutable and to get distinct output objects.\n     *\n     * Note: This option is expensive and reduces performance.\n     */\n    ProcessingMode[\"CLONE_ALL\"] = \"CLONE_ALL\";\n    /**\n     * Clones inputs prior to processing.\n     * This option will return output objects with shared graphs in their path if specific operators are used.\n     * Use this option to keep the input collection immutable.\n     *\n     */\n    ProcessingMode[\"CLONE_INPUT\"] = \"CLONE_INPUT\";\n    /**\n     * Clones the output to return distinct objects with no shared paths.\n     * This option modifies the input collection and during processing.\n     */\n    ProcessingMode[\"CLONE_OUTPUT\"] = \"CLONE_OUTPUT\";\n    /**\n     * Turn off cloning and modifies the input collection as needed.\n     * This option will also return output objects with shared paths in their graph when specific operators are used.\n     *\n     * This option provides the greatest speedup for the biggest tradeoff. When using the aggregation pipeline, you can use\n     * the \"$out\" operator to collect immutable intermediate results.\n     *\n     * @default\n     */\n    ProcessingMode[\"CLONE_OFF\"] = \"CLONE_OFF\";\n})(ProcessingMode = exports.ProcessingMode || (exports.ProcessingMode = {}));\n/**\n * Creates an Option from another required keys are initialized\n * @param options Options\n */\nfunction makeOptions(options) {\n    return Object.assign({ idKey: \"_id\", processingMode: ProcessingMode.CLONE_OFF }, options || {});\n}\nexports.makeOptions = makeOptions;\n/**\n * The different groups of operators\n */\nvar OperatorType;\n(function (OperatorType) {\n    OperatorType[\"ACCUMULATOR\"] = \"accumulator\";\n    OperatorType[\"EXPRESSION\"] = \"expression\";\n    OperatorType[\"PIPELINE\"] = \"pipeline\";\n    OperatorType[\"PROJECTION\"] = \"projection\";\n    OperatorType[\"QUERY\"] = \"query\";\n})(OperatorType = exports.OperatorType || (exports.OperatorType = {}));\n// operator definitions\nvar OPERATORS = (_a = {},\n    _a[OperatorType.ACCUMULATOR] = {},\n    _a[OperatorType.EXPRESSION] = {},\n    _a[OperatorType.PIPELINE] = {},\n    _a[OperatorType.PROJECTION] = {},\n    _a[OperatorType.QUERY] = {},\n    _a);\n/**\n * Validates the object collection of operators\n */\nfunction validateOperatorMap(operators) {\n    for (var _i = 0, _a = Object.entries(operators); _i < _a.length; _i++) {\n        var _b = _a[_i], k = _b[0], v = _b[1];\n        (0, util_1.assert)(v instanceof Function && (0, util_1.isOperator)(k), \"invalid operator specified\");\n    }\n}\n/**\n * Register fully specified operators for the given operator class.\n *\n * @param cls Category of the operator\n * @param operators Name of operator\n */\nfunction useOperators(cls, operators) {\n    validateOperatorMap(operators);\n    (0, util_1.into)(OPERATORS[cls], operators);\n}\nexports.useOperators = useOperators;\n/**\n * Returns the operator function or null if it is not found\n * @param cls Category of the operator\n * @param operator Name of the operator\n */\nfunction getOperator(cls, operator) {\n    return (0, util_1.has)(OPERATORS[cls], operator) ? OPERATORS[cls][operator] : null;\n}\nexports.getOperator = getOperator;\n/**\n * Add new operators\n *\n * @param operatorType the operator class to extend\n * @param operatorFactory a callback that accepts internal object state and returns an object of new operators.\n */\nfunction addOperators(operatorType, operatorFactory) {\n    var customOperators = operatorFactory({ computeValue: computeValue, resolve: util_1.resolve });\n    validateOperatorMap(customOperators);\n    // check for existing operators\n    for (var _i = 0, _a = Object.entries(customOperators); _i < _a.length; _i++) {\n        var _b = _a[_i], op = _b[0], _ = _b[1];\n        var call = getOperator(operatorType, op);\n        (0, util_1.assert)(!call, op + \" already exists for '\" + operatorType + \"' operators\");\n    }\n    var normalizedOperators = {};\n    switch (operatorType) {\n        case OperatorType.QUERY:\n            var _loop_1 = function (op, f) {\n                var fn = f;\n                normalizedOperators[op] =\n                    function (selector, value, options) {\n                        return function (obj) {\n                            // value of field must be fully resolved.\n                            var lhs = (0, util_1.resolve)(obj, selector, { unwrapArray: true });\n                            return fn(selector, lhs, value, options);\n                        };\n                    };\n            };\n            for (var _c = 0, _d = Object.entries(customOperators); _c < _d.length; _c++) {\n                var _e = _d[_c], op = _e[0], f = _e[1];\n                _loop_1(op, f);\n            }\n            break;\n        case OperatorType.PROJECTION:\n            var _loop_2 = function (op, f) {\n                var fn = f;\n                normalizedOperators[op] = function (obj, expr, selector, options) {\n                    var lhs = (0, util_1.resolve)(obj, selector);\n                    return fn(selector, lhs, expr, options);\n                };\n            };\n            for (var _f = 0, _g = Object.entries(customOperators); _f < _g.length; _f++) {\n                var _h = _g[_f], op = _h[0], f = _h[1];\n                _loop_2(op, f);\n            }\n            break;\n        default:\n            var _loop_3 = function (op, fn) {\n                normalizedOperators[op] = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return fn.call.apply(fn, __spreadArray([null], args, false));\n                };\n            };\n            for (var _j = 0, _k = Object.entries(customOperators); _j < _k.length; _j++) {\n                var _l = _k[_j], op = _l[0], fn = _l[1];\n                _loop_3(op, fn);\n            }\n    }\n    // toss the operator salad :)\n    useOperators(operatorType, normalizedOperators);\n}\nexports.addOperators = addOperators;\n/* eslint-disable unused-imports/no-unused-vars-ts */\n/**\n * Implementation of system variables\n * @type {Object}\n */\nvar systemVariables = {\n    $$ROOT: function (obj, expr, options) {\n        return options.root;\n    },\n    $$CURRENT: function (obj, expr, options) {\n        return obj;\n    },\n    $$REMOVE: function (obj, expr, options) {\n        return undefined;\n    },\n};\n/**\n * Implementation of $redact variables\n *\n * Each function accepts 3 arguments (obj, expr, options)\n *\n * @type {Object}\n */\nvar redactVariables = {\n    $$KEEP: function (obj, expr, options) {\n        return obj;\n    },\n    $$PRUNE: function (obj, expr, options) {\n        return undefined;\n    },\n    $$DESCEND: function (obj, expr, options) {\n        // traverse nested documents iff there is a $cond\n        if (!(0, util_1.has)(expr, \"$cond\"))\n            return obj;\n        var result;\n        for (var _i = 0, _a = Object.entries(obj); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], current = _b[1];\n            if ((0, util_1.isObjectLike)(current)) {\n                if (current instanceof Array) {\n                    var array = [];\n                    for (var _c = 0, current_1 = current; _c < current_1.length; _c++) {\n                        var elem = current_1[_c];\n                        if ((0, util_1.isObject)(elem)) {\n                            elem = redact(elem, expr, options);\n                        }\n                        if (!(0, util_1.isNil)(elem)) {\n                            array.push(elem);\n                        }\n                    }\n                    result = array;\n                }\n                else {\n                    result = redact(current, expr, options);\n                }\n                if ((0, util_1.isNil)(result)) {\n                    delete obj[key]; // pruned result\n                }\n                else {\n                    obj[key] = result;\n                }\n            }\n        }\n        return obj;\n    },\n};\n/* eslint-enable unused-imports/no-unused-vars-ts */\n/**\n * Computes the value of the expression on the object for the given operator\n *\n * @param obj the current object from the collection\n * @param expr the expression for the given field\n * @param operator the operator to resolve the field with\n * @param options {Object} extra options\n * @returns {*}\n */\nfunction computeValue(obj, expr, operator, options) {\n    // ensure valid options exist on first invocation\n    options = options || makeOptions();\n    if ((0, util_1.isOperator)(operator)) {\n        // if the field of the object is a valid operator\n        var call = getOperator(OperatorType.EXPRESSION, operator);\n        if (call)\n            return call(obj, expr, options);\n        // we also handle $group accumulator operators\n        call = getOperator(OperatorType.ACCUMULATOR, operator);\n        if (call) {\n            // if object is not an array, first try to compute using the expression\n            if (!(obj instanceof Array)) {\n                obj = computeValue(obj, expr, null, options);\n                expr = null;\n            }\n            // validate that we have an array\n            (0, util_1.assert)(obj instanceof Array, \"'\" + operator + \"' target must be an array.\");\n            // we pass a null expression because all values have been resolved\n            return call(obj, expr, options);\n        }\n        // operator was not found\n        throw new Error(\"operator '\" + operator + \"' is not registered\");\n    }\n    // if expr is a variable for an object field\n    // field not used in this case\n    if ((0, util_1.isString)(expr) && expr.length > 0 && expr[0] === \"$\") {\n        // we return redact variables as literals\n        if ((0, util_1.has)(redactVariables, expr)) {\n            return expr;\n        }\n        // handle selectors with explicit prefix\n        var arr = expr.split(\".\");\n        if ((0, util_1.has)(systemVariables, arr[0])) {\n            // set 'root' only the first time it is required to be used for all subsequent calls\n            // if it already available on the options, it will be used\n            obj = systemVariables[arr[0]](obj, null, (0, util_1.into)({ root: obj }, options));\n            if (arr.length == 1)\n                return obj;\n            expr = expr.substr(arr[0].length); // '.' prefix will be sliced off below\n        }\n        return (0, util_1.resolve)(obj, expr.slice(1));\n    }\n    // check and return value if already in a resolved state\n    if (expr instanceof Array) {\n        return expr.map(function (item) {\n            return computeValue(obj, item, null, options);\n        });\n    }\n    else if ((0, util_1.isObject)(expr)) {\n        var result = {};\n        var _loop_4 = function (key, val) {\n            result[key] = computeValue(obj, val, key, options);\n            // must run ONLY one aggregate operator per expression\n            // if so, return result of the computed value\n            if ([OperatorType.EXPRESSION, OperatorType.ACCUMULATOR].some(function (c) {\n                return (0, util_1.has)(OPERATORS[c], key);\n            })) {\n                // there should be only one operator\n                (0, util_1.assert)(Object.keys(expr).length === 1, \"Invalid aggregation expression '\" + JSON.stringify(expr) + \"'\");\n                return { value: result[key] };\n            }\n        };\n        for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], val = _b[1];\n            var state_1 = _loop_4(key, val);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return result;\n    }\n    return expr;\n}\nexports.computeValue = computeValue;\n/**\n * Redact an object\n * @param  {Object} obj The object to redact\n * @param  {*} expr The redact expression\n * @param  {*} options  Options for value\n * @return {*} returns the result of the redacted object\n */\nfunction redact(obj, expr, options) {\n    var result = computeValue(obj, expr, null, options);\n    return (0, util_1.has)(redactVariables, result)\n        ? redactVariables[result](obj, expr, (0, util_1.into)({ root: obj }, options))\n        : result;\n}\nexports.redact = redact;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cursor = void 0;\nvar aggregator_1 = require(\"./aggregator\");\nvar lazy_1 = require(\"./lazy\");\nvar util_1 = require(\"./util\");\n/**\n * Cursor to iterate and perform filtering on matched objects.\n * This object must not be used directly. A cursor may be obtaine from calling `find()` on an instance of `Query`.\n *\n * @param collection The input source of the collection\n * @param predicate A predicate function to test documents\n * @param projection A projection criteria\n * @param options Options\n * @constructor\n */\nvar Cursor = /** @class */ (function () {\n    function Cursor(source, predicate, projection, options) {\n        this.source = source;\n        this.predicate = predicate;\n        this.projection = projection;\n        this.options = options;\n        this.operators = [];\n        this.result = null;\n        this.stack = [];\n    }\n    Cursor.prototype.fetch = function () {\n        if (this.result)\n            return this.result;\n        // add projection operator\n        if ((0, util_1.isObject)(this.projection)) {\n            this.operators.push({ $project: this.projection });\n        }\n        // filter collection\n        this.result = (0, lazy_1.Lazy)(this.source).filter(this.predicate);\n        if (this.operators.length > 0) {\n            this.result = new aggregator_1.Aggregator(this.operators, this.options).stream(this.result);\n        }\n        return this.result;\n    };\n    /**\n     * Return remaining objects in the cursor as an array. This method exhausts the cursor\n     * @returns {Array}\n     */\n    Cursor.prototype.all = function () {\n        return this.fetch().value();\n    };\n    /**\n     * Returns the number of objects return in the cursor. This method exhausts the cursor\n     * @returns {Number}\n     */\n    Cursor.prototype.count = function () {\n        return this.all().length;\n    };\n    /**\n     * Returns a cursor that begins returning results only after passing or skipping a number of documents.\n     * @param {Number} n the number of results to skip.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.skip = function (n) {\n        this.operators.push({ $skip: n });\n        return this;\n    };\n    /**\n     * Constrains the size of a cursor's result set.\n     * @param {Number} n the number of results to limit to.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.limit = function (n) {\n        this.operators.push({ $limit: n });\n        return this;\n    };\n    /**\n     * Returns results ordered according to a sort specification.\n     * @param {Object} modifier an object of key and values specifying the sort order. 1 for ascending and -1 for descending\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.sort = function (modifier) {\n        this.operators.push({ $sort: modifier });\n        return this;\n    };\n    /**\n     * Specifies the collation for the cursor returned by the `mingo.Query.find`\n     * @param {*} spec\n     */\n    Cursor.prototype.collation = function (spec) {\n        (0, util_1.into)(this.options, { collation: spec });\n        return this;\n    };\n    /**\n     * Returns the next document in a cursor.\n     * @returns {Object | Boolean}\n     */\n    Cursor.prototype.next = function () {\n        // empty stack means processing is done\n        if (!this.stack)\n            return;\n        // yield value obtains in hasNext()\n        if (this.stack.length > 0) {\n            return this.stack.pop();\n        }\n        var o = this.fetch().next();\n        if (!o.done)\n            return o.value;\n        this.stack = null;\n        return;\n    };\n    /**\n     * Returns true if the cursor has documents and can be iterated.\n     * @returns {boolean}\n     */\n    Cursor.prototype.hasNext = function () {\n        if (!this.stack)\n            return false; // done\n        // there is a value on stack\n        if (this.stack.length > 0)\n            return true;\n        var o = this.fetch().next();\n        if (o.done) {\n            this.stack = null;\n        }\n        else {\n            this.stack.push(o.value);\n        }\n        return !!this.stack;\n    };\n    /**\n     * Applies a function to each document in a cursor and collects the return values in an array.\n     * @param callback\n     * @returns {Array}\n     */\n    Cursor.prototype.map = function (callback) {\n        return this.fetch().map(callback).value();\n    };\n    /**\n     * Applies a JavaScript function for every document in a cursor.\n     * @param callback\n     */\n    Cursor.prototype.forEach = function (callback) {\n        this.fetch().each(callback);\n    };\n    Cursor.prototype[Symbol.iterator] = function () {\n        return this.fetch(); /* eslint-disable-line */\n    };\n    return Cursor;\n}());\nexports.Cursor = Cursor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aggregate = exports.remove = exports.find = exports.Query = exports.Aggregator = void 0;\n// loads basic operators\nrequire(\"./init/basic\");\nvar aggregator_1 = require(\"./aggregator\");\nvar query_1 = require(\"./query\");\nvar aggregator_2 = require(\"./aggregator\");\nObject.defineProperty(exports, \"Aggregator\", { enumerable: true, get: function () { return aggregator_2.Aggregator; } });\nvar query_2 = require(\"./query\");\nObject.defineProperty(exports, \"Query\", { enumerable: true, get: function () { return query_2.Query; } });\n/**\n * Performs a query on a collection and returns a cursor object.\n * Shorthand for `Query(criteria).find(collection, projection)`\n *\n * @param collection Array of objects\n * @param criteria Query criteria\n * @param projection Projection criteria\n * @param options\n * @returns {Cursor} A cursor of results\n */\nfunction find(collection, criteria, projection, options) {\n    return new query_1.Query(criteria, options).find(collection, projection);\n}\nexports.find = find;\n/**\n * Returns a new array without objects which match the criteria\n *\n * @param collection Array of objects\n * @param criteria Query criteria of objects to remove\n * @param options\n * @returns {Array} New filtered array\n */\nfunction remove(collection, criteria, options) {\n    return new query_1.Query(criteria, options).remove(collection);\n}\nexports.remove = remove;\n/**\n * Return the result collection after running the aggregation pipeline for the given collection.\n * Shorthand for `(new Aggregator(pipeline, options)).run(collection)`\n *\n * @param collection Collection or stream of objects\n * @param pipeline The pipeline operators to use\n * @param options\n * @returns {Array} New array of results\n */\nfunction aggregate(collection, pipeline, options) {\n    return new aggregator_1.Aggregator(pipeline, options).run(collection);\n}\nexports.aggregate = aggregate;\n// default interface\nexports.default = {\n    Aggregator: aggregator_1.Aggregator,\n    Query: query_1.Query,\n    aggregate: aggregate,\n    find: find,\n    remove: remove,\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Loads all Query and Projection operators\n */\n// helpers\nvar core_1 = require(\"../core\");\nvar booleanOperators = __importStar(require(\"../operators/expression/boolean\"));\nvar comparisonOperators = __importStar(require(\"../operators/expression/comparison\"));\nvar pipeline_1 = require(\"../operators/pipeline\");\nvar projectionOperators = __importStar(require(\"../operators/projection\"));\nvar queryOperators = __importStar(require(\"../operators/query\"));\nvar util_1 = require(\"../util\");\n/**\n * Enable basic operators. This includes only query and projection operators\n */\nfunction enableBasicOperators() {\n    (0, core_1.useOperators)(core_1.OperatorType.EXPRESSION, (0, util_1.into)({}, booleanOperators, comparisonOperators));\n    (0, core_1.useOperators)(core_1.OperatorType.PIPELINE, { $project: pipeline_1.$project, $skip: pipeline_1.$skip, $limit: pipeline_1.$limit, $sort: pipeline_1.$sort });\n    (0, core_1.useOperators)(core_1.OperatorType.PROJECTION, projectionOperators);\n    (0, core_1.useOperators)(core_1.OperatorType.QUERY, queryOperators);\n}\nenableBasicOperators();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Iterator = exports.Lazy = void 0;\n/**\n * Returns an iterator\n * @param {*} source An iterable source (Array, Function, Generator, or Iterator)\n */\nfunction Lazy(source) {\n    return source instanceof Iterator ? source : new Iterator(source);\n}\nexports.Lazy = Lazy;\n/**\n * Checks whether the given object is compatible with a generator i.e Object{next:Function}\n * @param {*} o An object\n */\nfunction isGenerator(o) {\n    var _a;\n    return (!!o && typeof o === \"object\" && ((_a = o) === null || _a === void 0 ? void 0 : _a.next) instanceof Function);\n}\nfunction dropItem(array, i) {\n    var rest = array.slice(i + 1);\n    array.splice(i);\n    Array.prototype.push.apply(array, rest);\n}\n// stop iteration error\nvar DONE = new Error();\n// Lazy function actions\nvar Action;\n(function (Action) {\n    Action[Action[\"MAP\"] = 0] = \"MAP\";\n    Action[Action[\"FILTER\"] = 1] = \"FILTER\";\n    Action[Action[\"TAKE\"] = 2] = \"TAKE\";\n    Action[Action[\"DROP\"] = 3] = \"DROP\";\n})(Action || (Action = {}));\nfunction createCallback(nextFn, iteratees, buffer) {\n    var done = false;\n    var index = -1;\n    var bufferIndex = 0; // index for the buffer\n    return function (storeResult) {\n        // special hack to collect all values into buffer\n        try {\n            outer: while (!done) {\n                var o = nextFn();\n                index++;\n                var i = -1;\n                var size = iteratees.length;\n                var innerDone = false;\n                while (++i < size) {\n                    var r = iteratees[i];\n                    switch (r.action) {\n                        case Action.MAP:\n                            o = r.func(o, index);\n                            break;\n                        case Action.FILTER:\n                            if (!r.func(o, index))\n                                continue outer;\n                            break;\n                        case Action.TAKE:\n                            --r.count;\n                            if (!r.count)\n                                innerDone = true;\n                            break;\n                        case Action.DROP:\n                            --r.count;\n                            if (!r.count)\n                                dropItem(iteratees, i);\n                            continue outer;\n                        default:\n                            break outer;\n                    }\n                }\n                done = innerDone;\n                if (storeResult) {\n                    buffer[bufferIndex++] = o;\n                }\n                else {\n                    return { value: o, done: false };\n                }\n            }\n        }\n        catch (e) {\n            if (e !== DONE)\n                throw e;\n        }\n        done = true;\n        return { done: done };\n    };\n}\n/**\n * A lazy collection iterator yields a single value at time upon request\n */\nvar Iterator = /** @class */ (function () {\n    /**\n     * @param {*} source An iterable object or function.\n     *    Array - return one element per cycle\n     *    Object{next:Function} - call next() for the next value (this also handles generator functions)\n     *    Function - call to return the next value\n     * @param {Function} fn An optional transformation function\n     */\n    function Iterator(source) {\n        this.iteratees = new Array(); // lazy function chain\n        this.yieldedValues = [];\n        this.iteratees = []; // lazy function chain\n        this.isSingle = false; // flag whether to return a single value\n        this.isDone = false;\n        this.yieldedValues = [];\n        var nextVal;\n        if (source instanceof Function) {\n            // make iterable\n            source = { next: source };\n        }\n        if (isGenerator(source)) {\n            var src_1 = source;\n            nextVal = function () {\n                var o = src_1.next();\n                if (o.done)\n                    throw DONE;\n                return o.value;\n            };\n        }\n        else if (source instanceof Array) {\n            var data_1 = source;\n            var size_1 = data_1.length;\n            var index_1 = 0;\n            nextVal = function () {\n                if (index_1 < size_1)\n                    return data_1[index_1++];\n                throw DONE;\n            };\n        }\n        else if (!(source instanceof Function)) {\n            throw new Error(\"Source is of type '\" + typeof source + \"'. Must be Array, Function, or Generator\");\n        }\n        // create next function\n        this.getNext = createCallback(nextVal, this.iteratees, this.yieldedValues);\n    }\n    Iterator.prototype.validate = function () {\n        if (this.isSingle)\n            throw new Error(\"Cannot add iteratee/transform after `first()`\");\n    };\n    /**\n     * Add an iteratee to this lazy sequence\n     * @param {Object} iteratee\n     */\n    Iterator.prototype.push = function (action, value) {\n        this.validate();\n        if (typeof value === \"function\") {\n            this.iteratees.push({ action: action, func: value });\n        }\n        else if (typeof value === \"number\") {\n            this.iteratees.push({ action: action, count: value });\n        }\n        else {\n            throw Error(\"invalid value\");\n        }\n        return this;\n    };\n    Iterator.prototype.next = function () {\n        return this.getNext();\n    };\n    // Iteratees methods\n    /**\n     * Transform each item in the sequence to a new value\n     * @param {Function} f\n     */\n    Iterator.prototype.map = function (f) {\n        return this.push(Action.MAP, f);\n    };\n    /**\n     * Select only items matching the given predicate\n     * @param {Function} pred\n     */\n    Iterator.prototype.filter = function (predicate) {\n        return this.push(Action.FILTER, predicate);\n    };\n    /**\n     * Take given numbe for values from sequence\n     * @param {Number} n A number greater than 0\n     */\n    Iterator.prototype.take = function (n) {\n        return n > 0 ? this.push(Action.TAKE, n) : this;\n    };\n    /**\n     * Drop a number of values from the sequence\n     * @param {Number} n Number of items to drop greater than 0\n     */\n    Iterator.prototype.drop = function (n) {\n        return n > 0 ? this.push(Action.DROP, n) : this;\n    };\n    // Transformations\n    /**\n     * Returns a new lazy object with results of the transformation\n     * The entire sequence is realized.\n     *\n     * @param {Function} fn Tranform function of type (Array) => (Any)\n     */\n    Iterator.prototype.transform = function (fn) {\n        this.validate();\n        var self = this;\n        var iter;\n        return Lazy(function () {\n            if (!iter) {\n                iter = Lazy(fn(self.value()));\n            }\n            return iter.next();\n        });\n    };\n    /**\n     * Mark this lazy object to return only the first result on `lazy.value()`.\n     * No more iteratees or transformations can be added after this method is called.\n     */\n    Iterator.prototype.first = function () {\n        this.take(1);\n        this.isSingle = true;\n        return this;\n    };\n    // Terminal methods\n    /**\n     * Returns the fully realized values of the iterators.\n     * The return value will be an array unless `lazy.first()` was used.\n     * The realized values are cached for subsequent calls\n     */\n    Iterator.prototype.value = function () {\n        if (!this.isDone) {\n            this.isDone = this.getNext(true).done;\n        }\n        return this.isSingle ? this.yieldedValues[0] : this.yieldedValues;\n    };\n    /**\n     * Execute the funcion for each value. Will stop when an execution returns false.\n     * @param {Function} f\n     * @returns {Boolean} false iff `f` return false for AnyVal execution, otherwise true\n     */\n    Iterator.prototype.each = function (f) {\n        for (;;) {\n            var o = this.next();\n            if (o.done)\n                break;\n            if (f(o.value) === false)\n                return false;\n        }\n        return true;\n    };\n    /**\n     * Returns the reduction of sequence according the reducing function\n     *\n     * @param {*} f a reducing function\n     * @param {*} init\n     */\n    Iterator.prototype.reduce = function (f, initialValue) {\n        var o = this.next();\n        var i = 0;\n        if (initialValue === undefined && !o.done) {\n            initialValue = o.value;\n            o = this.next();\n            i++;\n        }\n        while (!o.done) {\n            initialValue = f(initialValue, o.value, i++);\n            o = this.next();\n        }\n        return initialValue;\n    };\n    /**\n     * Returns the number of matched items in the sequence\n     */\n    Iterator.prototype.size = function () {\n        return this.reduce(function (acc, _) { return ++acc; }, 0);\n    };\n    Iterator.prototype[Symbol.iterator] = function () {\n        /* eslint-disable @typescript-eslint/no-unsafe-return */\n        return this;\n    };\n    return Iterator;\n}());\nexports.Iterator = Iterator;\n","\"use strict\";\n/**\n * Predicates used for Query and Expression operators.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$type = exports.$elemMatch = exports.$size = exports.$all = exports.$exists = exports.$regex = exports.$mod = exports.$gte = exports.$gt = exports.$lte = exports.$lt = exports.$nin = exports.$in = exports.$ne = exports.$eq = exports.createExpressionOperator = exports.createQueryOperator = void 0;\nvar core_1 = require(\"../core\");\nvar query_1 = require(\"../query\");\nvar util_1 = require(\"../util\");\n/**\n * Returns a query operator created from the predicate\n *\n * @param predicate Predicate function\n */\nfunction createQueryOperator(predicate) {\n    return function (selector, value, options) {\n        var opts = { unwrapArray: true };\n        return function (obj) {\n            // value of field must be fully resolved.\n            var lhs = (0, util_1.resolve)(obj, selector, opts);\n            return predicate(lhs, value, options);\n        };\n    };\n}\nexports.createQueryOperator = createQueryOperator;\n/**\n * Returns an expression operator created from the predicate\n *\n * @param predicate Predicate function\n */\nfunction createExpressionOperator(predicate) {\n    return function (obj, expr, options) {\n        var args = (0, core_1.computeValue)(obj, expr, null, options);\n        return predicate.apply(void 0, args);\n    };\n}\nexports.createExpressionOperator = createExpressionOperator;\n/**\n * Checks that two values are equal.\n *\n * @param a         The lhs operand as resolved from the object by the given selector\n * @param b         The rhs operand provided by the user\n * @returns {*}\n */\nfunction $eq(a, b, options) {\n    // start with simple equality check\n    if ((0, util_1.isEqual)(a, b))\n        return true;\n    // https://docs.mongodb.com/manual/tutorial/query-for-null-fields/\n    if ((0, util_1.isNil)(a) && (0, util_1.isNil)(b))\n        return true;\n    // check\n    if (a instanceof Array) {\n        var eq = util_1.isEqual.bind(null, b);\n        return a.some(eq) || (0, util_1.flatten)(a, 1).some(eq);\n    }\n    return false;\n}\nexports.$eq = $eq;\n/**\n * Matches all values that are not equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $ne(a, b, options) {\n    return !$eq(a, b, options);\n}\nexports.$ne = $ne;\n/**\n * Matches any of the values that exist in an array specified in the query.\n *\n * @param a\n * @param b\n * @returns {*}\n */\nfunction $in(a, b, options) {\n    // queries for null should be able to find undefined fields\n    if ((0, util_1.isNil)(a))\n        return b.some(util_1.isNull);\n    return (0, util_1.intersection)((0, util_1.ensureArray)(a), b, options === null || options === void 0 ? void 0 : options.hashFunction).length > 0;\n}\nexports.$in = $in;\n/**\n * Matches values that do not exist in an array specified to the query.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nfunction $nin(a, b, options) {\n    return !$in(a, b, options);\n}\nexports.$nin = $nin;\n/**\n * Matches values that are less than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $lt(a, b, options) {\n    return compare(a, b, function (x, y) { return x < y; });\n}\nexports.$lt = $lt;\n/**\n * Matches values that are less than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $lte(a, b, options) {\n    return compare(a, b, function (x, y) { return x <= y; });\n}\nexports.$lte = $lte;\n/**\n * Matches values that are greater than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $gt(a, b, options) {\n    return compare(a, b, function (x, y) { return x > y; });\n}\nexports.$gt = $gt;\n/**\n * Matches values that are greater than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $gte(a, b, options) {\n    return compare(a, b, function (x, y) { return x >= y; });\n}\nexports.$gte = $gte;\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $mod(a, b, options) {\n    return (0, util_1.ensureArray)(a).some(function (x) { return b.length === 2 && x % b[0] === b[1]; });\n}\nexports.$mod = $mod;\n/**\n * Selects documents where values match a specified regular expression.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $regex(a, b, options) {\n    var lhs = (0, util_1.ensureArray)(a);\n    var match = function (x) { return (0, util_1.isString)(x) && !!b.exec(x); };\n    return lhs.some(match) || (0, util_1.flatten)(lhs, 1).some(match);\n}\nexports.$regex = $regex;\n/**\n * Matches documents that have the specified field.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $exists(a, b, options) {\n    return (((b === false || b === 0) && a === undefined) ||\n        ((b === true || b === 1) && a !== undefined));\n}\nexports.$exists = $exists;\n/**\n * Matches arrays that contain all elements specified in the query.\n *\n * @param values\n * @param queries\n * @returns boolean\n */\nfunction $all(values, queries, options) {\n    if (!(0, util_1.isArray)(values) ||\n        !(0, util_1.isArray)(queries) ||\n        !values.length ||\n        !queries.length) {\n        return false;\n    }\n    var matched = true;\n    var _loop_1 = function (query) {\n        // no need to check all the queries.\n        if (!matched)\n            return \"break\";\n        if ((0, util_1.isObject)(query) && (0, util_1.inArray)(Object.keys(query), \"$elemMatch\")) {\n            matched = $elemMatch(values, query[\"$elemMatch\"], options);\n        }\n        else if (query instanceof RegExp) {\n            matched = values.some(function (s) { return typeof s === \"string\" && query.test(s); });\n        }\n        else {\n            matched = values.some(function (v) { return (0, util_1.isEqual)(query, v); });\n        }\n    };\n    for (var _i = 0, queries_1 = queries; _i < queries_1.length; _i++) {\n        var query = queries_1[_i];\n        var state_1 = _loop_1(query);\n        if (state_1 === \"break\")\n            break;\n    }\n    return matched;\n}\nexports.$all = $all;\n/**\n * Selects documents if the array field is a specified size.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nfunction $size(a, b, options) {\n    return a.length === b;\n}\nexports.$size = $size;\nfunction isNonBooleanOperator(name) {\n    return (0, util_1.isOperator)(name) && [\"$and\", \"$or\", \"$nor\"].indexOf(name) === -1;\n}\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch condition.\n *\n * @param a {Array} element to match against\n * @param b {Object} subquery\n */\nfunction $elemMatch(a, b, options) {\n    // should return false for non-matching input\n    if ((0, util_1.isArray)(a) && !(0, util_1.isEmpty)(a)) {\n        var format = function (x) { return x; };\n        var criteria = b;\n        // If we find a boolean operator in the subquery, we fake a field to point to it. This is an\n        // attempt to ensure that it is a valid criteria. We cannot make this substitution for operators\n        // like $and/$or/$nor; as otherwise, this faking will break our query.\n        if (Object.keys(b).every(isNonBooleanOperator)) {\n            criteria = { temp: b };\n            format = function (x) { return ({ temp: x }); };\n        }\n        var query = new query_1.Query(criteria, options);\n        for (var i = 0, len = a.length; i < len; i++) {\n            if (query.test(format(a[i]))) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexports.$elemMatch = $elemMatch;\n/**\n * Selects documents if a field is of the specified type.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction compareType(a, b, options) {\n    switch (b) {\n        case 1:\n        case 19:\n        case util_1.BsonType.DOUBLE:\n        case util_1.BsonType.DECIMAL:\n            return (0, util_1.isNumber)(a);\n        case 2:\n        case util_1.JsType.STRING:\n            return (0, util_1.isString)(a);\n        case 3:\n        case util_1.JsType.OBJECT:\n            return (0, util_1.isObject)(a);\n        case 4:\n        case util_1.JsType.ARRAY:\n            return (0, util_1.isArray)(a);\n        case 6:\n        case util_1.JsType.UNDEFINED:\n            return (0, util_1.isNil)(a);\n        case 8:\n        case util_1.JsType.BOOLEAN:\n        case util_1.BsonType.BOOL:\n            return (0, util_1.isBoolean)(a);\n        case 9:\n        case util_1.JsType.DATE:\n            return (0, util_1.isDate)(a);\n        case 10:\n        case util_1.JsType.NULL:\n            return (0, util_1.isNull)(a);\n        case 11:\n        case util_1.JsType.REGEXP:\n        case util_1.BsonType.REGEX:\n            return (0, util_1.isRegExp)(a);\n        case 16:\n        case util_1.BsonType.INT:\n            return ((0, util_1.isNumber)(a) &&\n                a >= util_1.MIN_INT &&\n                a <= util_1.MAX_INT &&\n                a.toString().indexOf(\".\") === -1);\n        case 18:\n        case util_1.BsonType.LONG:\n            return ((0, util_1.isNumber)(a) &&\n                a >= util_1.MIN_LONG &&\n                a <= util_1.MAX_LONG &&\n                a.toString().indexOf(\".\") === -1);\n        default:\n            return false;\n    }\n}\n/**\n * Selects documents if a field is of the specified type.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $type(a, b, options) {\n    return Array.isArray(b)\n        ? b.findIndex(function (t) { return compareType(a, t, options); }) >= 0\n        : compareType(a, b, options);\n}\nexports.$type = $type;\nfunction compare(a, b, f) {\n    return (0, util_1.ensureArray)(a).some(function (x) { return (0, util_1.getType)(x) === (0, util_1.getType)(b) && f(x, b); });\n}\n","\"use strict\";\n// Array Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#array-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$slice = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns a subset of an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nfunction $slice(obj, expr, options) {\n    var args = (0, core_1.computeValue)(obj, expr, null, options);\n    var arr = args[0];\n    var skip = args[1];\n    var limit = args[2];\n    // MongoDB $slice works a bit differently from Array.slice\n    // Uses single argument for 'limit' and array argument [skip, limit]\n    if ((0, util_1.isNil)(limit)) {\n        if (skip < 0) {\n            skip = Math.max(0, arr.length + skip);\n            limit = arr.length - skip + 1;\n        }\n        else {\n            limit = skip;\n            skip = 0;\n        }\n    }\n    else {\n        if (skip < 0) {\n            skip = Math.max(0, arr.length + skip);\n        }\n        (0, util_1.assert)(limit > 0, \"Invalid argument for $slice operator. Limit must be a positive number\");\n        limit += skip;\n    }\n    return arr.slice(skip, limit);\n}\nexports.$slice = $slice;\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$and = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns true only when all its expressions evaluate to true. Accepts any number of argument expressions.\n *\n * @param obj\n * @param expr\n * @returns {boolean}\n */\nfunction $and(obj, expr, options) {\n    var value = (0, core_1.computeValue)(obj, expr, null, options);\n    return (0, util_1.truthy)(value) && value.every(util_1.truthy);\n}\nexports.$and = $and;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./and\"), exports);\n__exportStar(require(\"./not\"), exports);\n__exportStar(require(\"./or\"), exports);\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$not = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns the boolean value that is the opposite of its argument expression. Accepts a single argument expression.\n *\n * @param obj RawObject from collection\n * @param expr Right hand side expression of operator\n * @returns {boolean}\n */\nfunction $not(obj, expr, options) {\n    var booleanExpr = (0, util_1.ensureArray)(expr);\n    // array values are truthy so an emty array is false\n    if (booleanExpr.length == 0)\n        return false;\n    // use provided value non-array value\n    if (booleanExpr.length == 1)\n        return !(0, core_1.computeValue)(obj, booleanExpr[0], null, options);\n    // expects a single argument\n    throw \"Expression $not takes exactly 1 argument\";\n}\nexports.$not = $not;\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$or = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns true when any of its expressions evaluates to true. Accepts any number of argument expressions.\n *\n * @param obj\n * @param expr\n * @returns {boolean}\n */\nfunction $or(obj, expr, options) {\n    var value = (0, core_1.computeValue)(obj, expr, null, options);\n    return (0, util_1.truthy)(value) && value.some(util_1.truthy);\n}\nexports.$or = $or;\n","\"use strict\";\n// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$cmp = exports.$ne = exports.$lte = exports.$lt = exports.$gte = exports.$gt = exports.$eq = void 0;\nvar core_1 = require(\"../../core\");\nvar _predicates_1 = require(\"../_predicates\");\nexports.$eq = (0, _predicates_1.createExpressionOperator)(_predicates_1.$eq);\nexports.$gt = (0, _predicates_1.createExpressionOperator)(_predicates_1.$gt);\nexports.$gte = (0, _predicates_1.createExpressionOperator)(_predicates_1.$gte);\nexports.$lt = (0, _predicates_1.createExpressionOperator)(_predicates_1.$lt);\nexports.$lte = (0, _predicates_1.createExpressionOperator)(_predicates_1.$lte);\nexports.$ne = (0, _predicates_1.createExpressionOperator)(_predicates_1.$ne);\n/**\n * Compares two values and returns the result of the comparison as an integer.\n *\n * @param obj\n * @param expr\n * @returns {number}\n */\nfunction $cmp(obj, expr, options) {\n    var args = (0, core_1.computeValue)(obj, expr, null, options);\n    if (args[0] > args[1])\n        return 1;\n    if (args[0] < args[1])\n        return -1;\n    return 0;\n}\nexports.$cmp = $cmp;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$addFields = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Adds new fields to documents.\n * Outputs documents that contain all existing fields from the input documents and newly added fields.\n *\n * @param {Iterator} collection\n * @param {Object} expr\n * @param {Options} options\n */\nfunction $addFields(collection, expr, options) {\n    var newFields = Object.keys(expr);\n    if (newFields.length === 0)\n        return collection;\n    return collection.map(function (obj) {\n        var newObj = __assign({}, obj);\n        for (var _i = 0, newFields_1 = newFields; _i < newFields_1.length; _i++) {\n            var field = newFields_1[_i];\n            var newValue = (0, core_1.computeValue)(obj, expr[field], null, options);\n            if (newValue !== undefined) {\n                (0, util_1.setValue)(newObj, field, newValue);\n            }\n            else {\n                (0, util_1.removeValue)(newObj, field);\n            }\n        }\n        return newObj;\n    });\n}\nexports.$addFields = $addFields;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bucket = void 0;\nvar core_1 = require(\"../../core\");\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Categorizes incoming documents into groups, called buckets, based on a specified expression and bucket boundaries.\n * https://docs.mongodb.com/manual/reference/operator/aggregation/bucket/\n *\n * @param {*} collection\n * @param {*} expr\n * @param {Options} opt Pipeline options\n */\nfunction $bucket(collection, expr, options) {\n    var boundaries = __spreadArray([], expr.boundaries, true);\n    var defaultKey = expr.default;\n    var lower = boundaries[0]; // inclusive\n    var upper = boundaries[boundaries.length - 1]; // exclusive\n    var outputExpr = expr.output || { count: { $sum: 1 } };\n    (0, util_1.assert)(expr.boundaries.length > 2, \"$bucket 'boundaries' expression must have at least 3 elements\");\n    var boundType = (0, util_1.getType)(lower);\n    for (var i = 0, len = boundaries.length - 1; i < len; i++) {\n        (0, util_1.assert)(boundType === (0, util_1.getType)(boundaries[i + 1]), \"$bucket 'boundaries' must all be of the same type\");\n        (0, util_1.assert)(boundaries[i] < boundaries[i + 1], \"$bucket 'boundaries' must be sorted in ascending order\");\n    }\n    !(0, util_1.isNil)(defaultKey) &&\n        (0, util_1.getType)(expr.default) === (0, util_1.getType)(lower) &&\n        (0, util_1.assert)(expr.default >= upper || expr.default < lower, \"$bucket 'default' expression must be out of boundaries range\");\n    var grouped = {};\n    for (var _i = 0, boundaries_1 = boundaries; _i < boundaries_1.length; _i++) {\n        var k = boundaries_1[_i];\n        grouped[k] = [];\n    }\n    // add default key if provided\n    if (!(0, util_1.isNil)(defaultKey))\n        grouped[defaultKey] = [];\n    var iterator = null;\n    return (0, lazy_1.Lazy)(function () {\n        if (iterator === null) {\n            collection.each(function (obj) {\n                var key = (0, core_1.computeValue)(obj, expr.groupBy, null, options);\n                if ((0, util_1.isNil)(key) || key < lower || key >= upper) {\n                    (0, util_1.assert)(!(0, util_1.isNil)(defaultKey), \"$bucket require a default for out of range values\");\n                    grouped[defaultKey].push(obj);\n                }\n                else {\n                    (0, util_1.assert)(key >= lower && key < upper, \"$bucket 'groupBy' expression must resolve to a value in range of boundaries\");\n                    var index = findInsertIndex(boundaries, key);\n                    var boundKey = boundaries[Math.max(0, index - 1)];\n                    grouped[boundKey].push(obj);\n                }\n            });\n            // upper bound is exclusive so we remove it\n            boundaries.pop();\n            if (!(0, util_1.isNil)(defaultKey))\n                boundaries.push(defaultKey);\n            iterator = (0, lazy_1.Lazy)(boundaries).map(function (key) {\n                var acc = (0, core_1.computeValue)(grouped[key], outputExpr, null, options);\n                return (0, util_1.into)(acc, { _id: key });\n            });\n        }\n        return iterator.next();\n    });\n}\nexports.$bucket = $bucket;\n/**\n * Find the insert index for the given key in a sorted array.\n *\n * @param {*} sorted The sorted array to search\n * @param {*} item The search key\n */\nfunction findInsertIndex(sorted, item) {\n    // uses binary search\n    var lo = 0;\n    var hi = sorted.length - 1;\n    while (lo <= hi) {\n        var mid = Math.round(lo + (hi - lo) / 2);\n        if (item < sorted[mid]) {\n            hi = mid - 1;\n        }\n        else if (item > sorted[mid]) {\n            lo = mid + 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return lo;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bucketAuto = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Categorizes incoming documents into a specific number of groups, called buckets,\n * based on a specified expression. Bucket boundaries are automatically determined\n * in an attempt to evenly distribute the documents into the specified number of buckets.\n * https://docs.mongodb.com/manual/reference/operator/aggregation/bucketAuto/\n *\n * @param {*} collection\n * @param {*} expr\n * @param {*} options\n */\nfunction $bucketAuto(collection, expr, options) {\n    var outputExpr = expr.output || { count: { $sum: 1 } };\n    var groupByExpr = expr.groupBy;\n    var bucketCount = expr.buckets;\n    (0, util_1.assert)(bucketCount > 0, \"The $bucketAuto 'buckets' field must be greater than 0, but found: \" + bucketCount);\n    var ID_KEY = \"_id\";\n    return collection.transform(function (coll) {\n        var approxBucketSize = Math.max(1, Math.round(coll.length / bucketCount));\n        var computeValueOptimized = (0, util_1.memoize)(core_1.computeValue, options === null || options === void 0 ? void 0 : options.hashFunction);\n        var grouped = {};\n        var remaining = [];\n        var sorted = (0, util_1.sortBy)(coll, function (o) {\n            var key = computeValueOptimized(o, groupByExpr, null, options);\n            if ((0, util_1.isNil)(key)) {\n                remaining.push(o);\n            }\n            else {\n                grouped[key] || (grouped[key] = []);\n                grouped[key].push(o);\n            }\n            return key;\n        });\n        var result = [];\n        var index = 0; // counter for sorted collection\n        for (var i = 0, len = sorted.length; i < bucketCount && index < len; i++) {\n            var boundaries = {};\n            var bucketItems = [];\n            for (var j = 0; j < approxBucketSize && index < len; j++) {\n                var key = computeValueOptimized(sorted[index], groupByExpr, null, options);\n                if ((0, util_1.isNil)(key))\n                    key = null;\n                // populate current bucket with all values for current key\n                (0, util_1.into)(bucketItems, (0, util_1.isNil)(key) ? remaining : grouped[key]);\n                // increase sort index by number of items added\n                index += (0, util_1.isNil)(key) ? remaining.length : grouped[key].length;\n                // set the min key boundary if not already present\n                if (!(0, util_1.has)(boundaries, \"min\"))\n                    boundaries.min = key;\n                if (result.length > 0) {\n                    var lastBucket = result[result.length - 1];\n                    lastBucket[ID_KEY].max = boundaries.min;\n                }\n            }\n            // if is last bucket add remaining items\n            if (i == bucketCount - 1) {\n                (0, util_1.into)(bucketItems, sorted.slice(index));\n            }\n            var values = (0, core_1.computeValue)(bucketItems, outputExpr, null, options);\n            result.push((0, util_1.into)(values, {\n                _id: boundaries,\n            }));\n        }\n        if (result.length > 0) {\n            result[result.length - 1][ID_KEY].max =\n                computeValueOptimized(sorted[sorted.length - 1], groupByExpr, null, options);\n        }\n        return result;\n    });\n}\nexports.$bucketAuto = $bucketAuto;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$count = void 0;\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Returns a document that contains a count of the number of documents input to the stage.\n *\n * @param {Array} collection\n * @param {String} expr\n * @param {Options} options\n * @return {Object}\n */\nfunction $count(collection, expr, options) {\n    (0, util_1.assert)((0, util_1.isString)(expr) &&\n        expr.trim() !== \"\" &&\n        expr.indexOf(\".\") === -1 &&\n        expr.trim()[0] !== \"$\", \"Invalid expression value for $count\");\n    return (0, lazy_1.Lazy)(function () {\n        var o = {};\n        o[expr] = collection.size();\n        return { value: o, done: false };\n    }).first();\n}\nexports.$count = $count;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$facet = void 0;\nvar aggregator_1 = require(\"../../aggregator\");\nvar util_1 = require(\"../../util\");\n/**\n * Processes multiple aggregation pipelines within a single stage on the same set of input documents.\n * Enables the creation of multi-faceted aggregations capable of characterizing data across multiple dimensions, or facets, in a single stage.\n */\nfunction $facet(collection, expr, options) {\n    return collection.transform(function (array) {\n        return [\n            (0, util_1.objectMap)(expr, function (pipeline) {\n                return new aggregator_1.Aggregator(pipeline, options).run(array);\n            }),\n        ];\n    });\n}\nexports.$facet = $facet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$group = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Groups documents together for the purpose of calculating aggregate values based on a collection of documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array}\n */\nfunction $group(collection, expr, options) {\n    // lookup key for grouping\n    var ID_KEY = \"_id\";\n    var id = expr[ID_KEY];\n    return collection.transform(function (coll) {\n        var partitions = (0, util_1.groupBy)(coll, function (obj) { return (0, core_1.computeValue)(obj, id, null, options); }, options === null || options === void 0 ? void 0 : options.hashFunction);\n        // remove the group key\n        expr = (0, util_1.into)({}, expr);\n        delete expr[ID_KEY];\n        var i = -1;\n        var size = partitions.keys.length;\n        return function () {\n            if (++i === size)\n                return { done: true };\n            var value = partitions.keys[i];\n            var obj = {};\n            // exclude undefined key value\n            if (value !== undefined) {\n                obj[ID_KEY] = value;\n            }\n            // compute remaining keys in expression\n            for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n                var _b = _a[_i], key = _b[0], val = _b[1];\n                obj[key] = (0, core_1.computeValue)(partitions.groups[i], val, key, options);\n            }\n            return { value: obj, done: false };\n        };\n    });\n}\nexports.$group = $group;\n","\"use strict\";\n/**\n * Pipeline Aggregation Stages. https://docs.mongodb.com/manual/reference/operator/aggregation-\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./addFields\"), exports);\n__exportStar(require(\"./bucket\"), exports);\n__exportStar(require(\"./bucketAuto\"), exports);\n__exportStar(require(\"./count\"), exports);\n__exportStar(require(\"./facet\"), exports);\n__exportStar(require(\"./group\"), exports);\n__exportStar(require(\"./limit\"), exports);\n__exportStar(require(\"./lookup\"), exports);\n__exportStar(require(\"./match\"), exports);\n__exportStar(require(\"./out\"), exports);\n__exportStar(require(\"./project\"), exports);\n__exportStar(require(\"./redact\"), exports);\n__exportStar(require(\"./replaceRoot\"), exports);\n__exportStar(require(\"./replaceWith\"), exports);\n__exportStar(require(\"./sample\"), exports);\n__exportStar(require(\"./set\"), exports);\n__exportStar(require(\"./skip\"), exports);\n__exportStar(require(\"./sort\"), exports);\n__exportStar(require(\"./sortByCount\"), exports);\n__exportStar(require(\"./unset\"), exports);\n__exportStar(require(\"./unwind\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$limit = void 0;\n/**\n * Restricts the number of documents in an aggregation pipeline.\n *\n * @param collection\n * @param value\n * @param options\n * @returns {Object|*}\n */\nfunction $limit(collection, expr, options) {\n    return collection.take(expr);\n}\nexports.$limit = $limit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$lookup = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Performs a left outer join to another collection in the same database to filter in documents from the “joined” collection for processing.\n *\n * @param collection\n * @param expr\n * @param opt\n */\nfunction $lookup(collection, expr, options) {\n    var joinColl = (0, util_1.isString)(expr.from)\n        ? options === null || options === void 0 ? void 0 : options.collectionResolver(expr.from)\n        : expr.from;\n    (0, util_1.assert)(joinColl instanceof Array, \"'from' field must resolve to an array\");\n    var hash = {};\n    for (var _i = 0, joinColl_1 = joinColl; _i < joinColl_1.length; _i++) {\n        var obj = joinColl_1[_i];\n        var k = (0, util_1.hashCode)((0, util_1.resolve)(obj, expr.foreignField), options === null || options === void 0 ? void 0 : options.hashFunction);\n        hash[k] = hash[k] || [];\n        hash[k].push(obj);\n    }\n    return collection.map(function (obj) {\n        var k = (0, util_1.hashCode)((0, util_1.resolve)(obj, expr.localField), options === null || options === void 0 ? void 0 : options.hashFunction);\n        var newObj = (0, util_1.into)({}, obj);\n        newObj[expr.as] = hash[k] || [];\n        return newObj;\n    });\n}\nexports.$lookup = $lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$match = void 0;\nvar query_1 = require(\"../../query\");\n/**\n * Filters the document stream, and only allows matching documents to pass into the next pipeline stage.\n * $match uses standard MongoDB queries.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array|*}\n */\nfunction $match(collection, expr, options) {\n    var q = new query_1.Query(expr, options);\n    return collection.filter(function (o) { return q.test(o); });\n}\nexports.$match = $match;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$out = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Takes the documents returned by the aggregation pipeline and writes them to a specified collection.\n *\n * Unlike the $out operator in MongoDB, this operator can appear in any position in the pipeline and is\n * useful for collecting intermediate results of an aggregation operation.\n *\n * Note: Object are deep cloned for outputing regardless of the ProcessingMode.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {*}\n */\nfunction $out(collection, expr, options) {\n    var outputColl = (0, util_1.isString)(expr)\n        ? options === null || options === void 0 ? void 0 : options.collectionResolver(expr)\n        : expr;\n    (0, util_1.assert)(outputColl instanceof Array, \"expression must resolve to an array\");\n    return collection.map(function (o) {\n        outputColl.push((0, util_1.cloneDeep)(o));\n        return o; // passthrough\n    });\n}\nexports.$out = $out;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$project = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Reshapes a document stream.\n * $project can rename, add, or remove fields as well as create computed values and sub-documents.\n *\n * @param collection\n * @param expr\n * @param opt\n * @returns {Array}\n */\nfunction $project(collection, expr, options) {\n    if ((0, util_1.isEmpty)(expr))\n        return collection;\n    // result collection\n    var expressionKeys = Object.keys(expr);\n    var idOnlyExcluded = false;\n    // validate inclusion and exclusion\n    validateExpression(expr, options);\n    var ID_KEY = options.idKey;\n    if ((0, util_1.inArray)(expressionKeys, ID_KEY)) {\n        var id = expr[ID_KEY];\n        if (id === 0 || id === false) {\n            expressionKeys = expressionKeys.filter(util_1.notInArray.bind(null, [ID_KEY]));\n            idOnlyExcluded = expressionKeys.length == 0;\n        }\n    }\n    else {\n        // if not specified the add the ID field\n        expressionKeys.push(ID_KEY);\n    }\n    return collection.map(function (obj) {\n        return processObject(obj, expr, options, expressionKeys, idOnlyExcluded);\n    });\n}\nexports.$project = $project;\n/**\n * Process the expression value for $project operators\n *\n * @param {Object} obj The object to use as options\n * @param {Object} expr The experssion object of $project operator\n * @param {Array} expressionKeys The key in the 'expr' object\n * @param {Boolean} idOnlyExcluded Boolean value indicating whether only the ID key is excluded\n */\nfunction processObject(obj, expr, options, expressionKeys, idOnlyExcluded) {\n    var newObj = {};\n    var foundSlice = false;\n    var foundExclusion = false;\n    var dropKeys = [];\n    if (idOnlyExcluded) {\n        dropKeys.push(options.idKey);\n    }\n    var _loop_1 = function (key) {\n        // final computed value of the key\n        var value = undefined;\n        // expression to associate with key\n        var subExpr = expr[key];\n        if (key !== options.idKey && (0, util_1.inArray)([0, false], subExpr)) {\n            foundExclusion = true;\n        }\n        if (key === options.idKey && (0, util_1.isEmpty)(subExpr)) {\n            // tiny optimization here to skip over id\n            value = obj[key];\n        }\n        else if ((0, util_1.isString)(subExpr)) {\n            value = (0, core_1.computeValue)(obj, subExpr, key, options);\n        }\n        else if ((0, util_1.inArray)([1, true], subExpr)) {\n            // For direct projections, we use the resolved object value\n        }\n        else if (subExpr instanceof Array) {\n            value = subExpr.map(function (v) {\n                var r = (0, core_1.computeValue)(obj, v, null, options);\n                if ((0, util_1.isNil)(r))\n                    return null;\n                return r;\n            });\n        }\n        else if ((0, util_1.isObject)(subExpr)) {\n            var subExprObj_1 = subExpr;\n            var subExprKeys_1 = Object.keys(subExpr);\n            var operator = subExprKeys_1.length == 1 ? subExprKeys_1[0] : null;\n            // first try a projection operator\n            var call = (0, core_1.getOperator)(core_1.OperatorType.PROJECTION, operator);\n            if (call) {\n                // apply the projection operator on the operator expression for the key\n                if (operator === \"$slice\") {\n                    // $slice is handled differently for aggregation and projection operations\n                    if ((0, util_1.ensureArray)(subExprObj_1[operator]).every(util_1.isNumber)) {\n                        // $slice for projection operation\n                        value = call(obj, subExprObj_1[operator], key);\n                        foundSlice = true;\n                    }\n                    else {\n                        // $slice for aggregation operation\n                        value = (0, core_1.computeValue)(obj, subExprObj_1, key, options);\n                    }\n                }\n                else {\n                    value = call(obj, subExprObj_1[operator], key, options);\n                }\n            }\n            else if ((0, util_1.isOperator)(operator)) {\n                // compute if operator key\n                value = (0, core_1.computeValue)(obj, subExprObj_1[operator], operator, options);\n            }\n            else if ((0, util_1.has)(obj, key)) {\n                // compute the value for the sub expression for the key\n                validateExpression(subExprObj_1, options);\n                var target = obj[key];\n                if (target instanceof Array) {\n                    value = target.map(function (o) {\n                        return processObject(o, subExprObj_1, options, subExprKeys_1, false);\n                    });\n                }\n                else {\n                    target = (0, util_1.isObject)(target) ? target : obj;\n                    value = processObject(target, subExprObj_1, options, subExprKeys_1, false);\n                }\n            }\n            else {\n                // compute the value for the sub expression for the key\n                value = (0, core_1.computeValue)(obj, subExpr, null, options);\n            }\n        }\n        else {\n            dropKeys.push(key);\n            return \"continue\";\n        }\n        // get value with object graph\n        var objPathGraph = (0, util_1.resolveGraph)(obj, key, {\n            preserveMissing: true,\n        });\n        // add the value at the path\n        if (objPathGraph !== undefined) {\n            (0, util_1.merge)(newObj, objPathGraph, {\n                flatten: true,\n            });\n        }\n        // if computed add/or remove accordingly\n        if ((0, util_1.notInArray)([0, 1, false, true], subExpr)) {\n            if (value === undefined) {\n                (0, util_1.removeValue)(newObj, key);\n            }\n            else {\n                (0, util_1.setValue)(newObj, key, value);\n            }\n        }\n    };\n    for (var _i = 0, expressionKeys_1 = expressionKeys; _i < expressionKeys_1.length; _i++) {\n        var key = expressionKeys_1[_i];\n        _loop_1(key);\n    }\n    // filter out all missing values preserved to support correct merging\n    (0, util_1.filterMissing)(newObj);\n    // For the following cases we include all keys on the object that were not explicitly excluded.\n    //\n    // 1. projection included $slice operator\n    // 2. some fields were explicitly excluded\n    // 3. only the id field was excluded\n    if (foundSlice || foundExclusion || idOnlyExcluded) {\n        newObj = (0, util_1.into)({}, obj, newObj);\n        if (dropKeys.length > 0) {\n            for (var _a = 0, dropKeys_1 = dropKeys; _a < dropKeys_1.length; _a++) {\n                var k = dropKeys_1[_a];\n                (0, util_1.removeValue)(newObj, k);\n            }\n        }\n    }\n    return newObj;\n}\n/**\n * Validate inclusion and exclusion values in expression\n *\n * @param {Object} expr The expression given for the projection\n */\nfunction validateExpression(expr, options) {\n    var check = [false, false];\n    for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n        var _b = _a[_i], k = _b[0], v = _b[1];\n        if (k === options.idKey)\n            return;\n        if (v === 0 || v === false) {\n            check[0] = true;\n        }\n        else if (v === 1 || v === true) {\n            check[1] = true;\n        }\n        (0, util_1.assert)(!(check[0] && check[1]), \"Projection cannot have a mix of inclusion and exclusion.\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$redact = void 0;\nvar core_1 = require(\"../../core\");\n/**\n * Restricts the contents of the documents based on information stored in the documents themselves.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/redact/\n */\nfunction $redact(collection, expr, options) {\n    return collection.map(function (obj) { return (0, core_1.redact)(obj, expr, options); });\n}\nexports.$redact = $redact;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$replaceRoot = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Replaces a document with the specified embedded document or new one.\n * The replacement document can be any valid expression that resolves to a document.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/replaceRoot/\n *\n * @param  {Iterator} collection\n * @param  {Object} expr\n * @param  {Object} options\n * @return {*}\n */\nfunction $replaceRoot(collection, expr, options) {\n    return collection.map(function (obj) {\n        obj = (0, core_1.computeValue)(obj, expr.newRoot, null, options);\n        (0, util_1.assert)((0, util_1.isObject)(obj), \"$replaceRoot expression must return an object\");\n        return obj;\n    });\n}\nexports.$replaceRoot = $replaceRoot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$replaceWith = void 0;\nvar replaceRoot_1 = require(\"./replaceRoot\");\n/**\n * Alias for $replaceRoot\n */\nexports.$replaceWith = replaceRoot_1.$replaceRoot;\n","\"use strict\";\n// $sample operator -  https://docs.mongodb.com/manual/reference/operator/aggregation/sample/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sample = void 0;\n/**\n * Randomly selects the specified number of documents from its input. The given iterator must have finite values\n *\n * @param  {Iterator} collection\n * @param  {Object} expr\n * @param  {Options} options\n * @return {*}\n */\nfunction $sample(collection, expr, options) {\n    return collection.transform(function (xs) {\n        var len = xs.length;\n        var i = -1;\n        return function () {\n            if (++i === expr.size)\n                return { done: true };\n            var n = Math.floor(Math.random() * len);\n            return { value: xs[n], done: false };\n        };\n    });\n}\nexports.$sample = $sample;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$set = void 0;\nvar addFields_1 = require(\"./addFields\");\n/**\n * Alias for $addFields.\n */\nexports.$set = addFields_1.$addFields;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$skip = void 0;\n/**\n * Skips over a specified number of documents from the pipeline and returns the rest.\n *\n * @param collection An iterator\n * @param expr\n * @param  {Options} options\n * @returns {*}\n */\nfunction $skip(collection, expr, options) {\n    return collection.drop(expr);\n}\nexports.$skip = $skip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sort = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Takes all input documents and returns them in a stream of sorted documents.\n *\n * @param collection\n * @param sortKeys\n * @param  {Object} options\n * @returns {*}\n */\nfunction $sort(collection, sortKeys, options) {\n    if ((0, util_1.isEmpty)(sortKeys) || !(0, util_1.isObject)(sortKeys))\n        return collection;\n    var cmp = util_1.compare;\n    // check for collation spec on the options\n    var collationSpec = options.collation;\n    // use collation comparator if provided\n    if ((0, util_1.isObject)(collationSpec) && (0, util_1.isString)(collationSpec.locale)) {\n        cmp = collationComparator(collationSpec);\n    }\n    return collection.transform(function (coll) {\n        var modifiers = Object.keys(sortKeys);\n        var _loop_1 = function (key) {\n            var grouped = (0, util_1.groupBy)(coll, function (obj) { return (0, util_1.resolve)(obj, key); }, options === null || options === void 0 ? void 0 : options.hashFunction);\n            var sortedIndex = {};\n            var indexKeys = (0, util_1.sortBy)(grouped.keys, function (k, i) {\n                sortedIndex[k] = i;\n                return k;\n            }, cmp);\n            if (sortKeys[key] === -1)\n                indexKeys.reverse();\n            coll = [];\n            for (var _b = 0, indexKeys_1 = indexKeys; _b < indexKeys_1.length; _b++) {\n                var k = indexKeys_1[_b];\n                (0, util_1.into)(coll, grouped.groups[sortedIndex[k]]);\n            }\n        };\n        for (var _i = 0, _a = modifiers.reverse(); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return coll;\n    });\n}\nexports.$sort = $sort;\n// MongoDB collation strength to JS localeCompare sensitivity mapping.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\nvar COLLATION_STRENGTH = {\n    // Only strings that differ in base letters compare as unequal. Examples: a ≠ b, a = á, a = A.\n    1: \"base\",\n    //  Only strings that differ in base letters or accents and other diacritic marks compare as unequal.\n    // Examples: a ≠ b, a ≠ á, a = A.\n    2: \"accent\",\n    // Strings that differ in base letters, accents and other diacritic marks, or case compare as unequal.\n    // Other differences may also be taken into consideration. Examples: a ≠ b, a ≠ á, a ≠ A\n    3: \"variant\",\n    // case - Only strings that differ in base letters or case compare as unequal. Examples: a ≠ b, a = á, a ≠ A.\n};\n/**\n * Creates a comparator function for the given collation spec. See https://docs.mongodb.com/manual/reference/collation/\n *\n * @param spec {Object} The MongoDB collation spec.\n * {\n *   locale: string,\n *   caseLevel: boolean,\n *   caseFirst: string,\n *   strength: int,\n *   numericOrdering: boolean,\n *   alternate: string,\n *   maxVariable: string, // unsupported\n *   backwards: boolean // unsupported\n * }\n */\nfunction collationComparator(spec) {\n    var localeOpt = {\n        sensitivity: COLLATION_STRENGTH[spec.strength || 3],\n        caseFirst: spec.caseFirst === \"off\" ? \"false\" : spec.caseFirst || \"false\",\n        numeric: spec.numericOrdering || false,\n        ignorePunctuation: spec.alternate === \"shifted\",\n    };\n    // when caseLevel is true for strength  1:base and 2:accent, bump sensitivity to the nearest that supports case comparison\n    if ((spec.caseLevel || false) === true) {\n        if (localeOpt.sensitivity === \"base\")\n            localeOpt.sensitivity = \"case\";\n        if (localeOpt.sensitivity === \"accent\")\n            localeOpt.sensitivity = \"variant\";\n    }\n    var collator = new Intl.Collator(spec.locale, localeOpt);\n    return function (a, b) {\n        // non strings\n        if (!(0, util_1.isString)(a) || !(0, util_1.isString)(b))\n            return (0, util_1.compare)(a, b);\n        // only for strings\n        var i = collator.compare(a, b);\n        if (i < 0)\n            return -1;\n        if (i > 0)\n            return 1;\n        return 0;\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sortByCount = void 0;\nvar group_1 = require(\"./group\");\nvar sort_1 = require(\"./sort\");\n/**\n * Groups incoming documents based on the value of a specified expression,\n * then computes the count of documents in each distinct group.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/sortByCount/\n *\n * @param  {Array} collection\n * @param  {Object} expr\n * @param  {Object} options\n * @return {*}\n */\nfunction $sortByCount(collection, expr, options) {\n    var newExpr = { count: { $sum: 1 } };\n    newExpr[\"_id\"] = expr;\n    return (0, sort_1.$sort)((0, group_1.$group)(collection, newExpr, options), { count: -1 }, options);\n}\nexports.$sortByCount = $sortByCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$unset = void 0;\nvar util_1 = require(\"../../util\");\nvar project_1 = require(\"./project\");\n/**\n * Removes/excludes fields from documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Iterator}\n */\nfunction $unset(collection, expr, options) {\n    expr = (0, util_1.ensureArray)(expr);\n    var doc = {};\n    for (var _i = 0, expr_1 = expr; _i < expr_1.length; _i++) {\n        var k = expr_1[_i];\n        doc[k] = 0;\n    }\n    return (0, project_1.$project)(collection, doc, options);\n}\nexports.$unset = $unset;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$unwind = void 0;\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Takes an array of documents and returns them as a stream of documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array}\n */\nfunction $unwind(collection, expr, options) {\n    if ((0, util_1.isString)(expr))\n        expr = { path: expr };\n    var path = expr.path;\n    var field = path.substr(1);\n    var includeArrayIndex = (expr === null || expr === void 0 ? void 0 : expr.includeArrayIndex) || false;\n    var preserveNullAndEmptyArrays = expr.preserveNullAndEmptyArrays || false;\n    var format = function (o, i) {\n        if (includeArrayIndex !== false)\n            o[includeArrayIndex] = i;\n        return o;\n    };\n    var value;\n    return (0, lazy_1.Lazy)(function () {\n        var _loop_1 = function () {\n            // take from lazy sequence if available\n            if (value instanceof lazy_1.Iterator) {\n                var tmp = value.next();\n                if (!tmp.done)\n                    return { value: tmp };\n            }\n            // fetch next object\n            var wrapper = collection.next();\n            if (wrapper.done)\n                return { value: wrapper };\n            // unwrap value\n            var obj = wrapper.value;\n            // get the value of the field to unwind\n            value = (0, util_1.resolve)(obj, field);\n            // throw error if value is not an array???\n            if (value instanceof Array) {\n                if (value.length === 0 && preserveNullAndEmptyArrays === true) {\n                    value = null; // reset unwind value\n                    (0, util_1.removeValue)(obj, field);\n                    return { value: { value: format(obj, null), done: false } };\n                }\n                else {\n                    // construct a lazy sequence for elements per value\n                    value = (0, lazy_1.Lazy)(value).map(function (item, i) {\n                        var newObj = (0, util_1.resolveGraph)(obj, field, {\n                            preserveKeys: true,\n                        });\n                        (0, util_1.setValue)(newObj, field, item);\n                        return format(newObj, i);\n                    });\n                }\n            }\n            else if (!(0, util_1.isEmpty)(value) || preserveNullAndEmptyArrays === true) {\n                return { value: { value: format(obj, null), done: false } };\n            }\n        };\n        for (;;) {\n            var state_1 = _loop_1();\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    });\n}\nexports.$unwind = $unwind;\n","\"use strict\";\n// $elemMatch operator. https://docs.mongodb.com/manual/reference/operator/projection/elemMatch/#proj._S_elemMatch\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$elemMatch = void 0;\nvar query_1 = require(\"../../query\");\nvar util_1 = require(\"../../util\");\n/**\n * Projects only the first element from an array that matches the specified $elemMatch condition.\n *\n * @param obj\n * @param field\n * @param expr\n * @returns {*}\n */\nfunction $elemMatch(obj, expr, field, options) {\n    var arr = (0, util_1.resolve)(obj, field);\n    var query = new query_1.Query(expr, options);\n    (0, util_1.assert)(arr instanceof Array, \"$elemMatch: argument must resolve to array\");\n    for (var i = 0; i < arr.length; i++) {\n        if (query.test(arr[i]))\n            return [arr[i]];\n    }\n    return undefined;\n}\nexports.$elemMatch = $elemMatch;\n","\"use strict\";\n// Projection Operators. https://docs.mongodb.com/manual/reference/operator/projection/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./elemMatch\"), exports);\n__exportStar(require(\"./slice\"), exports);\n","\"use strict\";\n// $slice operator. https://docs.mongodb.com/manual/reference/operator/projection/slice/#proj._S_slice\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$slice = void 0;\nvar util_1 = require(\"../../util\");\nvar slice_1 = require(\"../expression/array/slice\");\n/**\n * Limits the number of elements projected from an array. Supports skip and limit slices.\n *\n * @param obj\n * @param field\n * @param expr\n */\nfunction $slice(obj, expr, field, options) {\n    var xs = (0, util_1.resolve)(obj, field);\n    var exprAsArray = expr;\n    if (!(0, util_1.isArray)(xs))\n        return xs;\n    return (0, slice_1.$slice)(obj, expr instanceof Array ? __spreadArray([xs], exprAsArray, true) : [xs, expr], options);\n}\nexports.$slice = $slice;\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$all = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Matches arrays that contain all elements specified in the query.\n */\nexports.$all = (0, _predicates_1.createQueryOperator)(_predicates_1.$all);\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$elemMatch = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch conditions.\n */\nexports.$elemMatch = (0, _predicates_1.createQueryOperator)(_predicates_1.$elemMatch);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./all\"), exports);\n__exportStar(require(\"./elemMatch\"), exports);\n__exportStar(require(\"./size\"), exports);\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$size = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if the array field is a specified size.\n */\nexports.$size = (0, _predicates_1.createQueryOperator)(_predicates_1.$size);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBitwiseOperator = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\nvar createBitwiseOperator = function (predicate) {\n    return (0, _predicates_1.createQueryOperator)(function (value, mask, options) {\n        var b = 0;\n        if (mask instanceof Array) {\n            for (var _i = 0, mask_1 = mask; _i < mask_1.length; _i++) {\n                var n = mask_1[_i];\n                b = b | (1 << n);\n            }\n        }\n        else {\n            b = mask;\n        }\n        return predicate(value & b, b);\n    });\n};\nexports.createBitwiseOperator = createBitwiseOperator;\n","\"use strict\";\n// Query Bitwise Operators: https://docs.mongodb.com/manual/reference/operator/query-bitwise/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bitsAllClear = void 0;\nvar _internal_1 = require(\"./_internal\");\n/**\n * Matches numeric or binary values in which a set of bit positions all have a value of 0.\n */\nexports.$bitsAllClear = (0, _internal_1.createBitwiseOperator)(function (result, _) { return result == 0; });\n","\"use strict\";\n// Query Bitwise Operators: https://docs.mongodb.com/manual/reference/operator/query-bitwise/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bitsAllSet = void 0;\nvar _internal_1 = require(\"./_internal\");\n/**\n * Matches numeric or binary values in which a set of bit positions all have a value of 1.\n */\nexports.$bitsAllSet = (0, _internal_1.createBitwiseOperator)(function (result, mask) { return result == mask; });\n","\"use strict\";\n// Query Bitwise Operators: https://docs.mongodb.com/manual/reference/operator/query-bitwise/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bitsAnyClear = void 0;\nvar _internal_1 = require(\"./_internal\");\n/**\n * Matches numeric or binary values in which any bit from a set of bit positions has a value of 0.\n */\nexports.$bitsAnyClear = (0, _internal_1.createBitwiseOperator)(function (result, mask) { return result < mask; });\n","\"use strict\";\n// Query Bitwise Operators: https://docs.mongodb.com/manual/reference/operator/query-bitwise/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bitsAnySet = void 0;\nvar _internal_1 = require(\"./_internal\");\n/**\n * Matches numeric or binary values in which any bit from a set of bit positions has a value of 1.\n */\nexports.$bitsAnySet = (0, _internal_1.createBitwiseOperator)(function (result, _) { return result > 0; });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bitsAnySet = exports.$bitsAnyClear = exports.$bitsAllSet = exports.$bitsAllClear = void 0;\nvar bitsAllClear_1 = require(\"./bitsAllClear\");\nObject.defineProperty(exports, \"$bitsAllClear\", { enumerable: true, get: function () { return bitsAllClear_1.$bitsAllClear; } });\nvar bitsAllSet_1 = require(\"./bitsAllSet\");\nObject.defineProperty(exports, \"$bitsAllSet\", { enumerable: true, get: function () { return bitsAllSet_1.$bitsAllSet; } });\nvar bitsAnyClear_1 = require(\"./bitsAnyClear\");\nObject.defineProperty(exports, \"$bitsAnyClear\", { enumerable: true, get: function () { return bitsAnyClear_1.$bitsAnyClear; } });\nvar bitsAnySet_1 = require(\"./bitsAnySet\");\nObject.defineProperty(exports, \"$bitsAnySet\", { enumerable: true, get: function () { return bitsAnySet_1.$bitsAnySet; } });\n","\"use strict\";\n// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$nin = exports.$ne = exports.$lte = exports.$lt = exports.$in = exports.$gte = exports.$gt = exports.$eq = void 0;\nvar _predicates_1 = require(\"../_predicates\");\n/**\n * Matches values that are equal to a specified value.\n */\nexports.$eq = (0, _predicates_1.createQueryOperator)(_predicates_1.$eq);\n/**\n * Matches values that are greater than a specified value.\n */\nexports.$gt = (0, _predicates_1.createQueryOperator)(_predicates_1.$gt);\n/**\n * \tMatches values that are greater than or equal to a specified value.\n */\nexports.$gte = (0, _predicates_1.createQueryOperator)(_predicates_1.$gte);\n/**\n * Matches any of the values that exist in an array specified in the query.\n */\nexports.$in = (0, _predicates_1.createQueryOperator)(_predicates_1.$in);\n/**\n * Matches values that are less than the value specified in the query.\n */\nexports.$lt = (0, _predicates_1.createQueryOperator)(_predicates_1.$lt);\n/**\n * Matches values that are less than or equal to the value specified in the query.\n */\nexports.$lte = (0, _predicates_1.createQueryOperator)(_predicates_1.$lte);\n/**\n * Matches all values that are not equal to the value specified in the query.\n */\nexports.$ne = (0, _predicates_1.createQueryOperator)(_predicates_1.$ne);\n/**\n * Matches values that do not exist in an array specified to the query.\n */\nexports.$nin = (0, _predicates_1.createQueryOperator)(_predicates_1.$nin);\n","\"use strict\";\n// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$exists = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Matches documents that have the specified field.\n */\nexports.$exists = (0, _predicates_1.createQueryOperator)(_predicates_1.$exists);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./exists\"), exports);\n__exportStar(require(\"./type\"), exports);\n","\"use strict\";\n// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$type = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if a field is of the specified type.\n */\nexports.$type = (0, _predicates_1.createQueryOperator)(_predicates_1.$type);\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$expr = void 0;\nvar core_1 = require(\"../../../core\");\n/**\n * Allows the use of aggregation expressions within the query language.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $expr(selector, value, options) {\n    return function (obj) { return (0, core_1.computeValue)(obj, value, null, options); };\n}\nexports.$expr = $expr;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./expr\"), exports);\n__exportStar(require(\"./jsonSchema\"), exports);\n__exportStar(require(\"./mod\"), exports);\n__exportStar(require(\"./regex\"), exports);\n// $where operator is not included by default\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$jsonSchema = void 0;\n/**\n * Validate documents against the given JSON Schema.\n *\n * @param selector\n * @param schema\n * @returns {Function}\n */\nfunction $jsonSchema(selector, schema, options) {\n    if (!(options === null || options === void 0 ? void 0 : options.jsonSchemaValidator)) {\n        throw new Error(\"Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.\");\n    }\n    var validate = options === null || options === void 0 ? void 0 : options.jsonSchemaValidator(schema);\n    return function (obj) { return validate(obj); };\n}\nexports.$jsonSchema = $jsonSchema;\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$mod = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n */\nexports.$mod = (0, _predicates_1.createQueryOperator)(_predicates_1.$mod);\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$regex = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents where values match a specified regular expression.\n */\nexports.$regex = (0, _predicates_1.createQueryOperator)(_predicates_1.$regex);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./bitwise\"), exports);\n__exportStar(require(\"./comparison\"), exports);\n__exportStar(require(\"./element\"), exports);\n__exportStar(require(\"./evaluation\"), exports);\n__exportStar(require(\"./logical\"), exports);\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$and = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Joins query clauses with a logical AND returns all documents that match the conditions of both clauses.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $and(selector, value, options) {\n    (0, util_1.assert)((0, util_1.isArray)(value), \"Invalid expression: $and expects value to be an Array\");\n    var queries = new Array();\n    value.forEach(function (expr) { return queries.push(new query_1.Query(expr, options)); });\n    return function (obj) {\n        for (var i = 0; i < queries.length; i++) {\n            if (!queries[i].test(obj)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.$and = $and;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./and\"), exports);\n__exportStar(require(\"./nor\"), exports);\n__exportStar(require(\"./not\"), exports);\n__exportStar(require(\"./or\"), exports);\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$nor = void 0;\nvar util_1 = require(\"../../../util\");\nvar or_1 = require(\"./or\");\n/**\n * Joins query clauses with a logical NOR returns all documents that fail to match both clauses.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $nor(selector, value, options) {\n    (0, util_1.assert)((0, util_1.isArray)(value), \"Invalid expression. $nor expects value to be an Array\");\n    var f = (0, or_1.$or)(\"$or\", value, options);\n    return function (obj) { return !f(obj); };\n}\nexports.$nor = $nor;\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$not = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Inverts the effect of a query expression and returns documents that do not match the query expression.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $not(selector, value, options) {\n    var criteria = {};\n    criteria[selector] = (0, util_1.normalize)(value);\n    var query = new query_1.Query(criteria, options);\n    return function (obj) { return !query.test(obj); };\n}\nexports.$not = $not;\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$or = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Joins query clauses with a logical OR returns all documents that match the conditions of either clause.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $or(selector, value, options) {\n    (0, util_1.assert)((0, util_1.isArray)(value), \"Invalid expression. $or expects value to be an Array\");\n    var queries = value.map(function (expr) { return new query_1.Query(expr, options); });\n    return function (obj) {\n        for (var i = 0; i < queries.length; i++) {\n            if (queries[i].test(obj)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.$or = $or;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Query = void 0;\nvar core_1 = require(\"./core\");\nvar cursor_1 = require(\"./cursor\");\nvar util_1 = require(\"./util\");\n/**\n * An object used to filter input documents\n *\n * @param {Object} criteria The criteria for constructing predicates\n * @param {Options} options Options for use by operators\n * @constructor\n */\nvar Query = /** @class */ (function () {\n    function Query(criteria, options) {\n        this.criteria = criteria;\n        this.options = options;\n        this.options = (0, core_1.makeOptions)(options);\n        this.compiled = [];\n        this.compile();\n    }\n    Query.prototype.compile = function () {\n        (0, util_1.assert)((0, util_1.isObject)(this.criteria), \"query criteria must be an object\");\n        var whereOperator;\n        for (var _i = 0, _a = Object.entries(this.criteria); _i < _a.length; _i++) {\n            var _b = _a[_i], field = _b[0], expr = _b[1];\n            if (\"$where\" === field) {\n                whereOperator = { field: field, expr: expr };\n            }\n            else if ((0, util_1.inArray)([\"$and\", \"$or\", \"$nor\", \"$expr\", \"$jsonSchema\"], field)) {\n                this.processOperator(field, field, expr);\n            }\n            else {\n                // normalize expression\n                (0, util_1.assert)(!(0, util_1.isOperator)(field), \"unknown top level operator: \" + field);\n                for (var _c = 0, _d = Object.entries((0, util_1.normalize)(expr)); _c < _d.length; _c++) {\n                    var _e = _d[_c], operator = _e[0], val = _e[1];\n                    this.processOperator(field, operator, val);\n                }\n            }\n            if ((0, util_1.isObject)(whereOperator)) {\n                this.processOperator(whereOperator.field, whereOperator.field, whereOperator.expr);\n            }\n        }\n    };\n    Query.prototype.processOperator = function (field, operator, value) {\n        var call = (0, core_1.getOperator)(core_1.OperatorType.QUERY, operator);\n        (0, util_1.assert)(!!call, \"unknown operator \" + operator);\n        var fn = call(field, value, this.options);\n        this.compiled.push(fn);\n    };\n    /**\n     * Checks if the object passes the query criteria. Returns true if so, false otherwise.\n     *\n     * @param obj The object to test\n     * @returns {boolean} True or false\n     */\n    Query.prototype.test = function (obj) {\n        for (var i = 0, len = this.compiled.length; i < len; i++) {\n            if (!this.compiled[i](obj)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /**\n     * Returns a cursor to select matching documents from the input source.\n     *\n     * @param source A source providing a sequence of documents\n     * @param projection An optional projection criteria\n     * @returns {Cursor} A Cursor for iterating over the results\n     */\n    Query.prototype.find = function (collection, projection) {\n        var _this = this;\n        return new cursor_1.Cursor(collection, function (x) { return _this.test(x); }, projection || {}, this.options);\n    };\n    /**\n     * Remove matched documents from the collection returning the remainder\n     *\n     * @param collection An array of documents\n     * @returns {Array} A new array with matching elements removed\n     */\n    Query.prototype.remove = function (collection) {\n        var _this = this;\n        return collection.reduce(function (acc, obj) {\n            if (!_this.test(obj))\n                acc.push(obj);\n            return acc;\n        }, []);\n    };\n    return Query;\n}());\nexports.Query = Query;\n","\"use strict\";\n/**\n * Utility constants and functions\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalize = exports.isOperator = exports.removeValue = exports.setValue = exports.traverse = exports.filterMissing = exports.resolveGraph = exports.resolve = exports.memoize = exports.into = exports.groupBy = exports.sortBy = exports.compare = exports.hashCode = exports.unique = exports.isEqual = exports.flatten = exports.union = exports.intersection = exports.merge = exports.objectMap = exports.has = exports.ensureArray = exports.isEmpty = exports.truthy = exports.notInArray = exports.inArray = exports.isUndefined = exports.isNull = exports.isNil = exports.isFunction = exports.isRegExp = exports.isDate = exports.isObjectLike = exports.isObject = exports.isArray = exports.isNumber = exports.isString = exports.isBoolean = exports.getType = exports.cloneDeep = exports.assert = exports.BsonType = exports.JsType = exports.MIN_LONG = exports.MAX_LONG = exports.MIN_INT = exports.MAX_INT = void 0;\nexports.MAX_INT = 2147483647;\nexports.MIN_INT = -2147483648;\nexports.MAX_LONG = Number.MAX_SAFE_INTEGER;\nexports.MIN_LONG = Number.MIN_SAFE_INTEGER;\n// special value to identify missing items. treated differently from undefined\nvar MISSING = {};\nvar DEFAULT_HASH_FUNC = function (value) {\n    var s = encode(value);\n    var hash = 0;\n    var i = s.length;\n    while (i)\n        hash = ((hash << 5) - hash) ^ s.charCodeAt(--i);\n    var code = hash >>> 0;\n    return code.toString();\n};\n// Javascript native types\nvar JsType;\n(function (JsType) {\n    JsType[\"NULL\"] = \"null\";\n    JsType[\"UNDEFINED\"] = \"undefined\";\n    JsType[\"BOOLEAN\"] = \"boolean\";\n    JsType[\"NUMBER\"] = \"number\";\n    JsType[\"STRING\"] = \"string\";\n    JsType[\"DATE\"] = \"date\";\n    JsType[\"REGEXP\"] = \"regexp\";\n    JsType[\"ARRAY\"] = \"array\";\n    JsType[\"OBJECT\"] = \"object\";\n    JsType[\"FUNCTION\"] = \"function\";\n})(JsType = exports.JsType || (exports.JsType = {}));\n// MongoDB BSON types\nvar BsonType;\n(function (BsonType) {\n    BsonType[\"BOOL\"] = \"bool\";\n    BsonType[\"INT\"] = \"int\";\n    BsonType[\"LONG\"] = \"long\";\n    BsonType[\"DOUBLE\"] = \"double\";\n    BsonType[\"DECIMAL\"] = \"decimal\";\n    BsonType[\"REGEX\"] = \"regex\";\n})(BsonType = exports.BsonType || (exports.BsonType = {}));\n// no array, object, or function types\nvar JS_SIMPLE_TYPES = [\n    JsType.NULL,\n    JsType.UNDEFINED,\n    JsType.BOOLEAN,\n    JsType.NUMBER,\n    JsType.STRING,\n    JsType.DATE,\n    JsType.REGEXP,\n];\nvar OBJECT_PROTOTYPE = Object.getPrototypeOf({});\nvar OBJECT_TAG = \"[object Object]\";\nvar OBJECT_TYPE_RE = /^\\[object ([a-zA-Z0-9]+)\\]$/;\nfunction assert(condition, message) {\n    if (!condition)\n        throw new Error(message);\n}\nexports.assert = assert;\n/**\n * Deep clone an object\n */\nfunction cloneDeep(obj) {\n    if (obj instanceof Array)\n        return obj.map(cloneDeep);\n    if (obj instanceof Date)\n        return new Date(obj);\n    if (isObject(obj))\n        return objectMap(obj, cloneDeep);\n    return obj;\n}\nexports.cloneDeep = cloneDeep;\n/**\n * Returns the name of type as specified in the tag returned by a call to Object.prototype.toString\n * @param v A value\n */\nfunction getType(v) {\n    return OBJECT_TYPE_RE.exec(Object.prototype.toString.call(v))[1];\n}\nexports.getType = getType;\nfunction isBoolean(v) {\n    return typeof v === JsType.BOOLEAN;\n}\nexports.isBoolean = isBoolean;\nfunction isString(v) {\n    return typeof v === JsType.STRING;\n}\nexports.isString = isString;\nfunction isNumber(v) {\n    return !isNaN(v) && typeof v === JsType.NUMBER;\n}\nexports.isNumber = isNumber;\nexports.isArray = Array.isArray;\nfunction isObject(v) {\n    if (!v)\n        return false;\n    var proto = Object.getPrototypeOf(v);\n    return ((proto === OBJECT_PROTOTYPE || proto === null) &&\n        OBJECT_TAG === Object.prototype.toString.call(v));\n}\nexports.isObject = isObject;\nfunction isObjectLike(v) {\n    return v === Object(v);\n} // objects, arrays, functions, date, custom object\nexports.isObjectLike = isObjectLike;\nfunction isDate(v) {\n    return v instanceof Date;\n}\nexports.isDate = isDate;\nfunction isRegExp(v) {\n    return v instanceof RegExp;\n}\nexports.isRegExp = isRegExp;\nfunction isFunction(v) {\n    return typeof v === JsType.FUNCTION;\n}\nexports.isFunction = isFunction;\nfunction isNil(v) {\n    return v === null || v === undefined;\n}\nexports.isNil = isNil;\nfunction isNull(v) {\n    return v === null;\n}\nexports.isNull = isNull;\nfunction isUndefined(v) {\n    return v === undefined;\n}\nexports.isUndefined = isUndefined;\nexports.inArray = (function () {\n    // if Array.includes is not supported\n    if (!Array.prototype.includes) {\n        return function (arr, item) {\n            return isNaN(item) && !isString(item)\n                ? arr.some(function (v) { return isNaN(v) && !isString(v); })\n                : arr.indexOf(item) > -1;\n        };\n    }\n    // default\n    return function (arr, item) { return arr.includes(item); };\n})();\nfunction notInArray(arr, item) {\n    return !(0, exports.inArray)(arr, item);\n}\nexports.notInArray = notInArray;\nfunction truthy(arg) {\n    return !!arg;\n}\nexports.truthy = truthy;\nfunction isEmpty(x) {\n    return (isNil(x) ||\n        (isString(x) && !x) ||\n        (x instanceof Array && x.length === 0) ||\n        (isObject(x) && Object.keys(x).length === 0));\n}\nexports.isEmpty = isEmpty;\n// ensure a value is an array or wrapped within one\nfunction ensureArray(x) {\n    return x instanceof Array ? x : [x];\n}\nexports.ensureArray = ensureArray;\nfunction has(obj, prop) {\n    return !!obj && Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexports.has = has;\n/**\n * Transform values in an object\n *\n * @param  {Object}   obj   An object whose values to transform\n * @param  {Function} fn The transform function\n * @return {Array|Object} Result object after applying the transform\n */\nfunction objectMap(obj, fn) {\n    var o = {};\n    var objKeys = Object.keys(obj);\n    for (var i = 0; i < objKeys.length; i++) {\n        var k = objKeys[i];\n        o[k] = fn(obj[k], k);\n    }\n    return o;\n}\nexports.objectMap = objectMap;\n/**\n * Deep merge objects or arrays.\n * When the inputs have unmergeable types, the source value (right hand side) is returned.\n * If inputs are arrays of same length and all elements are mergable, elements in the same position are merged together.\n * If AnyVal of the elements are unmergeable, elements in the source are appended to the target.\n * @param target {Object|Array} the target to merge into\n * @param obj {Object|Array} the source object\n */\nfunction merge(target, obj, options) {\n    // take care of missing inputs\n    if (target === MISSING)\n        return obj;\n    if (obj === MISSING)\n        return target;\n    var inputs = [target, obj];\n    if (!(inputs.every(isObject) || inputs.every(exports.isArray))) {\n        throw Error(\"mismatched types. must both be array or object\");\n    }\n    // default options\n    options = options || { flatten: false };\n    if ((0, exports.isArray)(target)) {\n        var result = target;\n        var input = obj;\n        if (options.flatten) {\n            var i = 0;\n            var j = 0;\n            while (i < result.length && j < input.length) {\n                result[i] = merge(result[i++], input[j++], options);\n            }\n            while (j < input.length) {\n                result.push(obj[j++]);\n            }\n        }\n        else {\n            Array.prototype.push.apply(result, input);\n        }\n    }\n    else {\n        Object.keys(obj).forEach(function (k) {\n            if (has(obj, k)) {\n                if (has(target, k)) {\n                    target[k] = merge(target[k], obj[k], options);\n                }\n                else {\n                    target[k] = obj[k];\n                }\n            }\n        });\n    }\n    return target;\n}\nexports.merge = merge;\n/**\n * Returns the intersection between two arrays\n *\n * @param  {Array} a The first array\n * @param  {Array} b The second array\n * @param  {Function} hashFunction Custom function to hash values, default the hashCode method\n * @return {Array}    Result array\n */\nfunction intersection(a, b, hashFunction) {\n    var flipped = false;\n    // we ensure the left array is always smallest\n    if (a.length > b.length) {\n        var t = a;\n        a = b;\n        b = t;\n        flipped = true;\n    }\n    var maxSize = Math.max(a.length, b.length);\n    var maxResult = Math.min(a.length, b.length);\n    var lookup = a.reduce(function (memo, v, i) {\n        memo[hashCode(v, hashFunction)] = i;\n        return memo;\n    }, {});\n    var indexes = new Array();\n    for (var i = 0, j = 0; i < maxSize && j < maxResult; i++) {\n        var k = lookup[hashCode(b[i], hashFunction)];\n        if (k !== undefined) {\n            indexes.push(k);\n            j++;\n        }\n    }\n    // unless we flipped the arguments we must sort the indexes to keep stability\n    if (!flipped)\n        indexes.sort();\n    return indexes.map(function (i) { return a[i]; });\n}\nexports.intersection = intersection;\n/**\n * Returns the union of two arrays\n *\n * @param  {Array} xs The first array\n * @param  {Array} ys The second array\n * @return {Array}   The result array\n */\nfunction union(xs, ys, hashFunction) {\n    var hash = {};\n    xs.concat(ys).forEach(function (e, i) {\n        var k = hashCode(e, hashFunction);\n        if (!hash[k])\n            hash[k] = [e, i];\n    });\n    var result = Object.values(hash)\n        .sort(function (a, b) { return (a[1] < b[1] ? -1 : a[1] > b[1] ? 1 : 0); })\n        .map(function (e) { return e[0]; });\n    return result;\n}\nexports.union = union;\n/**\n * Flatten the array\n *\n * @param  {Array} xs The array to flatten\n * @param {Number} depth The number of nested lists to iterate\n */\nfunction flatten(xs, depth) {\n    var arr = [];\n    function flatten2(ys, n) {\n        for (var i = 0, len = ys.length; i < len; i++) {\n            if ((0, exports.isArray)(ys[i]) && (n > 0 || n < 0)) {\n                flatten2(ys[i], Math.max(-1, n - 1));\n            }\n            else {\n                arr.push(ys[i]);\n            }\n        }\n    }\n    flatten2(xs, depth);\n    return arr;\n}\nexports.flatten = flatten;\n/**\n * Determine whether two values are the same or strictly equivalent\n *\n * @param  {*}  a The first value\n * @param  {*}  b The second value\n * @return {Boolean}   Result of comparison\n */\nfunction isEqual(a, b) {\n    var lhs = [a];\n    var rhs = [b];\n    while (lhs.length > 0) {\n        a = lhs.pop();\n        b = rhs.pop();\n        // strictly equal must be equal.\n        if (a === b)\n            continue;\n        // unequal types and functions cannot be equal.\n        var nativeType = getType(a).toLowerCase();\n        if (nativeType !== getType(b).toLowerCase() ||\n            nativeType === JsType.FUNCTION) {\n            return false;\n        }\n        // leverage toString for Date and RegExp types\n        if (nativeType === JsType.ARRAY) {\n            var xs = a;\n            var ys = b;\n            if (xs.length !== ys.length)\n                return false;\n            if (xs.length === ys.length && xs.length === 0)\n                continue;\n            into(lhs, xs);\n            into(rhs, ys);\n        }\n        else if (nativeType === JsType.OBJECT) {\n            // deep compare objects\n            var ka = Object.keys(a);\n            var kb = Object.keys(b);\n            // check length of keys early\n            if (ka.length !== kb.length)\n                return false;\n            // we know keys are strings so we sort before comparing\n            ka.sort();\n            kb.sort();\n            // compare keys\n            for (var i = 0, len = ka.length; i < len; i++) {\n                var tempKey = ka[i];\n                if (tempKey !== kb[i]) {\n                    return false;\n                }\n                else {\n                    // save later work\n                    lhs.push(a[tempKey]);\n                    rhs.push(b[tempKey]);\n                }\n            }\n        }\n        else {\n            // compare encoded values\n            if (encode(a) !== encode(b))\n                return false;\n        }\n    }\n    return lhs.length === 0;\n}\nexports.isEqual = isEqual;\n/**\n * Return a new unique version of the collection\n * @param  {Array} xs The input collection\n * @return {Array}    A new collection with unique values\n */\nfunction unique(xs, hashFunction) {\n    var h = {};\n    var arr = [];\n    for (var _i = 0, xs_1 = xs; _i < xs_1.length; _i++) {\n        var item = xs_1[_i];\n        var k = hashCode(item, hashFunction);\n        if (!has(h, k)) {\n            arr.push(item);\n            h[k] = 0;\n        }\n    }\n    return arr;\n}\nexports.unique = unique;\n/**\n * Encode value to string using a simple non-colliding stable scheme.\n *\n * @param value\n * @returns {*}\n */\nfunction encode(value) {\n    var type = getType(value).toLowerCase();\n    switch (type) {\n        case JsType.BOOLEAN:\n        case JsType.NUMBER:\n        case JsType.REGEXP:\n            return value.toString();\n        case JsType.STRING:\n            return JSON.stringify(value);\n        case JsType.DATE:\n            return value.toISOString();\n        case JsType.NULL:\n        case JsType.UNDEFINED:\n            return type;\n        case JsType.ARRAY:\n            return \"[\" + value.map(encode).join(\",\") + \"]\";\n        default:\n            break;\n    }\n    // default case\n    var prefix = type === JsType.OBJECT ? \"\" : \"\" + getType(value);\n    var objKeys = Object.keys(value);\n    objKeys.sort();\n    return (prefix + \"{\" +\n        objKeys.map(function (k) { return encode(k) + \":\" + encode(value[k]); }).join(\",\") +\n        \"}\");\n}\n/**\n * Generate hash code\n * This selected function is the result of benchmarking various hash functions.\n * This version performs well and can hash 10^6 documents in ~3s with on average 100 collisions.\n *\n * @param value\n * @returns {number|null}\n */\nfunction hashCode(value, hashFunction) {\n    if (hashFunction === void 0) { hashFunction = DEFAULT_HASH_FUNC; }\n    if (isNil(value))\n        return null;\n    return hashFunction(value);\n}\nexports.hashCode = hashCode;\n/**\n * Default compare function\n * @param {*} a\n * @param {*} b\n */\nfunction compare(a, b) {\n    if (a < b)\n        return -1;\n    if (a > b)\n        return 1;\n    return 0;\n}\nexports.compare = compare;\n/**\n * Returns a (stably) sorted copy of list, ranked in ascending order by the results of running each value through iteratee\n *\n * This implementation treats null/undefined sort keys as less than every other type\n *\n * @param {Array}   collection\n * @param {Function} keyFn The sort key function used to resolve sort keys\n * @param {Function} comparator The comparator function to use for comparing keys. Defaults to standard comparison via `compare(...)`\n * @return {Array} Returns a new sorted array by the given key and comparator function\n */\nfunction sortBy(collection, keyFn, comparator) {\n    var sorted = new Array();\n    var result = new Array();\n    var hash = {};\n    comparator = comparator || compare;\n    if (isEmpty(collection))\n        return collection;\n    for (var i = 0; i < collection.length; i++) {\n        var obj = collection[i];\n        var key = keyFn(obj, i);\n        // objects with nil keys will go in first\n        if (isNil(key)) {\n            result.push(obj);\n        }\n        else {\n            // null suffix to differentiate string keys from native object properties\n            if (isString(key))\n                key += \"\\0\";\n            if (hash[key]) {\n                hash[key].push(obj);\n            }\n            else {\n                hash[key] = [obj];\n            }\n            sorted.push(key);\n        }\n    }\n    // use native array sorting but enforce stableness\n    sorted.sort(comparator);\n    for (var i = 0; i < sorted.length; i++) {\n        into(result, hash[sorted[i]]);\n    }\n    return result;\n}\nexports.sortBy = sortBy;\n/**\n * Groups the collection into sets by the returned key\n *\n * @param collection\n * @param keyFn {Function} to compute the group key of an item in the collection\n * @returns {{keys: Array, groups: Array}}\n */\nfunction groupBy(collection, keyFn, hashFunction) {\n    var result = {\n        keys: new Array(),\n        groups: new Array(),\n    };\n    var lookup = {};\n    for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n        var obj = collection_1[_i];\n        var key = keyFn(obj);\n        var hash = hashCode(key, hashFunction);\n        var index = -1;\n        if (lookup[hash] === undefined) {\n            index = result.keys.length;\n            lookup[hash] = index;\n            result.keys.push(key);\n            result.groups.push([]);\n        }\n        index = lookup[hash];\n        result.groups[index].push(obj);\n    }\n    return result;\n}\nexports.groupBy = groupBy;\n// max elements to push.\n// See argument limit https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\nvar MAX_ARRAY_PUSH = 50000;\n/**\n * Merge elements into the dest\n *\n * @param {*} target The target object\n * @param {*} rest The array of elements to merge into dest\n */\nfunction into(target) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n    }\n    if (target instanceof Array) {\n        return rest.reduce(function (acc, arr) {\n            // push arrary in batches to handle large inputs\n            var i = Math.ceil(arr.length / MAX_ARRAY_PUSH);\n            var begin = 0;\n            while (i-- > 0) {\n                Array.prototype.push.apply(acc, arr.slice(begin, begin + MAX_ARRAY_PUSH));\n                begin += MAX_ARRAY_PUSH;\n            }\n            return acc;\n        }, target);\n    }\n    else if (isObject(target)) {\n        // merge objects. same behaviour as Object.assign\n        return rest.filter(isObjectLike).reduce(function (acc, item) {\n            Object.assign(acc, item);\n            return acc;\n        }, target);\n    }\n    return null;\n}\nexports.into = into;\n/**\n * This is a generic memoization function\n *\n * This implementation uses a cache independent of the function being memoized\n * to allow old values to be garbage collected when the memoized function goes out of scope.\n *\n * @param {*} fn The function object to memoize\n */\nfunction memoize(fn, hashFunction) {\n    var _this = this;\n    return (function (memo) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var key = hashCode(args, hashFunction);\n            if (!has(memo, key)) {\n                memo[key] = fn.apply(_this, args);\n            }\n            return memo[key];\n        };\n    })({\n    /* storage */\n    });\n}\nexports.memoize = memoize;\n// mingo internal\n/**\n * Retrieve the value of a given key on an object\n * @param obj\n * @param key\n * @returns {*}\n * @private\n */\nfunction getValue(obj, key) {\n    return isObjectLike(obj) ? obj[key] : undefined;\n}\n/**\n * Unwrap a single element array to specified depth\n * @param {Array} arr\n * @param {Number} depth\n */\nfunction unwrap(arr, depth) {\n    if (depth < 1)\n        return arr;\n    while (depth-- && arr.length === 1)\n        arr = arr[0];\n    return arr;\n}\n/**\n * Resolve the value of the field (dot separated) on the given object\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n * @returns {*}\n */\nfunction resolve(obj, selector, options) {\n    var depth = 0;\n    // options\n    options = options || { unwrapArray: false };\n    function resolve2(o, path) {\n        var value = o;\n        var _loop_1 = function (i) {\n            var field = path[i];\n            var isText = /^\\d+$/.exec(field) === null;\n            // using instanceof to aid typescript compiler\n            if (isText && value instanceof Array) {\n                // On the first iteration, we check if we received a stop flag.\n                // If so, we stop to prevent iterating over a nested array value\n                // on consecutive object keys in the selector.\n                if (i === 0 && depth > 0)\n                    return \"break\";\n                depth += 1;\n                // only look at the rest of the path\n                var subpath_1 = path.slice(i);\n                value = value.reduce(function (acc, item) {\n                    var v = resolve2(item, subpath_1);\n                    if (v !== undefined)\n                        acc.push(v);\n                    return acc;\n                }, []);\n                return \"break\";\n            }\n            else {\n                value = getValue(value, field);\n            }\n            if (value === undefined)\n                return \"break\";\n        };\n        for (var i = 0; i < path.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n        return value;\n    }\n    var result = (0, exports.inArray)(JS_SIMPLE_TYPES, getType(obj).toLowerCase())\n        ? obj\n        : resolve2(obj, selector.split(\".\"));\n    return result instanceof Array && options.unwrapArray\n        ? unwrap(result, depth)\n        : result;\n}\nexports.resolve = resolve;\n/**\n * Returns the full object to the resolved value given by the selector.\n * This function excludes empty values as they aren't practically useful.\n *\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n */\nfunction resolveGraph(obj, selector, options) {\n    // options\n    if (options === undefined) {\n        options = { preserveMissing: false };\n    }\n    var names = selector.split(\".\");\n    var key = names[0];\n    // get the next part of the selector\n    var next = names.slice(1).join(\".\");\n    var isIndex = /^\\d+$/.exec(key) !== null;\n    var hasNext = names.length > 1;\n    var result;\n    var value;\n    if (obj instanceof Array) {\n        if (isIndex) {\n            result = getValue(obj, Number(key));\n            if (hasNext) {\n                result = resolveGraph(result, next, options);\n            }\n            result = [result];\n        }\n        else {\n            result = [];\n            for (var _i = 0, obj_1 = obj; _i < obj_1.length; _i++) {\n                var item = obj_1[_i];\n                value = resolveGraph(item, selector, options);\n                if (options.preserveMissing) {\n                    if (value === undefined) {\n                        value = MISSING;\n                    }\n                    result.push(value);\n                }\n                else if (value !== undefined) {\n                    result.push(value);\n                }\n            }\n        }\n    }\n    else {\n        value = getValue(obj, key);\n        if (hasNext) {\n            value = resolveGraph(value, next, options);\n        }\n        if (value === undefined)\n            return undefined;\n        result = options.preserveKeys ? __assign({}, obj) : {};\n        result[key] = value;\n    }\n    return result;\n}\nexports.resolveGraph = resolveGraph;\n/**\n * Filter out all MISSING values from the object in-place\n *\n * @param obj The object to filter\n */\nfunction filterMissing(obj) {\n    if (obj instanceof Array) {\n        for (var i = obj.length - 1; i >= 0; i--) {\n            if (obj[i] === MISSING) {\n                obj.splice(i, 1);\n            }\n            else {\n                filterMissing(obj[i]);\n            }\n        }\n    }\n    else if (isObject(obj)) {\n        for (var k in obj) {\n            if (has(obj, k)) {\n                filterMissing(obj[k]);\n            }\n        }\n    }\n}\nexports.filterMissing = filterMissing;\n/**\n * Walk the object graph and execute the given transform function\n *\n * @param  {Object|Array} obj   The object to traverse\n * @param  {String} selector    The selector\n * @param  {Function} fn Function to execute for value at the end the traversal\n * @param  {Boolean} force Force generating missing parts of object graph\n * @return {*}\n */\nfunction traverse(obj, selector, fn, force) {\n    var names = selector.split(\".\");\n    var key = names[0];\n    var next = names.slice(1).join(\".\");\n    if (names.length === 1) {\n        fn(obj, key);\n    }\n    else {\n        // force the rest of the graph while traversing\n        if (force === true && isNil(obj[key])) {\n            obj[key] = {};\n        }\n        traverse(obj[key], next, fn, force);\n    }\n}\nexports.traverse = traverse;\n/**\n * Set the value of the given object field\n *\n * @param obj {Object|Array} the object context\n * @param selector {String} path to field\n * @param value {*} the value to set\n */\nfunction setValue(obj, selector, value) {\n    traverse(obj, selector, function (item, key) {\n        item[key] = value;\n    }, true);\n}\nexports.setValue = setValue;\n/**\n * Removes an element from the container.\n * If the selector resolves to an array and the leaf is a non-numeric key,\n * the remove operation will be performed on objects of the array.\n *\n * @param obj {ArrayOrObject} object or array\n * @param selector {String} dot separated path to element to remove\n */\nfunction removeValue(obj, selector) {\n    traverse(obj, selector, function (item, key) {\n        if (item instanceof Array) {\n            if (/^\\d+$/.test(key)) {\n                item.splice(parseInt(key), 1);\n            }\n            else {\n                for (var _i = 0, item_1 = item; _i < item_1.length; _i++) {\n                    var elem = item_1[_i];\n                    if (isObject(elem)) {\n                        delete elem[key];\n                    }\n                }\n            }\n        }\n        else if (isObject(item)) {\n            delete item[key];\n        }\n    });\n}\nexports.removeValue = removeValue;\nvar OPERATOR_NAME_PATTERN = /^\\$[a-zA-Z0-9_]+$/;\n/**\n * Check whether the given name passes for an operator. We assume AnyVal field name starting with '$' is an operator.\n * This is cheap and safe to do since keys beginning with '$' should be reserved for internal use.\n * @param {String} name\n */\nfunction isOperator(name) {\n    return OPERATOR_NAME_PATTERN.test(name);\n}\nexports.isOperator = isOperator;\n/**\n * Simplify expression for easy evaluation with query operators map\n * @param expr\n * @returns {*}\n */\nfunction normalize(expr) {\n    // normalized primitives\n    if ((0, exports.inArray)(JS_SIMPLE_TYPES, getType(expr).toLowerCase())) {\n        return isRegExp(expr) ? { $regex: expr } : { $eq: expr };\n    }\n    // normalize object expression. using ObjectLike handles custom types\n    if (isObjectLike(expr)) {\n        // no valid query operator found, so we do simple comparison\n        if (!Object.keys(expr).some(isOperator)) {\n            return { $eq: expr };\n        }\n        // ensure valid regex\n        if (has(expr, \"$regex\")) {\n            return {\n                $regex: new RegExp(expr[\"$regex\"], expr[\"$options\"]),\n            };\n        }\n    }\n    return expr;\n}\nexports.normalize = normalize;\n","(function (root, factory) {\n  'use strict'\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory()\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory)\n  } else {\n    // Browser globals\n    root.objectPath = factory()\n  }\n})(this, function () {\n  'use strict'\n\n  var toStr = Object.prototype.toString\n\n  function hasOwnProperty (obj, prop) {\n    if (obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty (value) {\n    if (!value) {\n      return true\n    }\n    if (isArray(value) && value.length === 0) {\n      return true\n    } else if (typeof value !== 'string') {\n      for (var i in value) {\n        if (hasOwnProperty(value, i)) {\n          return false\n        }\n      }\n      return true\n    }\n    return false\n  }\n\n  function toString (type) {\n    return toStr.call(type)\n  }\n\n  function isObject (obj) {\n    return typeof obj === 'object' && toString(obj) === '[object Object]'\n  }\n\n  var isArray = Array.isArray || function (obj) {\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]'\n  }\n\n  function isBoolean (obj) {\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]'\n  }\n\n  function getKey (key) {\n    var intKey = parseInt(key)\n    if (intKey.toString() === key) {\n      return intKey\n    }\n    return key\n  }\n\n  function factory (options) {\n    options = options || {}\n\n    var objectPath = function (obj) {\n      return Object.keys(objectPath).reduce(function (proxy, prop) {\n        if (prop === 'create') {\n          return proxy\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj)\n        }\n\n        return proxy\n      }, {})\n    }\n\n    var hasShallowProperty\n    if (options.includeInheritedProps) {\n      hasShallowProperty = function () {\n        return true\n      }\n    } else {\n      hasShallowProperty = function (obj, prop) {\n        return (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop)\n      }\n    }\n\n    function getShallowProperty (obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop]\n      }\n    }\n\n    var getShallowPropertySafely\n    if (options.includeInheritedProps) {\n      getShallowPropertySafely = function (obj, currentPath) {\n        if (typeof currentPath !== 'string' && typeof currentPath !== 'number') {\n          currentPath = String(currentPath)\n        }\n        var currentValue = getShallowProperty(obj, currentPath)\n        if (currentPath === '__proto__' || currentPath === 'prototype' ||\n          (currentPath === 'constructor' && typeof currentValue === 'function')) {\n          throw new Error('For security reasons, object\\'s magic properties cannot be set')\n        }\n        return currentValue\n      }\n    } else {\n      getShallowPropertySafely = function (obj, currentPath) {\n        return getShallowProperty(obj, currentPath)\n      }\n    }\n\n    function set (obj, path, value, doNotReplace) {\n      if (typeof path === 'number') {\n        path = [path]\n      }\n      if (!path || path.length === 0) {\n        return obj\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace)\n      }\n      var currentPath = path[0]\n      var currentValue = getShallowPropertySafely(obj, currentPath)\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value\n        }\n        return currentValue\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if (typeof path[1] === 'number') {\n          obj[currentPath] = []\n        } else {\n          obj[currentPath] = {}\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace)\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path]\n      } else if (typeof path === 'string') {\n        path = path.split('.')\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i])\n\n        if ((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j]\n        } else {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    objectPath.ensureExists = function (obj, path, value) {\n      return set(obj, path, value, true)\n    }\n\n    objectPath.set = function (obj, path, value, doNotReplace) {\n      return set(obj, path, value, doNotReplace)\n    }\n\n    objectPath.insert = function (obj, path, value, at) {\n      var arr = objectPath.get(obj, path)\n      at = ~~at\n      if (!isArray(arr)) {\n        arr = []\n        objectPath.set(obj, path, arr)\n      }\n      arr.splice(at, 0, value)\n    }\n\n    objectPath.empty = function (obj, path) {\n      if (isEmpty(path)) {\n        return void 0\n      }\n      if (obj == null) {\n        return void 0\n      }\n\n      var value, i\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '')\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false)\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0)\n      } else if (isArray(value)) {\n        value.length = 0\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i]\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null)\n      }\n    }\n\n    objectPath.push = function (obj, path /*, values */) {\n      var arr = objectPath.get(obj, path)\n      if (!isArray(arr)) {\n        arr = []\n        objectPath.set(obj, path, arr)\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2))\n    }\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value\n        }\n      }\n\n      return defaultValue\n    }\n\n    objectPath.get = function (obj, path, defaultValue) {\n      if (typeof path === 'number') {\n        path = [path]\n      }\n      if (!path || path.length === 0) {\n        return obj\n      }\n      if (obj == null) {\n        return defaultValue\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue)\n      }\n\n      var currentPath = getKey(path[0])\n      var nextObj = getShallowPropertySafely(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue\n      }\n\n      if (path.length === 1) {\n        return nextObj\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue)\n    }\n\n    objectPath.del = function del (obj, path) {\n      if (typeof path === 'number') {\n        path = [path]\n      }\n\n      if (obj == null) {\n        return obj\n      }\n\n      if (isEmpty(path)) {\n        return obj\n      }\n      if (typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'))\n      }\n\n      var currentPath = getKey(path[0])\n      getShallowPropertySafely(obj, currentPath)\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj\n      }\n\n      if (path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1)\n        } else {\n          delete obj[currentPath]\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1))\n      }\n\n      return obj\n    }\n\n    return objectPath\n  }\n\n  var mod = factory()\n  mod.create = factory\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod\n})\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  const i = offset || 0;\n  const bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nvar _default = bytesToUuid;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nconst getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || [];\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _bytesToUuid.default)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nexports.URL = exports.DNS = void 0;\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  const bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction _default(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    const off = buf && offset || 0;\n    if (typeof value === 'string') value = stringToBytes(value);\n    if (typeof namespace === 'string') namespace = uuidToBytes(namespace);\n\n    if (!Array.isArray(value)) {\n      throw TypeError('value must be an array of bytes');\n    }\n\n    if (!Array.isArray(namespace) || namespace.length !== 16) {\n      throw TypeError('namespace must be uuid string or an Array of 16 byte values');\n    } // Per 4.3\n\n\n    const bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (let idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || (0, _bytesToUuid.default)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    const start = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _bytesToUuid.default)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.realisticStructuredClone = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n'use strict';\n\n_dereq_('core-js/actual/array/includes');\n_dereq_('core-js/actual/object/values');\nvar DOMException = _dereq_('domexception');\nvar Typeson = _dereq_('typeson');\nvar structuredCloningThrowing = _dereq_('typeson-registry/dist/presets/structured-cloning-throwing');\n\n// http://stackoverflow.com/a/33268326/786644 - works in browser, worker, and Node.js\nvar globalVar = typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' ? self : typeof global !== 'undefined' ? global : Function('return this;')();\n\nif (!globalVar.DOMException) {\n    globalVar.DOMException = DOMException;\n}\n\nvar TSON = new Typeson().register(structuredCloningThrowing);\n\nfunction realisticStructuredClone(obj) {\n    return TSON.revive(TSON.encapsulate(obj));\n}\n\nmodule.exports = realisticStructuredClone;\n\n},{\"core-js/actual/array/includes\":2,\"core-js/actual/object/values\":3,\"domexception\":83,\"typeson\":86,\"typeson-registry/dist/presets/structured-cloning-throwing\":85}],2:[function(_dereq_,module,exports){\n'use strict';\n\nvar parent = _dereq_('../../stable/array/includes');\n\nmodule.exports = parent;\n\n},{\"../../stable/array/includes\":78}],3:[function(_dereq_,module,exports){\n'use strict';\n\nvar parent = _dereq_('../../stable/object/values');\n\nmodule.exports = parent;\n\n},{\"../../stable/object/values\":79}],4:[function(_dereq_,module,exports){\n'use strict';\n\n_dereq_('../../modules/es.array.includes');\nvar entryUnbind = _dereq_('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n\n},{\"../../internals/entry-unbind\":18,\"../../modules/es.array.includes\":76}],5:[function(_dereq_,module,exports){\n'use strict';\n\n_dereq_('../../modules/es.object.values');\nvar path = _dereq_('../../internals/path');\n\nmodule.exports = path.Object.values;\n\n},{\"../../internals/path\":57,\"../../modules/es.object.values\":77}],6:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isCallable = _dereq_('../internals/is-callable');\nvar tryToString = _dereq_('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n\n},{\"../internals/global\":28,\"../internals/is-callable\":36,\"../internals/try-to-string\":71}],7:[function(_dereq_,module,exports){\n'use strict';\n\nvar wellKnownSymbol = _dereq_('../internals/well-known-symbol');\nvar create = _dereq_('../internals/object-create');\nvar definePropertyModule = _dereq_('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\n},{\"../internals/object-create\":44,\"../internals/object-define-property\":46,\"../internals/well-known-symbol\":75}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isObject = _dereq_('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n\n},{\"../internals/global\":28,\"../internals/is-object\":38}],9:[function(_dereq_,module,exports){\n'use strict';\n\nvar toIndexedObject = _dereq_('../internals/to-indexed-object');\nvar toAbsoluteIndex = _dereq_('../internals/to-absolute-index');\nvar lengthOfArrayLike = _dereq_('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function createMethod(IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n    } else for (; length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    }return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n},{\"../internals/length-of-array-like\":41,\"../internals/to-absolute-index\":64,\"../internals/to-indexed-object\":65}],10:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n\n},{\"../internals/function-uncurry-this\":25}],11:[function(_dereq_,module,exports){\n'use strict';\n\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar ownKeys = _dereq_('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = _dereq_('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = _dereq_('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\n},{\"../internals/has-own-property\":29,\"../internals/object-define-property\":46,\"../internals/object-get-own-property-descriptor\":47,\"../internals/own-keys\":56}],12:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar definePropertyModule = _dereq_('../internals/object-define-property');\nvar createPropertyDescriptor = _dereq_('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n},{\"../internals/create-property-descriptor\":13,\"../internals/descriptors\":14,\"../internals/object-define-property\":46}],13:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n},{}],14:[function(_dereq_,module,exports){\n'use strict';\n\nvar fails = _dereq_('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function get() {\n      return 7;\n    } })[1] != 7;\n});\n\n},{\"../internals/fails\":21}],15:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isObject = _dereq_('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n},{\"../internals/global\":28,\"../internals/is-object\":38}],16:[function(_dereq_,module,exports){\n'use strict';\n\nvar getBuiltIn = _dereq_('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n},{\"../internals/get-built-in\":26}],17:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar userAgent = _dereq_('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n\n},{\"../internals/engine-user-agent\":16,\"../internals/global\":28}],18:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\n\nmodule.exports = function (CONSTRUCTOR, METHOD) {\n  return uncurryThis(global[CONSTRUCTOR].prototype[METHOD]);\n};\n\n},{\"../internals/function-uncurry-this\":25,\"../internals/global\":28}],19:[function(_dereq_,module,exports){\n'use strict';\n\n// IE8- don't enum bug keys\nmodule.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n\n},{}],20:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar global = _dereq_('../internals/global');\nvar getOwnPropertyDescriptor = _dereq_('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = _dereq_('../internals/create-non-enumerable-property');\nvar redefine = _dereq_('../internals/redefine');\nvar setGlobal = _dereq_('../internals/set-global');\nvar copyConstructorProperties = _dereq_('../internals/copy-constructor-properties');\nvar isForced = _dereq_('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if ((typeof sourceProperty === 'undefined' ? 'undefined' : _typeof(sourceProperty)) == (typeof targetProperty === 'undefined' ? 'undefined' : _typeof(targetProperty))) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || targetProperty && targetProperty.sham) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\n},{\"../internals/copy-constructor-properties\":11,\"../internals/create-non-enumerable-property\":12,\"../internals/global\":28,\"../internals/is-forced\":37,\"../internals/object-get-own-property-descriptor\":47,\"../internals/redefine\":58,\"../internals/set-global\":60}],21:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n},{}],22:[function(_dereq_,module,exports){\n'use strict';\n\nvar fails = _dereq_('../internals/fails');\n\nmodule.exports = !fails(function () {\n  var test = function () {/* empty */}.bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n\n},{\"../internals/fails\":21}],23:[function(_dereq_,module,exports){\n'use strict';\n\nvar NATIVE_BIND = _dereq_('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n\n},{\"../internals/function-bind-native\":22}],24:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar hasOwn = _dereq_('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && function something() {/* empty */}.name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable);\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n},{\"../internals/descriptors\":14,\"../internals/has-own-property\":29}],25:[function(_dereq_,module,exports){\n'use strict';\n\nvar NATIVE_BIND = _dereq_('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n\n},{\"../internals/function-bind-native\":22}],26:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isCallable = _dereq_('../internals/is-callable');\n\nvar aFunction = function aFunction(argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n},{\"../internals/global\":28,\"../internals/is-callable\":36}],27:[function(_dereq_,module,exports){\n'use strict';\n\nvar aCallable = _dereq_('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n\n},{\"../internals/a-callable\":6}],28:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar check = function check(it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n// eslint-disable-next-line es/no-global-this -- safe\ncheck((typeof globalThis === 'undefined' ? 'undefined' : _typeof(globalThis)) == 'object' && globalThis) || check((typeof window === 'undefined' ? 'undefined' : _typeof(window)) == 'object' && window) ||\n// eslint-disable-next-line no-restricted-globals -- safe\ncheck((typeof self === 'undefined' ? 'undefined' : _typeof(self)) == 'object' && self) || check((typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global) ||\n// eslint-disable-next-line no-new-func -- fallback\nfunction () {\n  return this;\n}() || Function('return this')();\n\n},{}],29:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar toObject = _dereq_('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n\n},{\"../internals/function-uncurry-this\":25,\"../internals/to-object\":68}],30:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {};\n\n},{}],31:[function(_dereq_,module,exports){\n'use strict';\n\nvar getBuiltIn = _dereq_('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n},{\"../internals/get-built-in\":26}],32:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar fails = _dereq_('../internals/fails');\nvar createElement = _dereq_('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function get() {\n      return 7;\n    }\n  }).a != 7;\n});\n\n},{\"../internals/descriptors\":14,\"../internals/document-create-element\":15,\"../internals/fails\":21}],33:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar fails = _dereq_('../internals/fails');\nvar classof = _dereq_('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n\n},{\"../internals/classof-raw\":10,\"../internals/fails\":21,\"../internals/function-uncurry-this\":25,\"../internals/global\":28}],34:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar isCallable = _dereq_('../internals/is-callable');\nvar store = _dereq_('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n},{\"../internals/function-uncurry-this\":25,\"../internals/is-callable\":36,\"../internals/shared-store\":62}],35:[function(_dereq_,module,exports){\n'use strict';\n\nvar NATIVE_WEAK_MAP = _dereq_('../internals/native-weak-map');\nvar global = _dereq_('../internals/global');\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar isObject = _dereq_('../internals/is-object');\nvar createNonEnumerableProperty = _dereq_('../internals/create-non-enumerable-property');\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar shared = _dereq_('../internals/shared-store');\nvar sharedKey = _dereq_('../internals/shared-key');\nvar hiddenKeys = _dereq_('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function enforce(it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function getterFor(TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    }return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function set(it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function get(it) {\n    return wmget(store, it) || {};\n  };\n  has = function has(it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function set(it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function get(it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function has(it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n},{\"../internals/create-non-enumerable-property\":12,\"../internals/function-uncurry-this\":25,\"../internals/global\":28,\"../internals/has-own-property\":29,\"../internals/hidden-keys\":30,\"../internals/is-object\":38,\"../internals/native-weak-map\":43,\"../internals/shared-key\":61,\"../internals/shared-store\":62}],36:[function(_dereq_,module,exports){\n'use strict';\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n\n},{}],37:[function(_dereq_,module,exports){\n'use strict';\n\nvar fails = _dereq_('../internals/fails');\nvar isCallable = _dereq_('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function isForced(feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true : value == NATIVE ? false : isCallable(detection) ? fails(detection) : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n},{\"../internals/fails\":21,\"../internals/is-callable\":36}],38:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isCallable = _dereq_('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) == 'object' ? it !== null : isCallable(it);\n};\n\n},{\"../internals/is-callable\":36}],39:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = false;\n\n},{}],40:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar global = _dereq_('../internals/global');\nvar getBuiltIn = _dereq_('../internals/get-built-in');\nvar isCallable = _dereq_('../internals/is-callable');\nvar isPrototypeOf = _dereq_('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = _dereq_('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n\n},{\"../internals/get-built-in\":26,\"../internals/global\":28,\"../internals/is-callable\":36,\"../internals/object-is-prototype-of\":50,\"../internals/use-symbol-as-uid\":73}],41:[function(_dereq_,module,exports){\n'use strict';\n\nvar toLength = _dereq_('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n\n},{\"../internals/to-length\":67}],42:[function(_dereq_,module,exports){\n'use strict';\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = _dereq_('../internals/engine-v8-version');\nvar fails = _dereq_('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n  // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n  !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n},{\"../internals/engine-v8-version\":17,\"../internals/fails\":21}],43:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isCallable = _dereq_('../internals/is-callable');\nvar inspectSource = _dereq_('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n\n},{\"../internals/global\":28,\"../internals/inspect-source\":34,\"../internals/is-callable\":36}],44:[function(_dereq_,module,exports){\n'use strict';\n\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = _dereq_('../internals/an-object');\nvar definePropertiesModule = _dereq_('../internals/object-define-properties');\nvar enumBugKeys = _dereq_('../internals/enum-bug-keys');\nvar hiddenKeys = _dereq_('../internals/hidden-keys');\nvar html = _dereq_('../internals/html');\nvar documentCreateElement = _dereq_('../internals/document-create-element');\nvar sharedKey = _dereq_('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function EmptyConstructor() {/* empty */};\n\nvar scriptTag = function scriptTag(content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function NullProtoObjectViaActiveX(activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function NullProtoObjectViaIFrame() {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar _NullProtoObject = function NullProtoObject() {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) {/* ignore */}\n  _NullProtoObject = typeof document != 'undefined' ? document.domain && activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n  : NullProtoObjectViaIFrame() : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) {\n    delete _NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  }return _NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = _NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n\n},{\"../internals/an-object\":8,\"../internals/document-create-element\":15,\"../internals/enum-bug-keys\":19,\"../internals/hidden-keys\":30,\"../internals/html\":31,\"../internals/object-define-properties\":45,\"../internals/shared-key\":61}],45:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = _dereq_('../internals/v8-prototype-define-bug');\nvar definePropertyModule = _dereq_('../internals/object-define-property');\nvar anObject = _dereq_('../internals/an-object');\nvar toIndexedObject = _dereq_('../internals/to-indexed-object');\nvar objectKeys = _dereq_('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) {\n    definePropertyModule.f(O, key = keys[index++], props[key]);\n  }return O;\n};\n\n},{\"../internals/an-object\":8,\"../internals/descriptors\":14,\"../internals/object-define-property\":46,\"../internals/object-keys\":52,\"../internals/to-indexed-object\":65,\"../internals/v8-prototype-define-bug\":74}],46:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar IE8_DOM_DEFINE = _dereq_('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = _dereq_('../internals/v8-prototype-define-bug');\nvar anObject = _dereq_('../internals/an-object');\nvar toPropertyKey = _dereq_('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  }return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) {/* empty */}\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n},{\"../internals/an-object\":8,\"../internals/descriptors\":14,\"../internals/global\":28,\"../internals/ie8-dom-define\":32,\"../internals/to-property-key\":70,\"../internals/v8-prototype-define-bug\":74}],47:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar call = _dereq_('../internals/function-call');\nvar propertyIsEnumerableModule = _dereq_('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = _dereq_('../internals/create-property-descriptor');\nvar toIndexedObject = _dereq_('../internals/to-indexed-object');\nvar toPropertyKey = _dereq_('../internals/to-property-key');\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar IE8_DOM_DEFINE = _dereq_('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) {/* empty */}\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n\n},{\"../internals/create-property-descriptor\":13,\"../internals/descriptors\":14,\"../internals/function-call\":23,\"../internals/has-own-property\":29,\"../internals/ie8-dom-define\":32,\"../internals/object-property-is-enumerable\":53,\"../internals/to-indexed-object\":65,\"../internals/to-property-key\":70}],48:[function(_dereq_,module,exports){\n'use strict';\n\nvar internalObjectKeys = _dereq_('../internals/object-keys-internal');\nvar enumBugKeys = _dereq_('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n},{\"../internals/enum-bug-keys\":19,\"../internals/object-keys-internal\":51}],49:[function(_dereq_,module,exports){\n\"use strict\";\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n},{}],50:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n\n},{\"../internals/function-uncurry-this\":25}],51:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar toIndexedObject = _dereq_('../internals/to-indexed-object');\nvar indexOf = _dereq_('../internals/array-includes').indexOf;\nvar hiddenKeys = _dereq_('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) {\n    !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  } // Don't enum bug & hidden keys\n  while (names.length > i) {\n    if (hasOwn(O, key = names[i++])) {\n      ~indexOf(result, key) || push(result, key);\n    }\n  }return result;\n};\n\n},{\"../internals/array-includes\":9,\"../internals/function-uncurry-this\":25,\"../internals/has-own-property\":29,\"../internals/hidden-keys\":30,\"../internals/to-indexed-object\":65}],52:[function(_dereq_,module,exports){\n'use strict';\n\nvar internalObjectKeys = _dereq_('../internals/object-keys-internal');\nvar enumBugKeys = _dereq_('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n},{\"../internals/enum-bug-keys\":19,\"../internals/object-keys-internal\":51}],53:[function(_dereq_,module,exports){\n'use strict';\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n},{}],54:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar objectKeys = _dereq_('../internals/object-keys');\nvar toIndexedObject = _dereq_('../internals/to-indexed-object');\nvar $propertyIsEnumerable = _dereq_('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function createMethod(TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n\n},{\"../internals/descriptors\":14,\"../internals/function-uncurry-this\":25,\"../internals/object-keys\":52,\"../internals/object-property-is-enumerable\":53,\"../internals/to-indexed-object\":65}],55:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar call = _dereq_('../internals/function-call');\nvar isCallable = _dereq_('../internals/is-callable');\nvar isObject = _dereq_('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n},{\"../internals/function-call\":23,\"../internals/global\":28,\"../internals/is-callable\":36,\"../internals/is-object\":38}],56:[function(_dereq_,module,exports){\n'use strict';\n\nvar getBuiltIn = _dereq_('../internals/get-built-in');\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = _dereq_('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = _dereq_('../internals/object-get-own-property-symbols');\nvar anObject = _dereq_('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n\n},{\"../internals/an-object\":8,\"../internals/function-uncurry-this\":25,\"../internals/get-built-in\":26,\"../internals/object-get-own-property-names\":48,\"../internals/object-get-own-property-symbols\":49}],57:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\n\nmodule.exports = global;\n\n},{\"../internals/global\":28}],58:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar isCallable = _dereq_('../internals/is-callable');\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar createNonEnumerableProperty = _dereq_('../internals/create-non-enumerable-property');\nvar setGlobal = _dereq_('../internals/set-global');\nvar inspectSource = _dereq_('../internals/inspect-source');\nvar InternalStateModule = _dereq_('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = _dereq_('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || CONFIGURABLE_FUNCTION_NAME && value.name !== name) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n\n},{\"../internals/create-non-enumerable-property\":12,\"../internals/function-name\":24,\"../internals/global\":28,\"../internals/has-own-property\":29,\"../internals/inspect-source\":34,\"../internals/internal-state\":35,\"../internals/is-callable\":36,\"../internals/set-global\":60}],59:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar global = _dereq_('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n},{\"../internals/global\":28}],60:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  }return value;\n};\n\n},{\"../internals/global\":28}],61:[function(_dereq_,module,exports){\n'use strict';\n\nvar shared = _dereq_('../internals/shared');\nvar uid = _dereq_('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n},{\"../internals/shared\":63,\"../internals/uid\":72}],62:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar setGlobal = _dereq_('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n},{\"../internals/global\":28,\"../internals/set-global\":60}],63:[function(_dereq_,module,exports){\n'use strict';\n\nvar IS_PURE = _dereq_('../internals/is-pure');\nvar store = _dereq_('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.21.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n\n},{\"../internals/is-pure\":39,\"../internals/shared-store\":62}],64:[function(_dereq_,module,exports){\n'use strict';\n\nvar toIntegerOrInfinity = _dereq_('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n},{\"../internals/to-integer-or-infinity\":66}],65:[function(_dereq_,module,exports){\n'use strict';\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = _dereq_('../internals/indexed-object');\nvar requireObjectCoercible = _dereq_('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n},{\"../internals/indexed-object\":33,\"../internals/require-object-coercible\":59}],66:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n\n},{}],67:[function(_dereq_,module,exports){\n'use strict';\n\nvar toIntegerOrInfinity = _dereq_('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n},{\"../internals/to-integer-or-infinity\":66}],68:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar requireObjectCoercible = _dereq_('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n},{\"../internals/global\":28,\"../internals/require-object-coercible\":59}],69:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar call = _dereq_('../internals/function-call');\nvar isObject = _dereq_('../internals/is-object');\nvar isSymbol = _dereq_('../internals/is-symbol');\nvar getMethod = _dereq_('../internals/get-method');\nvar ordinaryToPrimitive = _dereq_('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = _dereq_('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n},{\"../internals/function-call\":23,\"../internals/get-method\":27,\"../internals/global\":28,\"../internals/is-object\":38,\"../internals/is-symbol\":40,\"../internals/ordinary-to-primitive\":55,\"../internals/well-known-symbol\":75}],70:[function(_dereq_,module,exports){\n'use strict';\n\nvar toPrimitive = _dereq_('../internals/to-primitive');\nvar isSymbol = _dereq_('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n\n},{\"../internals/is-symbol\":40,\"../internals/to-primitive\":69}],71:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\n},{\"../internals/global\":28}],72:[function(_dereq_,module,exports){\n'use strict';\n\nvar uncurryThis = _dereq_('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n\n},{\"../internals/function-uncurry-this\":25}],73:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = _dereq_('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL && !Symbol.sham && _typeof(Symbol.iterator) == 'symbol';\n\n},{\"../internals/native-symbol\":42}],74:[function(_dereq_,module,exports){\n'use strict';\n\nvar DESCRIPTORS = _dereq_('../internals/descriptors');\nvar fails = _dereq_('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () {/* empty */}, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n\n},{\"../internals/descriptors\":14,\"../internals/fails\":21}],75:[function(_dereq_,module,exports){\n'use strict';\n\nvar global = _dereq_('../internals/global');\nvar shared = _dereq_('../internals/shared');\nvar hasOwn = _dereq_('../internals/has-own-property');\nvar uid = _dereq_('../internals/uid');\nvar NATIVE_SYMBOL = _dereq_('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = _dereq_('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar _Symbol = global.Symbol;\nvar symbolFor = _Symbol && _Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? _Symbol : _Symbol && _Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(_Symbol, name)) {\n      WellKnownSymbolsStore[name] = _Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  }return WellKnownSymbolsStore[name];\n};\n\n},{\"../internals/global\":28,\"../internals/has-own-property\":29,\"../internals/native-symbol\":42,\"../internals/shared\":63,\"../internals/uid\":72,\"../internals/use-symbol-as-uid\":73}],76:[function(_dereq_,module,exports){\n'use strict';\n\nvar $ = _dereq_('../internals/export');\nvar $includes = _dereq_('../internals/array-includes').includes;\nvar addToUnscopables = _dereq_('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n\n},{\"../internals/add-to-unscopables\":7,\"../internals/array-includes\":9,\"../internals/export\":20}],77:[function(_dereq_,module,exports){\n'use strict';\n\nvar $ = _dereq_('../internals/export');\nvar $values = _dereq_('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n\n},{\"../internals/export\":20,\"../internals/object-to-array\":54}],78:[function(_dereq_,module,exports){\n'use strict';\n\nvar parent = _dereq_('../../es/array/includes');\n\nmodule.exports = parent;\n\n},{\"../../es/array/includes\":4}],79:[function(_dereq_,module,exports){\n'use strict';\n\nvar parent = _dereq_('../../es/object/values');\n\nmodule.exports = parent;\n\n},{\"../../es/object/values\":5}],80:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar legacyErrorCodes = _dereq_(\"./legacy-error-codes.json\");\nvar idlUtils = _dereq_(\"./utils.js\");\n\nexports.implementation = function () {\n  function DOMExceptionImpl(_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        message = _ref2[0],\n        name = _ref2[1];\n\n    _classCallCheck(this, DOMExceptionImpl);\n\n    this.name = name;\n    this.message = message;\n  }\n\n  _createClass(DOMExceptionImpl, [{\n    key: \"code\",\n    get: function get() {\n      return legacyErrorCodes[this.name] || 0;\n    }\n  }]);\n\n  return DOMExceptionImpl;\n}();\n\n// A proprietary V8 extension that causes the stack property to appear.\nexports.init = function (impl) {\n  if (Error.captureStackTrace) {\n    var wrapper = idlUtils.wrapperForImpl(impl);\n    Error.captureStackTrace(wrapper, wrapper.constructor);\n  }\n};\n\n},{\"./legacy-error-codes.json\":82,\"./utils.js\":84}],81:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar conversions = _dereq_(\"webidl-conversions\");\nvar utils = _dereq_(\"./utils.js\");\n\nvar impl = utils.implSymbol;\n\nfunction DOMException() {\n  var args = [];\n  for (var i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n\n  if (args[0] !== undefined) {\n    args[0] = conversions[\"DOMString\"](args[0], { context: \"Failed to construct 'DOMException': parameter 1\" });\n  } else {\n    args[0] = \"\";\n  }\n\n  if (args[1] !== undefined) {\n    args[1] = conversions[\"DOMString\"](args[1], { context: \"Failed to construct 'DOMException': parameter 2\" });\n  } else {\n    args[1] = \"Error\";\n  }\n\n  iface.setup(this, args);\n}\n\nObject.defineProperty(DOMException, \"prototype\", {\n  value: DOMException.prototype,\n  writable: false,\n  enumerable: false,\n  configurable: false\n});\n\nObject.defineProperty(DOMException.prototype, \"name\", {\n  get: function get() {\n    return this[impl][\"name\"];\n  },\n\n\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(DOMException.prototype, \"message\", {\n  get: function get() {\n    return this[impl][\"message\"];\n  },\n\n\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(DOMException.prototype, \"code\", {\n  get: function get() {\n    return this[impl][\"code\"];\n  },\n\n\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(DOMException, \"INDEX_SIZE_ERR\", {\n  value: 1,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INDEX_SIZE_ERR\", {\n  value: 1,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"DOMSTRING_SIZE_ERR\", {\n  value: 2,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"DOMSTRING_SIZE_ERR\", {\n  value: 2,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"HIERARCHY_REQUEST_ERR\", {\n  value: 3,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"HIERARCHY_REQUEST_ERR\", {\n  value: 3,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"WRONG_DOCUMENT_ERR\", {\n  value: 4,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"WRONG_DOCUMENT_ERR\", {\n  value: 4,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INVALID_CHARACTER_ERR\", {\n  value: 5,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INVALID_CHARACTER_ERR\", {\n  value: 5,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NO_DATA_ALLOWED_ERR\", {\n  value: 6,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NO_DATA_ALLOWED_ERR\", {\n  value: 6,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NO_MODIFICATION_ALLOWED_ERR\", {\n  value: 7,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NO_MODIFICATION_ALLOWED_ERR\", {\n  value: 7,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NOT_FOUND_ERR\", {\n  value: 8,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NOT_FOUND_ERR\", {\n  value: 8,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NOT_SUPPORTED_ERR\", {\n  value: 9,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NOT_SUPPORTED_ERR\", {\n  value: 9,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INUSE_ATTRIBUTE_ERR\", {\n  value: 10,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INUSE_ATTRIBUTE_ERR\", {\n  value: 10,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INVALID_STATE_ERR\", {\n  value: 11,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INVALID_STATE_ERR\", {\n  value: 11,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"SYNTAX_ERR\", {\n  value: 12,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"SYNTAX_ERR\", {\n  value: 12,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INVALID_MODIFICATION_ERR\", {\n  value: 13,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INVALID_MODIFICATION_ERR\", {\n  value: 13,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NAMESPACE_ERR\", {\n  value: 14,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NAMESPACE_ERR\", {\n  value: 14,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INVALID_ACCESS_ERR\", {\n  value: 15,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INVALID_ACCESS_ERR\", {\n  value: 15,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"VALIDATION_ERR\", {\n  value: 16,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"VALIDATION_ERR\", {\n  value: 16,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"TYPE_MISMATCH_ERR\", {\n  value: 17,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"TYPE_MISMATCH_ERR\", {\n  value: 17,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"SECURITY_ERR\", {\n  value: 18,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"SECURITY_ERR\", {\n  value: 18,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"NETWORK_ERR\", {\n  value: 19,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"NETWORK_ERR\", {\n  value: 19,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"ABORT_ERR\", {\n  value: 20,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"ABORT_ERR\", {\n  value: 20,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"URL_MISMATCH_ERR\", {\n  value: 21,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"URL_MISMATCH_ERR\", {\n  value: 21,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"QUOTA_EXCEEDED_ERR\", {\n  value: 22,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"QUOTA_EXCEEDED_ERR\", {\n  value: 22,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"TIMEOUT_ERR\", {\n  value: 23,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"TIMEOUT_ERR\", {\n  value: 23,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"INVALID_NODE_TYPE_ERR\", {\n  value: 24,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"INVALID_NODE_TYPE_ERR\", {\n  value: 24,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException, \"DATA_CLONE_ERR\", {\n  value: 25,\n  enumerable: true\n});\nObject.defineProperty(DOMException.prototype, \"DATA_CLONE_ERR\", {\n  value: 25,\n  enumerable: true\n});\n\nObject.defineProperty(DOMException.prototype, Symbol.toStringTag, {\n  value: \"DOMException\",\n  writable: false,\n  enumerable: false,\n  configurable: true\n});\n\nvar iface = {\n  mixedInto: [],\n  is: function is(obj) {\n    if (obj) {\n      if (obj[impl] instanceof Impl.implementation) {\n        return true;\n      }\n      for (var i = 0; i < module.exports.mixedInto.length; ++i) {\n        if (obj instanceof module.exports.mixedInto[i]) {\n          return true;\n        }\n      }\n    }\n    return false;\n  },\n  isImpl: function isImpl(obj) {\n    if (obj) {\n      if (obj instanceof Impl.implementation) {\n        return true;\n      }\n\n      var wrapper = utils.wrapperForImpl(obj);\n      for (var i = 0; i < module.exports.mixedInto.length; ++i) {\n        if (wrapper instanceof module.exports.mixedInto[i]) {\n          return true;\n        }\n      }\n    }\n    return false;\n  },\n  convert: function convert(obj) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$context = _ref.context,\n        context = _ref$context === undefined ? \"The provided value\" : _ref$context;\n\n    if (module.exports.is(obj)) {\n      return utils.implForWrapper(obj);\n    }\n    throw new TypeError(context + \" is not of type 'DOMException'.\");\n  },\n  create: function create(constructorArgs, privateData) {\n    var obj = Object.create(DOMException.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  createImpl: function createImpl(constructorArgs, privateData) {\n    var obj = Object.create(DOMException.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return utils.implForWrapper(obj);\n  },\n  _internalSetup: function _internalSetup(obj) {},\n  setup: function setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n\n    privateData.wrapper = obj;\n\n    this._internalSetup(obj);\n    Object.defineProperty(obj, impl, {\n      value: new Impl.implementation(constructorArgs, privateData),\n      writable: false,\n      enumerable: false,\n      configurable: true\n    });\n    obj[impl][utils.wrapperSymbol] = obj;\n    if (Impl.init) {\n      Impl.init(obj[impl], privateData);\n    }\n  },\n\n  interface: DOMException,\n  expose: {\n    Window: { DOMException: DOMException },\n    Worker: { DOMException: DOMException }\n  }\n}; // iface\nmodule.exports = iface;\n\nvar Impl = _dereq_(\".//DOMException-impl.js\");\n\n},{\".//DOMException-impl.js\":80,\"./utils.js\":84,\"webidl-conversions\":87}],82:[function(_dereq_,module,exports){\nmodule.exports={\n  \"IndexSizeError\": 1,\n  \"DOMStringSizeError\": 2,\n  \"HierarchyRequestError\": 3,\n  \"WrongDocumentError\": 4,\n  \"InvalidCharacterError\": 5,\n  \"NoDataAllowedError\": 6,\n  \"NoModificationAllowedError\": 7,\n  \"NotFoundError\": 8,\n  \"NotSupportedError\": 9,\n  \"InUseAttributeError\": 10,\n  \"InvalidStateError\": 11,\n  \"SyntaxError\": 12,\n  \"InvalidModificationError\": 13,\n  \"NamespaceError\": 14,\n  \"InvalidAccessError\": 15,\n  \"ValidationError\": 16,\n  \"TypeMismatchError\": 17,\n  \"SecurityError\": 18,\n  \"NetworkError\": 19,\n  \"AbortError\": 20,\n  \"URLMismatchError\": 21,\n  \"QuotaExceededError\": 22,\n  \"TimeoutError\": 23,\n  \"InvalidNodeTypeError\": 24,\n  \"DataCloneError\": 25\n}\n\n},{}],83:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = _dereq_(\"./DOMException\").interface;\n\nObject.setPrototypeOf(module.exports.prototype, Error.prototype);\n\n},{\"./DOMException\":81}],84:[function(_dereq_,module,exports){\n\"use strict\";\n\n// Returns \"Type(value) is Object\" in ES terminology.\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction isObject(value) {\n  return (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value !== null || typeof value === \"function\";\n}\n\nfunction getReferenceToBytes(bufferSource) {\n  // Node.js' Buffer does not allow subclassing for now, so we can get away with a prototype object check for perf.\n  if (Object.getPrototypeOf(bufferSource) === Buffer.prototype) {\n    return bufferSource;\n  }\n  if (bufferSource instanceof ArrayBuffer) {\n    return Buffer.from(bufferSource);\n  }\n  return Buffer.from(bufferSource.buffer, bufferSource.byteOffset, bufferSource.byteLength);\n}\n\nfunction getCopyToBytes(bufferSource) {\n  return Buffer.from(getReferenceToBytes(bufferSource));\n}\n\nfunction mixin(target, source) {\n  var keys = Object.getOwnPropertyNames(source);\n  for (var i = 0; i < keys.length; ++i) {\n    if (keys[i] in target) {\n      continue;\n    }\n\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n}\n\nvar wrapperSymbol = Symbol(\"wrapper\");\nvar implSymbol = Symbol(\"impl\");\nvar sameObjectCaches = Symbol(\"SameObject caches\");\n\nfunction getSameObject(wrapper, prop, creator) {\n  if (!wrapper[sameObjectCaches]) {\n    wrapper[sameObjectCaches] = Object.create(null);\n  }\n\n  if (prop in wrapper[sameObjectCaches]) {\n    return wrapper[sameObjectCaches][prop];\n  }\n\n  wrapper[sameObjectCaches][prop] = creator();\n  return wrapper[sameObjectCaches][prop];\n}\n\nfunction wrapperForImpl(impl) {\n  return impl ? impl[wrapperSymbol] : null;\n}\n\nfunction implForWrapper(wrapper) {\n  return wrapper ? wrapper[implSymbol] : null;\n}\n\nfunction tryWrapperForImpl(impl) {\n  var wrapper = wrapperForImpl(impl);\n  return wrapper ? wrapper : impl;\n}\n\nfunction tryImplForWrapper(wrapper) {\n  var impl = implForWrapper(wrapper);\n  return impl ? impl : wrapper;\n}\n\nvar iterInternalSymbol = Symbol(\"internal\");\nvar IteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));\n\nmodule.exports = exports = {\n  isObject: isObject,\n  getReferenceToBytes: getReferenceToBytes,\n  getCopyToBytes: getCopyToBytes,\n  mixin: mixin,\n  wrapperSymbol: wrapperSymbol,\n  implSymbol: implSymbol,\n  getSameObject: getSameObject,\n  wrapperForImpl: wrapperForImpl,\n  implForWrapper: implForWrapper,\n  tryWrapperForImpl: tryWrapperForImpl,\n  tryImplForWrapper: tryImplForWrapper,\n  iterInternalSymbol: iterInternalSymbol,\n  IteratorPrototype: IteratorPrototype\n};\n\n},{}],85:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (e, t) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof2(exports)) && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : ((e = \"undefined\" != typeof globalThis ? globalThis : e || self).Typeson = e.Typeson || {}, e.Typeson.presets = e.Typeson.presets || {}, e.Typeson.presets.structuredCloningThrowing = t());\n}(undefined, function () {\n  \"use strict\";\n  function _typeof$1(e) {\n    return (_typeof$1 = \"function\" == typeof Symbol && \"symbol\" == _typeof2(Symbol.iterator) ? function (e) {\n      return typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n    })(e);\n  }function _classCallCheck$1(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }function _defineProperties$1(e, t) {\n    for (var r = 0; r < t.length; r++) {\n      var n = t[r];n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }function _defineProperty$1(e, t, r) {\n    return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;\n  }function ownKeys$1(e, t) {\n    var r = Object.keys(e);if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }return r;\n  }function _toConsumableArray$1(e) {\n    return function _arrayWithoutHoles$1(e) {\n      if (Array.isArray(e)) return _arrayLikeToArray$1(e);\n    }(e) || function _iterableToArray$1(e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n    }(e) || function _unsupportedIterableToArray$1(e, t) {\n      if (!e) return;if (\"string\" == typeof e) return _arrayLikeToArray$1(e, t);var r = Object.prototype.toString.call(e).slice(8, -1);\"Object\" === r && e.constructor && (r = e.constructor.name);if (\"Map\" === r || \"Set\" === r) return Array.from(e);if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray$1(e, t);\n    }(e) || function _nonIterableSpread$1() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }();\n  }function _arrayLikeToArray$1(e, t) {\n    (null == t || t > e.length) && (t = e.length);for (var r = 0, n = new Array(t); r < t; r++) {\n      n[r] = e[r];\n    }return n;\n  }function _typeof(e) {\n    return (_typeof = \"function\" == typeof Symbol && \"symbol\" == _typeof2(Symbol.iterator) ? function _typeof(e) {\n      return typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n    } : function _typeof(e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n    })(e);\n  }function _classCallCheck(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }function _defineProperties(e, t) {\n    for (var r = 0; r < t.length; r++) {\n      var n = t[r];n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }function _defineProperty(e, t, r) {\n    return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;\n  }function ownKeys(e, t) {\n    var r = Object.keys(e);if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }return r;\n  }function _objectSpread2(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};t % 2 ? ownKeys(Object(r), !0).forEach(function (t) {\n        _defineProperty(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }return e;\n  }function _slicedToArray(e, t) {\n    return function _arrayWithHoles(e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function _iterableToArrayLimit(e, t) {\n      if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;var r = [],\n          n = !0,\n          i = !1,\n          o = void 0;try {\n        for (var a, c = e[Symbol.iterator](); !(n = (a = c.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0) {}\n      } catch (e) {\n        i = !0, o = e;\n      } finally {\n        try {\n          n || null == c.return || c.return();\n        } finally {\n          if (i) throw o;\n        }\n      }return r;\n    }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }();\n  }function _toConsumableArray(e) {\n    return function _arrayWithoutHoles(e) {\n      if (Array.isArray(e)) return _arrayLikeToArray(e);\n    }(e) || function _iterableToArray(e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n    }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }();\n  }function _unsupportedIterableToArray(e, t) {\n    if (e) {\n      if (\"string\" == typeof e) return _arrayLikeToArray(e, t);var r = Object.prototype.toString.call(e).slice(8, -1);return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0;\n    }\n  }function _arrayLikeToArray(e, t) {\n    (null == t || t > e.length) && (t = e.length);for (var r = 0, n = new Array(t); r < t; r++) {\n      n[r] = e[r];\n    }return n;\n  }var e = function TypesonPromise(e) {\n    _classCallCheck(this, TypesonPromise), this.p = new Promise(e);\n  };e.__typeson__type__ = \"TypesonPromise\", \"undefined\" != typeof Symbol && (e.prototype[Symbol.toStringTag] = \"TypesonPromise\"), e.prototype.then = function (t, r) {\n    var n = this;return new e(function (e, i) {\n      n.p.then(function (r) {\n        e(t ? t(r) : r);\n      }).catch(function (e) {\n        return r ? r(e) : Promise.reject(e);\n      }).then(e, i);\n    });\n  }, e.prototype.catch = function (e) {\n    return this.then(null, e);\n  }, e.resolve = function (t) {\n    return new e(function (e) {\n      e(t);\n    });\n  }, e.reject = function (t) {\n    return new e(function (e, r) {\n      r(t);\n    });\n  }, [\"all\", \"race\"].forEach(function (t) {\n    e[t] = function (r) {\n      return new e(function (e, n) {\n        Promise[t](r.map(function (e) {\n          return e && e.constructor && \"TypesonPromise\" === e.constructor.__typeson__type__ ? e.p : e;\n        })).then(e, n);\n      });\n    };\n  });var t = {}.toString,\n      r = {}.hasOwnProperty,\n      n = Object.getPrototypeOf,\n      i = r.toString;function isThenable(e, t) {\n    return isObject(e) && \"function\" == typeof e.then && (!t || \"function\" == typeof e.catch);\n  }function toStringTag(e) {\n    return t.call(e).slice(8, -1);\n  }function hasConstructorOf(e, t) {\n    if (!e || \"object\" !== _typeof(e)) return !1;var o = n(e);if (!o) return null === t;var a = r.call(o, \"constructor\") && o.constructor;return \"function\" != typeof a ? null === t : t === a || null !== t && i.call(a) === i.call(t) || \"function\" == typeof t && \"string\" == typeof a.__typeson__type__ && a.__typeson__type__ === t.__typeson__type__;\n  }function isPlainObject(e) {\n    return !(!e || \"Object\" !== toStringTag(e)) && (!n(e) || hasConstructorOf(e, Object));\n  }function isObject(e) {\n    return e && \"object\" === _typeof(e);\n  }function escapeKeyPathComponent(e) {\n    return e.replace(/~/g, \"~0\").replace(/\\./g, \"~1\");\n  }function unescapeKeyPathComponent(e) {\n    return e.replace(/~1/g, \".\").replace(/~0/g, \"~\");\n  }function getByKeyPath(e, t) {\n    if (\"\" === t) return e;var r = t.indexOf(\".\");if (r > -1) {\n      var n = e[unescapeKeyPathComponent(t.slice(0, r))];return void 0 === n ? void 0 : getByKeyPath(n, t.slice(r + 1));\n    }return e[unescapeKeyPathComponent(t)];\n  }function setAtKeyPath(e, t, r) {\n    if (\"\" === t) return r;var n = t.indexOf(\".\");return n > -1 ? setAtKeyPath(e[unescapeKeyPathComponent(t.slice(0, n))], t.slice(n + 1), r) : (e[unescapeKeyPathComponent(t)] = r, e);\n  }function _await(e, t, r) {\n    return r ? t ? t(e) : e : (e && e.then || (e = Promise.resolve(e)), t ? e.then(t) : e);\n  }var o = Object.keys,\n      a = Array.isArray,\n      c = {}.hasOwnProperty,\n      u = [\"type\", \"replaced\", \"iterateIn\", \"iterateUnsetNumeric\"];function _async(e) {\n    return function () {\n      for (var t = [], r = 0; r < arguments.length; r++) {\n        t[r] = arguments[r];\n      }try {\n        return Promise.resolve(e.apply(this, t));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    };\n  }function nestedPathsFirst(e, t) {\n    if (\"\" === e.keypath) return -1;var r = e.keypath.match(/\\./g) || 0,\n        n = t.keypath.match(/\\./g) || 0;return r && (r = r.length), n && (n = n.length), r > n ? -1 : r < n ? 1 : e.keypath < t.keypath ? -1 : e.keypath > t.keypath;\n  }var s = function () {\n    function Typeson(e) {\n      _classCallCheck(this, Typeson), this.options = e, this.plainObjectReplacers = [], this.nonplainObjectReplacers = [], this.revivers = {}, this.types = {};\n    }return function _createClass(e, t, r) {\n      return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e;\n    }(Typeson, [{ key: \"stringify\", value: function stringify(e, t, r, n) {\n        n = _objectSpread2(_objectSpread2(_objectSpread2({}, this.options), n), {}, { stringification: !0 });var i = this.encapsulate(e, null, n);return a(i) ? JSON.stringify(i[0], t, r) : i.then(function (e) {\n          return JSON.stringify(e, t, r);\n        });\n      } }, { key: \"stringifySync\", value: function stringifySync(e, t, r, n) {\n        return this.stringify(e, t, r, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, n), {}, { sync: !0 }));\n      } }, { key: \"stringifyAsync\", value: function stringifyAsync(e, t, r, n) {\n        return this.stringify(e, t, r, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, n), {}, { sync: !1 }));\n      } }, { key: \"parse\", value: function parse(e, t, r) {\n        return r = _objectSpread2(_objectSpread2(_objectSpread2({}, this.options), r), {}, { parse: !0 }), this.revive(JSON.parse(e, t), r);\n      } }, { key: \"parseSync\", value: function parseSync(e, t, r) {\n        return this.parse(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !0 }));\n      } }, { key: \"parseAsync\", value: function parseAsync(e, t, r) {\n        return this.parse(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !1 }));\n      } }, { key: \"specialTypeNames\", value: function specialTypeNames(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};return r.returnTypeNames = !0, this.encapsulate(e, t, r);\n      } }, { key: \"rootTypeName\", value: function rootTypeName(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};return r.iterateNone = !0, this.encapsulate(e, t, r);\n      } }, { key: \"encapsulate\", value: function encapsulate(t, r, n) {\n        var i = _async(function (t, r) {\n          return _await(Promise.all(r.map(function (e) {\n            return e[1].p;\n          })), function (n) {\n            return _await(Promise.all(n.map(_async(function (n) {\n              var o = !1,\n                  a = [],\n                  c = _slicedToArray(r.splice(0, 1), 1),\n                  u = _slicedToArray(c[0], 7),\n                  s = u[0],\n                  f = u[2],\n                  l = u[3],\n                  p = u[4],\n                  y = u[5],\n                  v = u[6],\n                  b = _encapsulate(s, n, f, l, a, !0, v),\n                  d = hasConstructorOf(b, e);return function _invoke(e, t) {\n                var r = e();return r && r.then ? r.then(t) : t(r);\n              }(function () {\n                if (s && d) return _await(b.p, function (e) {\n                  return p[y] = e, o = !0, i(t, a);\n                });\n              }, function (e) {\n                return o ? e : (s ? p[y] = b : t = d ? b.p : b, i(t, a));\n              });\n            }))), function () {\n              return t;\n            });\n          });\n        }),\n            s = (n = _objectSpread2(_objectSpread2({ sync: !0 }, this.options), n)).sync,\n            f = this,\n            l = {},\n            p = [],\n            y = [],\n            v = [],\n            b = !(\"cyclic\" in n) || n.cyclic,\n            d = n.encapsulateObserver,\n            h = _encapsulate(\"\", t, b, r || {}, v);function finish(e) {\n          var t = Object.values(l);if (n.iterateNone) return t.length ? t[0] : Typeson.getJSONType(e);if (t.length) {\n            if (n.returnTypeNames) return _toConsumableArray(new Set(t));e && isPlainObject(e) && !c.call(e, \"$types\") ? e.$types = l : e = { $: e, $types: { $: l } };\n          } else isObject(e) && c.call(e, \"$types\") && (e = { $: e, $types: !0 });return !n.returnTypeNames && e;\n        }function _adaptBuiltinStateObjectProperties(e, t, r) {\n          Object.assign(e, t);var n = u.map(function (t) {\n            var r = e[t];return delete e[t], r;\n          });r(), u.forEach(function (t, r) {\n            e[t] = n[r];\n          });\n        }function _encapsulate(t, r, i, u, s, v, b) {\n          var h,\n              g = {},\n              m = _typeof(r),\n              O = d ? function (n) {\n            var o = b || u.type || Typeson.getJSONType(r);d(Object.assign(n || g, { keypath: t, value: r, cyclic: i, stateObj: u, promisesData: s, resolvingTypesonPromise: v, awaitingTypesonPromise: hasConstructorOf(r, e) }, { type: o }));\n          } : null;if ([\"string\", \"boolean\", \"number\", \"undefined\"].includes(m)) return void 0 === r || Number.isNaN(r) || r === Number.NEGATIVE_INFINITY || r === Number.POSITIVE_INFINITY ? (h = u.replaced ? r : replace(t, r, u, s, !1, v, O)) !== r && (g = { replaced: h }) : h = r, O && O(), h;if (null === r) return O && O(), r;if (i && !u.iterateIn && !u.iterateUnsetNumeric && r && \"object\" === _typeof(r)) {\n            var _ = p.indexOf(r);if (!(_ < 0)) return l[t] = \"#\", O && O({ cyclicKeypath: y[_] }), \"#\" + y[_];!0 === i && (p.push(r), y.push(t));\n          }var j,\n              S = isPlainObject(r),\n              T = a(r),\n              w = (S || T) && (!f.plainObjectReplacers.length || u.replaced) || u.iterateIn ? r : replace(t, r, u, s, S || T, null, O);if (w !== r ? (h = w, g = { replaced: w }) : \"\" === t && hasConstructorOf(r, e) ? (s.push([t, r, i, u, void 0, void 0, u.type]), h = r) : T && \"object\" !== u.iterateIn || \"array\" === u.iterateIn ? (j = new Array(r.length), g = { clone: j }) : ([\"function\", \"symbol\"].includes(_typeof(r)) || \"toJSON\" in r || hasConstructorOf(r, e) || hasConstructorOf(r, Promise) || hasConstructorOf(r, ArrayBuffer)) && !S && \"object\" !== u.iterateIn ? h = r : (j = {}, u.addLength && (j.length = r.length), g = { clone: j }), O && O(), n.iterateNone) return j || h;if (!j) return h;if (u.iterateIn) {\n            var A = function _loop(n) {\n              var o = { ownKeys: c.call(r, n) };_adaptBuiltinStateObjectProperties(u, o, function () {\n                var o = t + (t ? \".\" : \"\") + escapeKeyPathComponent(n),\n                    a = _encapsulate(o, r[n], Boolean(i), u, s, v);hasConstructorOf(a, e) ? s.push([o, a, Boolean(i), u, j, n, u.type]) : void 0 !== a && (j[n] = a);\n              });\n            };for (var P in r) {\n              A(P);\n            }O && O({ endIterateIn: !0, end: !0 });\n          } else o(r).forEach(function (n) {\n            var o = t + (t ? \".\" : \"\") + escapeKeyPathComponent(n);_adaptBuiltinStateObjectProperties(u, { ownKeys: !0 }, function () {\n              var t = _encapsulate(o, r[n], Boolean(i), u, s, v);hasConstructorOf(t, e) ? s.push([o, t, Boolean(i), u, j, n, u.type]) : void 0 !== t && (j[n] = t);\n            });\n          }), O && O({ endIterateOwn: !0, end: !0 });if (u.iterateUnsetNumeric) {\n            for (var C = r.length, I = function _loop2(n) {\n              if (!(n in r)) {\n                var o = t + (t ? \".\" : \"\") + n;_adaptBuiltinStateObjectProperties(u, { ownKeys: !1 }, function () {\n                  var t = _encapsulate(o, void 0, Boolean(i), u, s, v);hasConstructorOf(t, e) ? s.push([o, t, Boolean(i), u, j, n, u.type]) : void 0 !== t && (j[n] = t);\n                });\n              }\n            }, N = 0; N < C; N++) {\n              I(N);\n            }O && O({ endIterateUnsetNumeric: !0, end: !0 });\n          }return j;\n        }function replace(e, t, r, n, i, o, a) {\n          for (var c = i ? f.plainObjectReplacers : f.nonplainObjectReplacers, u = c.length; u--;) {\n            var p = c[u];if (p.test(t, r)) {\n              var y = p.type;if (f.revivers[y]) {\n                var v = l[e];l[e] = v ? [y].concat(v) : y;\n              }return Object.assign(r, { type: y, replaced: !0 }), !s && p.replaceAsync || p.replace ? (a && a({ replacing: !0 }), _encapsulate(e, p[s || !p.replaceAsync ? \"replace\" : \"replaceAsync\"](t, r), b && \"readonly\", r, n, o, y)) : (a && a({ typeDetected: !0 }), _encapsulate(e, t, b && \"readonly\", r, n, o, y));\n            }\n          }return t;\n        }return v.length ? s && n.throwOnBadSyncType ? function () {\n          throw new TypeError(\"Sync method requested but async result obtained\");\n        }() : Promise.resolve(i(h, v)).then(finish) : !s && n.throwOnBadSyncType ? function () {\n          throw new TypeError(\"Async method requested but sync result obtained\");\n        }() : n.stringification && s ? [finish(h)] : s ? finish(h) : Promise.resolve(finish(h));\n      } }, { key: \"encapsulateSync\", value: function encapsulateSync(e, t, r) {\n        return this.encapsulate(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !0 }));\n      } }, { key: \"encapsulateAsync\", value: function encapsulateAsync(e, t, r) {\n        return this.encapsulate(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !1 }));\n      } }, { key: \"revive\", value: function revive(t, r) {\n        var n = t && t.$types;if (!n) return t;if (!0 === n) return t.$;var i = (r = _objectSpread2(_objectSpread2({ sync: !0 }, this.options), r)).sync,\n            c = [],\n            u = {},\n            s = !0;n.$ && isPlainObject(n.$) && (t = t.$, n = n.$, s = !1);var l = this;function executeReviver(e, t) {\n          var r = _slicedToArray(l.revivers[e] || [], 1)[0];if (!r) throw new Error(\"Unregistered type: \" + e);return i && !(\"revive\" in r) ? t : r[i && r.revive ? \"revive\" : !i && r.reviveAsync ? \"reviveAsync\" : \"revive\"](t, u);\n        }var p = [];function checkUndefined(e) {\n          return hasConstructorOf(e, f) ? void 0 : e;\n        }var y,\n            v = function revivePlainObjects() {\n          var r = [];if (Object.entries(n).forEach(function (e) {\n            var t = _slicedToArray(e, 2),\n                i = t[0],\n                o = t[1];\"#\" !== o && [].concat(o).forEach(function (e) {\n              _slicedToArray(l.revivers[e] || [null, {}], 2)[1].plain && (r.push({ keypath: i, type: e }), delete n[i]);\n            });\n          }), r.length) return r.sort(nestedPathsFirst).reduce(function reducer(r, n) {\n            var i = n.keypath,\n                o = n.type;if (isThenable(r)) return r.then(function (e) {\n              return reducer(e, { keypath: i, type: o });\n            });var a = getByKeyPath(t, i);if (hasConstructorOf(a = executeReviver(o, a), e)) return a.then(function (e) {\n              var r = setAtKeyPath(t, i, e);r === e && (t = r);\n            });var c = setAtKeyPath(t, i, a);c === a && (t = c);\n          }, void 0);\n        }();return hasConstructorOf(v, e) ? y = v.then(function () {\n          return t;\n        }) : (y = function _revive(t, r, i, u, l) {\n          if (!s || \"$types\" !== t) {\n            var y = n[t],\n                v = a(r);if (v || isPlainObject(r)) {\n              var b = v ? new Array(r.length) : {};for (o(r).forEach(function (n) {\n                var o = _revive(t + (t ? \".\" : \"\") + escapeKeyPathComponent(n), r[n], i || b, b, n),\n                    a = function set(e) {\n                  return hasConstructorOf(e, f) ? b[n] = void 0 : void 0 !== e && (b[n] = e), e;\n                };hasConstructorOf(o, e) ? p.push(o.then(function (e) {\n                  return a(e);\n                })) : a(o);\n              }), r = b; c.length;) {\n                var d = _slicedToArray(c[0], 4),\n                    h = d[0],\n                    g = d[1],\n                    m = d[2],\n                    O = d[3],\n                    _ = getByKeyPath(h, g);if (void 0 === _) break;m[O] = _, c.splice(0, 1);\n              }\n            }if (!y) return r;if (\"#\" === y) {\n              var j = getByKeyPath(i, r.slice(1));return void 0 === j && c.push([i, r.slice(1), u, l]), j;\n            }return [].concat(y).reduce(function reducer(t, r) {\n              return hasConstructorOf(t, e) ? t.then(function (e) {\n                return reducer(e, r);\n              }) : executeReviver(r, t);\n            }, r);\n          }\n        }(\"\", t, null), p.length && (y = e.resolve(y).then(function (t) {\n          return e.all([t].concat(p));\n        }).then(function (e) {\n          return _slicedToArray(e, 1)[0];\n        }))), isThenable(y) ? i && r.throwOnBadSyncType ? function () {\n          throw new TypeError(\"Sync method requested but async result obtained\");\n        }() : hasConstructorOf(y, e) ? y.p.then(checkUndefined) : y : !i && r.throwOnBadSyncType ? function () {\n          throw new TypeError(\"Async method requested but sync result obtained\");\n        }() : i ? checkUndefined(y) : Promise.resolve(checkUndefined(y));\n      } }, { key: \"reviveSync\", value: function reviveSync(e, t) {\n        return this.revive(e, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, t), {}, { sync: !0 }));\n      } }, { key: \"reviveAsync\", value: function reviveAsync(e, t) {\n        return this.revive(e, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, t), {}, { sync: !1 }));\n      } }, { key: \"register\", value: function register(e, t) {\n        return t = t || {}, [].concat(e).forEach(function R(e) {\n          var r = this;if (a(e)) return e.map(function (e) {\n            return R.call(r, e);\n          });e && o(e).forEach(function (r) {\n            if (\"#\" === r) throw new TypeError(\"# cannot be used as a type name as it is reserved for cyclic objects\");if (Typeson.JSON_TYPES.includes(r)) throw new TypeError(\"Plain JSON object types are reserved as type names\");var n = e[r],\n                i = n && n.testPlainObjects ? this.plainObjectReplacers : this.nonplainObjectReplacers,\n                o = i.filter(function (e) {\n              return e.type === r;\n            });if (o.length && (i.splice(i.indexOf(o[0]), 1), delete this.revivers[r], delete this.types[r]), \"function\" == typeof n) {\n              var c = n;n = { test: function test(e) {\n                  return e && e.constructor === c;\n                }, replace: function replace(e) {\n                  return _objectSpread2({}, e);\n                }, revive: function revive(e) {\n                  return Object.assign(Object.create(c.prototype), e);\n                } };\n            } else if (a(n)) {\n              var u = _slicedToArray(n, 3);n = { test: u[0], replace: u[1], revive: u[2] };\n            }if (n && n.test) {\n              var s = { type: r, test: n.test.bind(n) };n.replace && (s.replace = n.replace.bind(n)), n.replaceAsync && (s.replaceAsync = n.replaceAsync.bind(n));var f = \"number\" == typeof t.fallback ? t.fallback : t.fallback ? 0 : Number.POSITIVE_INFINITY;if (n.testPlainObjects ? this.plainObjectReplacers.splice(f, 0, s) : this.nonplainObjectReplacers.splice(f, 0, s), n.revive || n.reviveAsync) {\n                var l = {};n.revive && (l.revive = n.revive.bind(n)), n.reviveAsync && (l.reviveAsync = n.reviveAsync.bind(n)), this.revivers[r] = [l, { plain: n.testPlainObjects }];\n              }this.types[r] = n;\n            }\n          }, this);\n        }, this), this;\n      } }]), Typeson;\n  }(),\n      f = function Undefined() {\n    _classCallCheck(this, Undefined);\n  };f.__typeson__type__ = \"TypesonUndefined\", s.Undefined = f, s.Promise = e, s.isThenable = isThenable, s.toStringTag = toStringTag, s.hasConstructorOf = hasConstructorOf, s.isObject = isObject, s.isPlainObject = isPlainObject, s.isUserObject = function isUserObject(e) {\n    if (!e || \"Object\" !== toStringTag(e)) return !1;var t = n(e);return !t || hasConstructorOf(e, Object) || isUserObject(t);\n  }, s.escapeKeyPathComponent = escapeKeyPathComponent, s.unescapeKeyPathComponent = unescapeKeyPathComponent, s.getByKeyPath = getByKeyPath, s.getJSONType = function getJSONType(e) {\n    return null === e ? \"null\" : Array.isArray(e) ? \"array\" : _typeof(e);\n  }, s.JSON_TYPES = [\"null\", \"boolean\", \"number\", \"string\", \"array\", \"object\"];for (var l = { userObject: { test: function test(e, t) {\n        return s.isUserObject(e);\n      }, replace: function replace(e) {\n        return function _objectSpread2$1(e) {\n          for (var t = 1; t < arguments.length; t++) {\n            var r = null != arguments[t] ? arguments[t] : {};t % 2 ? ownKeys$1(Object(r), !0).forEach(function (t) {\n              _defineProperty$1(e, t, r[t]);\n            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys$1(Object(r)).forEach(function (t) {\n              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n            });\n          }return e;\n        }({}, e);\n      }, revive: function revive(e) {\n        return e;\n      } } }, p = [{ arrayNonindexKeys: { testPlainObjects: !0, test: function test(e, t) {\n        return !!Array.isArray(e) && (Object.keys(e).some(function (e) {\n          return String(Number.parseInt(e)) !== e;\n        }) && (t.iterateIn = \"object\", t.addLength = !0), !0);\n      }, replace: function replace(e, t) {\n        return t.iterateUnsetNumeric = !0, e;\n      }, revive: function revive(e) {\n        if (Array.isArray(e)) return e;var t = [];return Object.keys(e).forEach(function (r) {\n          var n = e[r];t[r] = n;\n        }), t;\n      } } }, { sparseUndefined: { test: function test(e, t) {\n        return void 0 === e && !1 === t.ownKeys;\n      }, replace: function replace(e) {\n        return 0;\n      }, revive: function revive(e) {} } }], y = { undef: { test: function test(e, t) {\n        return void 0 === e && (t.ownKeys || !(\"ownKeys\" in t));\n      }, replace: function replace(e) {\n        return 0;\n      }, revive: function revive(e) {\n        return new s.Undefined();\n      } } }, v = { StringObject: { test: function test(e) {\n        return \"String\" === s.toStringTag(e) && \"object\" === _typeof$1(e);\n      }, replace: function replace(e) {\n        return String(e);\n      }, revive: function revive(e) {\n        return new String(e);\n      } }, BooleanObject: { test: function test(e) {\n        return \"Boolean\" === s.toStringTag(e) && \"object\" === _typeof$1(e);\n      }, replace: function replace(e) {\n        return Boolean(e);\n      }, revive: function revive(e) {\n        return new Boolean(e);\n      } }, NumberObject: { test: function test(e) {\n        return \"Number\" === s.toStringTag(e) && \"object\" === _typeof$1(e);\n      }, replace: function replace(e) {\n        return Number(e);\n      }, revive: function revive(e) {\n        return new Number(e);\n      } } }, b = [{ nan: { test: function test(e) {\n        return Number.isNaN(e);\n      }, replace: function replace(e) {\n        return \"NaN\";\n      }, revive: function revive(e) {\n        return Number.NaN;\n      } } }, { infinity: { test: function test(e) {\n        return e === Number.POSITIVE_INFINITY;\n      }, replace: function replace(e) {\n        return \"Infinity\";\n      }, revive: function revive(e) {\n        return Number.POSITIVE_INFINITY;\n      } } }, { negativeInfinity: { test: function test(e) {\n        return e === Number.NEGATIVE_INFINITY;\n      }, replace: function replace(e) {\n        return \"-Infinity\";\n      }, revive: function revive(e) {\n        return Number.NEGATIVE_INFINITY;\n      } } }], d = { date: { test: function test(e) {\n        return \"Date\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        var t = e.getTime();return Number.isNaN(t) ? \"NaN\" : t;\n      }, revive: function revive(e) {\n        return \"NaN\" === e ? new Date(Number.NaN) : new Date(e);\n      } } }, h = { regexp: { test: function test(e) {\n        return \"RegExp\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        return { source: e.source, flags: (e.global ? \"g\" : \"\") + (e.ignoreCase ? \"i\" : \"\") + (e.multiline ? \"m\" : \"\") + (e.sticky ? \"y\" : \"\") + (e.unicode ? \"u\" : \"\") };\n      }, revive: function revive(e) {\n        var t = e.source,\n            r = e.flags;return new RegExp(t, r);\n      } } }, g = { map: { test: function test(e) {\n        return \"Map\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        return _toConsumableArray$1(e.entries());\n      }, revive: function revive(e) {\n        return new Map(e);\n      } } }, m = { set: { test: function test(e) {\n        return \"Set\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        return _toConsumableArray$1(e.values());\n      }, revive: function revive(e) {\n        return new Set(e);\n      } } }, O = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", _ = new Uint8Array(256), j = 0; j < O.length; j++) {\n    _[O.charCodeAt(j)] = j;\n  }var S = function encode(e, t, r) {\n    null == r && (r = e.byteLength);for (var n = new Uint8Array(e, t || 0, r), i = n.length, o = \"\", a = 0; a < i; a += 3) {\n      o += O[n[a] >> 2], o += O[(3 & n[a]) << 4 | n[a + 1] >> 4], o += O[(15 & n[a + 1]) << 2 | n[a + 2] >> 6], o += O[63 & n[a + 2]];\n    }return i % 3 == 2 ? o = o.slice(0, -1) + \"=\" : i % 3 == 1 && (o = o.slice(0, -2) + \"==\"), o;\n  },\n      T = function decode(e) {\n    var t,\n        r,\n        n,\n        i,\n        o = e.length,\n        a = .75 * e.length,\n        c = 0;\"=\" === e[e.length - 1] && (a--, \"=\" === e[e.length - 2] && a--);for (var u = new ArrayBuffer(a), s = new Uint8Array(u), f = 0; f < o; f += 4) {\n      t = _[e.charCodeAt(f)], r = _[e.charCodeAt(f + 1)], n = _[e.charCodeAt(f + 2)], i = _[e.charCodeAt(f + 3)], s[c++] = t << 2 | r >> 4, s[c++] = (15 & r) << 4 | n >> 2, s[c++] = (3 & n) << 6 | 63 & i;\n    }return u;\n  },\n      w = { arraybuffer: { test: function test(e) {\n        return \"ArrayBuffer\" === s.toStringTag(e);\n      }, replace: function replace(e, t) {\n        t.buffers || (t.buffers = []);var r = t.buffers.indexOf(e);return r > -1 ? { index: r } : (t.buffers.push(e), S(e));\n      }, revive: function revive(e, t) {\n        if (t.buffers || (t.buffers = []), \"object\" === _typeof$1(e)) return t.buffers[e.index];var r = T(e);return t.buffers.push(r), r;\n      } } },\n      A = \"undefined\" == typeof self ? global : self,\n      P = {};[\"Int8Array\", \"Uint8Array\", \"Uint8ClampedArray\", \"Int16Array\", \"Uint16Array\", \"Int32Array\", \"Uint32Array\", \"Float32Array\", \"Float64Array\"].forEach(function (e) {\n    var t = e,\n        r = A[t];r && (P[e.toLowerCase()] = { test: function test(e) {\n        return s.toStringTag(e) === t;\n      }, replace: function replace(e, t) {\n        var r = e.buffer,\n            n = e.byteOffset,\n            i = e.length;t.buffers || (t.buffers = []);var o = t.buffers.indexOf(r);return o > -1 ? { index: o, byteOffset: n, length: i } : (t.buffers.push(r), { encoded: S(r), byteOffset: n, length: i });\n      }, revive: function revive(e, t) {\n        t.buffers || (t.buffers = []);var n,\n            i = e.byteOffset,\n            o = e.length,\n            a = e.encoded,\n            c = e.index;return \"index\" in e ? n = t.buffers[c] : (n = T(a), t.buffers.push(n)), new r(n, i, o);\n      } });\n  });var C = { dataview: { test: function test(e) {\n        return \"DataView\" === s.toStringTag(e);\n      }, replace: function replace(e, t) {\n        var r = e.buffer,\n            n = e.byteOffset,\n            i = e.byteLength;t.buffers || (t.buffers = []);var o = t.buffers.indexOf(r);return o > -1 ? { index: o, byteOffset: n, byteLength: i } : (t.buffers.push(r), { encoded: S(r), byteOffset: n, byteLength: i });\n      }, revive: function revive(e, t) {\n        t.buffers || (t.buffers = []);var r,\n            n = e.byteOffset,\n            i = e.byteLength,\n            o = e.encoded,\n            a = e.index;return \"index\" in e ? r = t.buffers[a] : (r = T(o), t.buffers.push(r)), new DataView(r, n, i);\n      } } },\n      I = { IntlCollator: { test: function test(e) {\n        return s.hasConstructorOf(e, Intl.Collator);\n      }, replace: function replace(e) {\n        return e.resolvedOptions();\n      }, revive: function revive(e) {\n        return new Intl.Collator(e.locale, e);\n      } }, IntlDateTimeFormat: { test: function test(e) {\n        return s.hasConstructorOf(e, Intl.DateTimeFormat);\n      }, replace: function replace(e) {\n        return e.resolvedOptions();\n      }, revive: function revive(e) {\n        return new Intl.DateTimeFormat(e.locale, e);\n      } }, IntlNumberFormat: { test: function test(e) {\n        return s.hasConstructorOf(e, Intl.NumberFormat);\n      }, replace: function replace(e) {\n        return e.resolvedOptions();\n      }, revive: function revive(e) {\n        return new Intl.NumberFormat(e.locale, e);\n      } } };function string2arraybuffer(e) {\n    for (var t = new Uint8Array(e.length), r = 0; r < e.length; r++) {\n      t[r] = e.charCodeAt(r);\n    }return t.buffer;\n  }var N = { file: { test: function test(e) {\n        return \"File\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        var t = new XMLHttpRequest();if (t.overrideMimeType(\"text/plain; charset=x-user-defined\"), t.open(\"GET\", URL.createObjectURL(e), !1), t.send(), 200 !== t.status && 0 !== t.status) throw new Error(\"Bad File access: \" + t.status);return { type: e.type, stringContents: t.responseText, name: e.name, lastModified: e.lastModified };\n      }, revive: function revive(e) {\n        var t = e.name,\n            r = e.type,\n            n = e.stringContents,\n            i = e.lastModified;return new File([string2arraybuffer(n)], t, { type: r, lastModified: i });\n      }, replaceAsync: function replaceAsync(e) {\n        return new s.Promise(function (t, r) {\n          var n = new FileReader();n.addEventListener(\"load\", function () {\n            t({ type: e.type, stringContents: n.result, name: e.name, lastModified: e.lastModified });\n          }), n.addEventListener(\"error\", function () {\n            r(n.error);\n          }), n.readAsBinaryString(e);\n        });\n      } } },\n      k = { bigint: { test: function test(e) {\n        return \"bigint\" == typeof e;\n      }, replace: function replace(e) {\n        return String(e);\n      }, revive: function revive(e) {\n        return BigInt(e);\n      } } },\n      E = { bigintObject: { test: function test(e) {\n        return \"object\" === _typeof$1(e) && s.hasConstructorOf(e, BigInt);\n      }, replace: function replace(e) {\n        return String(e);\n      }, revive: function revive(e) {\n        return new Object(BigInt(e));\n      } } },\n      B = { cryptokey: { test: function test(e) {\n        return \"CryptoKey\" === s.toStringTag(e) && e.extractable;\n      }, replaceAsync: function replaceAsync(e) {\n        return new s.Promise(function (t, r) {\n          crypto.subtle.exportKey(\"jwk\", e).catch(function (e) {\n            r(e);\n          }).then(function (r) {\n            t({ jwk: r, algorithm: e.algorithm, usages: e.usages });\n          });\n        });\n      }, revive: function revive(e) {\n        var t = e.jwk,\n            r = e.algorithm,\n            n = e.usages;return crypto.subtle.importKey(\"jwk\", t, r, !0, n);\n      } } };return [l, y, p, v, b, d, h, { imagedata: { test: function test(e) {\n        return \"ImageData\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        return { array: _toConsumableArray$1(e.data), width: e.width, height: e.height };\n      }, revive: function revive(e) {\n        return new ImageData(new Uint8ClampedArray(e.array), e.width, e.height);\n      } } }, { imagebitmap: { test: function test(e) {\n        return \"ImageBitmap\" === s.toStringTag(e) || e && e.dataset && \"ImageBitmap\" === e.dataset.toStringTag;\n      }, replace: function replace(e) {\n        var t = document.createElement(\"canvas\");return t.getContext(\"2d\").drawImage(e, 0, 0), t.toDataURL();\n      }, revive: function revive(e) {\n        var t = document.createElement(\"canvas\"),\n            r = t.getContext(\"2d\"),\n            n = document.createElement(\"img\");return n.addEventListener(\"load\", function () {\n          r.drawImage(n, 0, 0);\n        }), n.src = e, t;\n      }, reviveAsync: function reviveAsync(e) {\n        var t = document.createElement(\"canvas\"),\n            r = t.getContext(\"2d\"),\n            n = document.createElement(\"img\");return n.addEventListener(\"load\", function () {\n          r.drawImage(n, 0, 0);\n        }), n.src = e, createImageBitmap(t);\n      } } }, N, { file: N.file, filelist: { test: function test(e) {\n        return \"FileList\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        for (var t = [], r = 0; r < e.length; r++) {\n          t[r] = e.item(r);\n        }return t;\n      }, revive: function revive(e) {\n        return new (function () {\n          function FileList() {\n            _classCallCheck$1(this, FileList), this._files = arguments[0], this.length = this._files.length;\n          }return function _createClass$1(e, t, r) {\n            return t && _defineProperties$1(e.prototype, t), r && _defineProperties$1(e, r), e;\n          }(FileList, [{ key: \"item\", value: function item(e) {\n              return this._files[e];\n            } }, { key: Symbol.toStringTag, get: function get() {\n              return \"FileList\";\n            } }]), FileList;\n        }())(e);\n      } } }, { blob: { test: function test(e) {\n        return \"Blob\" === s.toStringTag(e);\n      }, replace: function replace(e) {\n        var t = new XMLHttpRequest();if (t.overrideMimeType(\"text/plain; charset=x-user-defined\"), t.open(\"GET\", URL.createObjectURL(e), !1), t.send(), 200 !== t.status && 0 !== t.status) throw new Error(\"Bad Blob access: \" + t.status);return { type: e.type, stringContents: t.responseText };\n      }, revive: function revive(e) {\n        var t = e.type,\n            r = e.stringContents;return new Blob([string2arraybuffer(r)], { type: t });\n      }, replaceAsync: function replaceAsync(e) {\n        return new s.Promise(function (t, r) {\n          var n = new FileReader();n.addEventListener(\"load\", function () {\n            t({ type: e.type, stringContents: n.result });\n          }), n.addEventListener(\"error\", function () {\n            r(n.error);\n          }), n.readAsBinaryString(e);\n        });\n      } } }].concat(\"function\" == typeof Map ? g : [], \"function\" == typeof Set ? m : [], \"function\" == typeof ArrayBuffer ? w : [], \"function\" == typeof Uint8Array ? P : [], \"function\" == typeof DataView ? C : [], \"undefined\" != typeof Intl ? I : [], \"undefined\" != typeof crypto ? B : [], \"undefined\" != typeof BigInt ? [k, E] : []).concat({ checkDataCloneException: { test: function test(e) {\n        var t = {}.toString.call(e).slice(8, -1);if ([\"symbol\", \"function\"].includes(_typeof$1(e)) || [\"Arguments\", \"Module\", \"Error\", \"Promise\", \"WeakMap\", \"WeakSet\", \"Event\", \"MessageChannel\"].includes(t) || e && \"object\" === _typeof$1(e) && \"number\" == typeof e.nodeType && \"function\" == typeof e.insertBefore) throw new DOMException(\"The object cannot be cloned.\", \"DataCloneError\");return !1;\n      } } });\n});\n\n\n},{}],86:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _typeof(e) {\n  return (_typeof = \"function\" == typeof Symbol && \"symbol\" == _typeof2(Symbol.iterator) ? function (e) {\n    return typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e === \"undefined\" ? \"undefined\" : _typeof2(e);\n  })(e);\n}function _classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}function _defineProperties(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    var n = t[r];n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n  }\n}function _defineProperty(e, t, r) {\n  return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;\n}function ownKeys(e, t) {\n  var r = Object.keys(e);if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);t && (n = n.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), r.push.apply(r, n);\n  }return r;\n}function _objectSpread2(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var r = null != arguments[t] ? arguments[t] : {};t % 2 ? ownKeys(Object(r), !0).forEach(function (t) {\n      _defineProperty(e, t, r[t]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function (t) {\n      Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n    });\n  }return e;\n}function _slicedToArray(e, t) {\n  return function _arrayWithHoles(e) {\n    if (Array.isArray(e)) return e;\n  }(e) || function _iterableToArrayLimit(e, t) {\n    if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;var r = [],\n        n = !0,\n        o = !1,\n        a = void 0;try {\n      for (var i, c = e[Symbol.iterator](); !(n = (i = c.next()).done) && (r.push(i.value), !t || r.length !== t); n = !0) {}\n    } catch (e) {\n      o = !0, a = e;\n    } finally {\n      try {\n        n || null == c.return || c.return();\n      } finally {\n        if (o) throw a;\n      }\n    }return r;\n  }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}function _toConsumableArray(e) {\n  return function _arrayWithoutHoles(e) {\n    if (Array.isArray(e)) return _arrayLikeToArray(e);\n  }(e) || function _iterableToArray(e) {\n    if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n  }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}function _unsupportedIterableToArray(e, t) {\n  if (e) {\n    if (\"string\" == typeof e) return _arrayLikeToArray(e, t);var r = Object.prototype.toString.call(e).slice(8, -1);return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0;\n  }\n}function _arrayLikeToArray(e, t) {\n  (null == t || t > e.length) && (t = e.length);for (var r = 0, n = new Array(t); r < t; r++) {\n    n[r] = e[r];\n  }return n;\n}var e = function TypesonPromise(e) {\n  _classCallCheck(this, TypesonPromise), this.p = new Promise(e);\n};e.__typeson__type__ = \"TypesonPromise\", \"undefined\" != typeof Symbol && (e.prototype[Symbol.toStringTag] = \"TypesonPromise\"), e.prototype.then = function (t, r) {\n  var n = this;return new e(function (e, o) {\n    n.p.then(function (r) {\n      e(t ? t(r) : r);\n    }).catch(function (e) {\n      return r ? r(e) : Promise.reject(e);\n    }).then(e, o);\n  });\n}, e.prototype.catch = function (e) {\n  return this.then(null, e);\n}, e.resolve = function (t) {\n  return new e(function (e) {\n    e(t);\n  });\n}, e.reject = function (t) {\n  return new e(function (e, r) {\n    r(t);\n  });\n}, [\"all\", \"race\", \"allSettled\"].forEach(function (t) {\n  e[t] = function (r) {\n    return new e(function (e, n) {\n      Promise[t](r.map(function (e) {\n        return e && e.constructor && \"TypesonPromise\" === e.constructor.__typeson__type__ ? e.p : e;\n      })).then(e, n);\n    });\n  };\n});var t = {}.toString,\n    r = {}.hasOwnProperty,\n    n = Object.getPrototypeOf,\n    o = r.toString;function isThenable(e, t) {\n  return isObject(e) && \"function\" == typeof e.then && (!t || \"function\" == typeof e.catch);\n}function toStringTag(e) {\n  return t.call(e).slice(8, -1);\n}function hasConstructorOf(e, t) {\n  if (!e || \"object\" !== _typeof(e)) return !1;var a = n(e);if (!a) return null === t;var i = r.call(a, \"constructor\") && a.constructor;return \"function\" != typeof i ? null === t : t === i || null !== t && o.call(i) === o.call(t) || \"function\" == typeof t && \"string\" == typeof i.__typeson__type__ && i.__typeson__type__ === t.__typeson__type__;\n}function isPlainObject(e) {\n  return !(!e || \"Object\" !== toStringTag(e)) && (!n(e) || hasConstructorOf(e, Object));\n}function isObject(e) {\n  return e && \"object\" === _typeof(e);\n}function escapeKeyPathComponent(e) {\n  return e.replace(/~/g, \"~0\").replace(/\\./g, \"~1\");\n}function unescapeKeyPathComponent(e) {\n  return e.replace(/~1/g, \".\").replace(/~0/g, \"~\");\n}function getByKeyPath(e, t) {\n  if (\"\" === t) return e;var r = t.indexOf(\".\");if (r > -1) {\n    var n = e[unescapeKeyPathComponent(t.slice(0, r))];return void 0 === n ? void 0 : getByKeyPath(n, t.slice(r + 1));\n  }return e[unescapeKeyPathComponent(t)];\n}function setAtKeyPath(e, t, r) {\n  if (\"\" === t) return r;var n = t.indexOf(\".\");return n > -1 ? setAtKeyPath(e[unescapeKeyPathComponent(t.slice(0, n))], t.slice(n + 1), r) : (e[unescapeKeyPathComponent(t)] = r, e);\n}function _await(e, t, r) {\n  return r ? t ? t(e) : e : (e && e.then || (e = Promise.resolve(e)), t ? e.then(t) : e);\n}var a = Object.keys,\n    i = Array.isArray,\n    c = {}.hasOwnProperty,\n    s = [\"type\", \"replaced\", \"iterateIn\", \"iterateUnsetNumeric\"];function _async(e) {\n  return function () {\n    for (var t = [], r = 0; r < arguments.length; r++) {\n      t[r] = arguments[r];\n    }try {\n      return Promise.resolve(e.apply(this, t));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}function nestedPathsFirst(e, t) {\n  if (\"\" === e.keypath) return -1;var r = e.keypath.match(/\\./g) || 0,\n      n = t.keypath.match(/\\./g) || 0;return r && (r = r.length), n && (n = n.length), r > n ? -1 : r < n ? 1 : e.keypath < t.keypath ? -1 : e.keypath > t.keypath;\n}var u = function () {\n  function Typeson(e) {\n    _classCallCheck(this, Typeson), this.options = e, this.plainObjectReplacers = [], this.nonplainObjectReplacers = [], this.revivers = {}, this.types = {};\n  }return function _createClass(e, t, r) {\n    return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e;\n  }(Typeson, [{ key: \"stringify\", value: function stringify(e, t, r, n) {\n      n = _objectSpread2(_objectSpread2(_objectSpread2({}, this.options), n), {}, { stringification: !0 });var o = this.encapsulate(e, null, n);return i(o) ? JSON.stringify(o[0], t, r) : o.then(function (e) {\n        return JSON.stringify(e, t, r);\n      });\n    } }, { key: \"stringifySync\", value: function stringifySync(e, t, r, n) {\n      return this.stringify(e, t, r, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, n), {}, { sync: !0 }));\n    } }, { key: \"stringifyAsync\", value: function stringifyAsync(e, t, r, n) {\n      return this.stringify(e, t, r, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, n), {}, { sync: !1 }));\n    } }, { key: \"parse\", value: function parse(e, t, r) {\n      return r = _objectSpread2(_objectSpread2(_objectSpread2({}, this.options), r), {}, { parse: !0 }), this.revive(JSON.parse(e, t), r);\n    } }, { key: \"parseSync\", value: function parseSync(e, t, r) {\n      return this.parse(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !0 }));\n    } }, { key: \"parseAsync\", value: function parseAsync(e, t, r) {\n      return this.parse(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !1 }));\n    } }, { key: \"specialTypeNames\", value: function specialTypeNames(e, t) {\n      var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};return r.returnTypeNames = !0, this.encapsulate(e, t, r);\n    } }, { key: \"rootTypeName\", value: function rootTypeName(e, t) {\n      var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};return r.iterateNone = !0, this.encapsulate(e, t, r);\n    } }, { key: \"encapsulate\", value: function encapsulate(t, r, n) {\n      var o = _async(function (t, r) {\n        return _await(Promise.all(r.map(function (e) {\n          return e[1].p;\n        })), function (n) {\n          return _await(Promise.all(n.map(_async(function (n) {\n            var a = !1,\n                i = [],\n                c = _slicedToArray(r.splice(0, 1), 1),\n                s = _slicedToArray(c[0], 7),\n                u = s[0],\n                p = s[2],\n                y = s[3],\n                l = s[4],\n                f = s[5],\n                h = s[6],\n                v = _encapsulate(u, n, p, y, i, !0, h),\n                d = hasConstructorOf(v, e);return function _invoke(e, t) {\n              var r = e();return r && r.then ? r.then(t) : t(r);\n            }(function () {\n              if (u && d) return _await(v.p, function (e) {\n                return l[f] = e, a = !0, o(t, i);\n              });\n            }, function (e) {\n              return a ? e : (u ? l[f] = v : t = d ? v.p : v, o(t, i));\n            });\n          }))), function () {\n            return t;\n          });\n        });\n      }),\n          u = (n = _objectSpread2(_objectSpread2({ sync: !0 }, this.options), n)).sync,\n          p = this,\n          y = {},\n          l = [],\n          f = [],\n          h = [],\n          v = !(\"cyclic\" in n) || n.cyclic,\n          d = n.encapsulateObserver,\n          b = _encapsulate(\"\", t, v, r || {}, h);function finish(e) {\n        var t = Object.values(y);if (n.iterateNone) return t.length ? t[0] : Typeson.getJSONType(e);if (t.length) {\n          if (n.returnTypeNames) return _toConsumableArray(new Set(t));e && isPlainObject(e) && !c.call(e, \"$types\") ? e.$types = y : e = { $: e, $types: { $: y } };\n        } else isObject(e) && c.call(e, \"$types\") && (e = { $: e, $types: !0 });return !n.returnTypeNames && e;\n      }function _adaptBuiltinStateObjectProperties(e, t, r) {\n        Object.assign(e, t);var n = s.map(function (t) {\n          var r = e[t];return delete e[t], r;\n        });r(), s.forEach(function (t, r) {\n          e[t] = n[r];\n        });\n      }function _encapsulate(t, r, o, s, u, h, v) {\n        var b,\n            _ = {},\n            O = _typeof(r),\n            j = d ? function (n) {\n          var a = v || s.type || Typeson.getJSONType(r);d(Object.assign(n || _, { keypath: t, value: r, cyclic: o, stateObj: s, promisesData: u, resolvingTypesonPromise: h, awaitingTypesonPromise: hasConstructorOf(r, e) }, { type: a }));\n        } : null;if ([\"string\", \"boolean\", \"number\", \"undefined\"].includes(O)) return void 0 === r || Number.isNaN(r) || r === Number.NEGATIVE_INFINITY || r === Number.POSITIVE_INFINITY ? (b = s.replaced ? r : replace(t, r, s, u, !1, h, j)) !== r && (_ = { replaced: b }) : b = r, j && j(), b;if (null === r) return j && j(), r;if (o && !s.iterateIn && !s.iterateUnsetNumeric && r && \"object\" === _typeof(r)) {\n          var m = l.indexOf(r);if (!(m < 0)) return y[t] = \"#\", j && j({ cyclicKeypath: f[m] }), \"#\" + f[m];!0 === o && (l.push(r), f.push(t));\n        }var S,\n            g = isPlainObject(r),\n            P = i(r),\n            T = (g || P) && (!p.plainObjectReplacers.length || s.replaced) || s.iterateIn ? r : replace(t, r, s, u, g || P, null, j);if (T !== r ? (b = T, _ = { replaced: T }) : \"\" === t && hasConstructorOf(r, e) ? (u.push([t, r, o, s, void 0, void 0, s.type]), b = r) : P && \"object\" !== s.iterateIn || \"array\" === s.iterateIn ? (S = new Array(r.length), _ = { clone: S }) : ([\"function\", \"symbol\"].includes(_typeof(r)) || \"toJSON\" in r || hasConstructorOf(r, e) || hasConstructorOf(r, Promise) || hasConstructorOf(r, ArrayBuffer)) && !g && \"object\" !== s.iterateIn ? b = r : (S = {}, s.addLength && (S.length = r.length), _ = { clone: S }), j && j(), n.iterateNone) return S || b;if (!S) return b;if (s.iterateIn) {\n          var w = function _loop(n) {\n            var a = { ownKeys: c.call(r, n) };_adaptBuiltinStateObjectProperties(s, a, function () {\n              var a = t + (t ? \".\" : \"\") + escapeKeyPathComponent(n),\n                  i = _encapsulate(a, r[n], Boolean(o), s, u, h);hasConstructorOf(i, e) ? u.push([a, i, Boolean(o), s, S, n, s.type]) : void 0 !== i && (S[n] = i);\n            });\n          };for (var A in r) {\n            w(A);\n          }j && j({ endIterateIn: !0, end: !0 });\n        } else a(r).forEach(function (n) {\n          var a = t + (t ? \".\" : \"\") + escapeKeyPathComponent(n);_adaptBuiltinStateObjectProperties(s, { ownKeys: !0 }, function () {\n            var t = _encapsulate(a, r[n], Boolean(o), s, u, h);hasConstructorOf(t, e) ? u.push([a, t, Boolean(o), s, S, n, s.type]) : void 0 !== t && (S[n] = t);\n          });\n        }), j && j({ endIterateOwn: !0, end: !0 });if (s.iterateUnsetNumeric) {\n          for (var C = r.length, k = function _loop2(n) {\n            if (!(n in r)) {\n              var a = t + (t ? \".\" : \"\") + n;_adaptBuiltinStateObjectProperties(s, { ownKeys: !1 }, function () {\n                var t = _encapsulate(a, void 0, Boolean(o), s, u, h);hasConstructorOf(t, e) ? u.push([a, t, Boolean(o), s, S, n, s.type]) : void 0 !== t && (S[n] = t);\n              });\n            }\n          }, N = 0; N < C; N++) {\n            k(N);\n          }j && j({ endIterateUnsetNumeric: !0, end: !0 });\n        }return S;\n      }function replace(e, t, r, n, o, a, i) {\n        for (var c = o ? p.plainObjectReplacers : p.nonplainObjectReplacers, s = c.length; s--;) {\n          var l = c[s];if (l.test(t, r)) {\n            var f = l.type;if (p.revivers[f]) {\n              var h = y[e];y[e] = h ? [f].concat(h) : f;\n            }return Object.assign(r, { type: f, replaced: !0 }), !u && l.replaceAsync || l.replace ? (i && i({ replacing: !0 }), _encapsulate(e, l[u || !l.replaceAsync ? \"replace\" : \"replaceAsync\"](t, r), v && \"readonly\", r, n, a, f)) : (i && i({ typeDetected: !0 }), _encapsulate(e, t, v && \"readonly\", r, n, a, f));\n          }\n        }return t;\n      }return h.length ? u && n.throwOnBadSyncType ? function () {\n        throw new TypeError(\"Sync method requested but async result obtained\");\n      }() : Promise.resolve(o(b, h)).then(finish) : !u && n.throwOnBadSyncType ? function () {\n        throw new TypeError(\"Async method requested but sync result obtained\");\n      }() : n.stringification && u ? [finish(b)] : u ? finish(b) : Promise.resolve(finish(b));\n    } }, { key: \"encapsulateSync\", value: function encapsulateSync(e, t, r) {\n      return this.encapsulate(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !0 }));\n    } }, { key: \"encapsulateAsync\", value: function encapsulateAsync(e, t, r) {\n      return this.encapsulate(e, t, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, r), {}, { sync: !1 }));\n    } }, { key: \"revive\", value: function revive(t, r) {\n      var n = t && t.$types;if (!n) return t;if (!0 === n) return t.$;var o = (r = _objectSpread2(_objectSpread2({ sync: !0 }, this.options), r)).sync,\n          c = [],\n          s = {},\n          u = !0;n.$ && isPlainObject(n.$) && (t = t.$, n = n.$, u = !1);var y = this;function executeReviver(e, t) {\n        var r = _slicedToArray(y.revivers[e] || [], 1)[0];if (!r) throw new Error(\"Unregistered type: \" + e);return o && !(\"revive\" in r) ? t : r[o && r.revive ? \"revive\" : !o && r.reviveAsync ? \"reviveAsync\" : \"revive\"](t, s);\n      }var l = [];function checkUndefined(e) {\n        return hasConstructorOf(e, p) ? void 0 : e;\n      }var f,\n          h = function revivePlainObjects() {\n        var r = [];if (Object.entries(n).forEach(function (e) {\n          var t = _slicedToArray(e, 2),\n              o = t[0],\n              a = t[1];\"#\" !== a && [].concat(a).forEach(function (e) {\n            _slicedToArray(y.revivers[e] || [null, {}], 2)[1].plain && (r.push({ keypath: o, type: e }), delete n[o]);\n          });\n        }), r.length) return r.sort(nestedPathsFirst).reduce(function reducer(r, n) {\n          var o = n.keypath,\n              a = n.type;if (isThenable(r)) return r.then(function (e) {\n            return reducer(e, { keypath: o, type: a });\n          });var i = getByKeyPath(t, o);if (hasConstructorOf(i = executeReviver(a, i), e)) return i.then(function (e) {\n            var r = setAtKeyPath(t, o, e);r === e && (t = r);\n          });var c = setAtKeyPath(t, o, i);c === i && (t = c);\n        }, void 0);\n      }();return hasConstructorOf(h, e) ? f = h.then(function () {\n        return t;\n      }) : (f = function _revive(t, r, o, s, y) {\n        if (!u || \"$types\" !== t) {\n          var f = n[t],\n              h = i(r);if (h || isPlainObject(r)) {\n            var v = h ? new Array(r.length) : {};for (a(r).forEach(function (n) {\n              var a = _revive(t + (t ? \".\" : \"\") + escapeKeyPathComponent(n), r[n], o || v, v, n),\n                  i = function set(e) {\n                return hasConstructorOf(e, p) ? v[n] = void 0 : void 0 !== e && (v[n] = e), e;\n              };hasConstructorOf(a, e) ? l.push(a.then(function (e) {\n                return i(e);\n              })) : i(a);\n            }), r = v; c.length;) {\n              var d = _slicedToArray(c[0], 4),\n                  b = d[0],\n                  _ = d[1],\n                  O = d[2],\n                  j = d[3],\n                  m = getByKeyPath(b, _);if (void 0 === m) break;O[j] = m, c.splice(0, 1);\n            }\n          }if (!f) return r;if (\"#\" === f) {\n            var S = getByKeyPath(o, r.slice(1));return void 0 === S && c.push([o, r.slice(1), s, y]), S;\n          }return [].concat(f).reduce(function reducer(t, r) {\n            return hasConstructorOf(t, e) ? t.then(function (e) {\n              return reducer(e, r);\n            }) : executeReviver(r, t);\n          }, r);\n        }\n      }(\"\", t, null), l.length && (f = e.resolve(f).then(function (t) {\n        return e.all([t].concat(l));\n      }).then(function (e) {\n        return _slicedToArray(e, 1)[0];\n      }))), isThenable(f) ? o && r.throwOnBadSyncType ? function () {\n        throw new TypeError(\"Sync method requested but async result obtained\");\n      }() : hasConstructorOf(f, e) ? f.p.then(checkUndefined) : f : !o && r.throwOnBadSyncType ? function () {\n        throw new TypeError(\"Async method requested but sync result obtained\");\n      }() : o ? checkUndefined(f) : Promise.resolve(checkUndefined(f));\n    } }, { key: \"reviveSync\", value: function reviveSync(e, t) {\n      return this.revive(e, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, t), {}, { sync: !0 }));\n    } }, { key: \"reviveAsync\", value: function reviveAsync(e, t) {\n      return this.revive(e, _objectSpread2(_objectSpread2({ throwOnBadSyncType: !0 }, t), {}, { sync: !1 }));\n    } }, { key: \"register\", value: function register(e, t) {\n      return t = t || {}, [].concat(e).forEach(function R(e) {\n        var r = this;if (i(e)) return e.map(function (e) {\n          return R.call(r, e);\n        });e && a(e).forEach(function (r) {\n          if (\"#\" === r) throw new TypeError(\"# cannot be used as a type name as it is reserved for cyclic objects\");if (Typeson.JSON_TYPES.includes(r)) throw new TypeError(\"Plain JSON object types are reserved as type names\");var n = e[r],\n              o = n && n.testPlainObjects ? this.plainObjectReplacers : this.nonplainObjectReplacers,\n              a = o.filter(function (e) {\n            return e.type === r;\n          });if (a.length && (o.splice(o.indexOf(a[0]), 1), delete this.revivers[r], delete this.types[r]), \"function\" == typeof n) {\n            var c = n;n = { test: function test(e) {\n                return e && e.constructor === c;\n              }, replace: function replace(e) {\n                return _objectSpread2({}, e);\n              }, revive: function revive(e) {\n                return Object.assign(Object.create(c.prototype), e);\n              } };\n          } else if (i(n)) {\n            var s = _slicedToArray(n, 3);n = { test: s[0], replace: s[1], revive: s[2] };\n          }if (n && n.test) {\n            var u = { type: r, test: n.test.bind(n) };n.replace && (u.replace = n.replace.bind(n)), n.replaceAsync && (u.replaceAsync = n.replaceAsync.bind(n));var p = \"number\" == typeof t.fallback ? t.fallback : t.fallback ? 0 : Number.POSITIVE_INFINITY;if (n.testPlainObjects ? this.plainObjectReplacers.splice(p, 0, u) : this.nonplainObjectReplacers.splice(p, 0, u), n.revive || n.reviveAsync) {\n              var y = {};n.revive && (y.revive = n.revive.bind(n)), n.reviveAsync && (y.reviveAsync = n.reviveAsync.bind(n)), this.revivers[r] = [y, { plain: n.testPlainObjects }];\n            }this.types[r] = n;\n          }\n        }, this);\n      }, this), this;\n    } }]), Typeson;\n}(),\n    p = function Undefined() {\n  _classCallCheck(this, Undefined);\n};p.__typeson__type__ = \"TypesonUndefined\", u.Undefined = p, u.Promise = e, u.isThenable = isThenable, u.toStringTag = toStringTag, u.hasConstructorOf = hasConstructorOf, u.isObject = isObject, u.isPlainObject = isPlainObject, u.isUserObject = function isUserObject(e) {\n  if (!e || \"Object\" !== toStringTag(e)) return !1;var t = n(e);return !t || hasConstructorOf(e, Object) || isUserObject(t);\n}, u.escapeKeyPathComponent = escapeKeyPathComponent, u.unescapeKeyPathComponent = unescapeKeyPathComponent, u.getByKeyPath = getByKeyPath, u.getJSONType = function getJSONType(e) {\n  return null === e ? \"null\" : Array.isArray(e) ? \"array\" : _typeof(e);\n}, u.JSON_TYPES = [\"null\", \"boolean\", \"number\", \"string\", \"array\", \"object\"], module.exports = u;\n\n},{}],87:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _(message, opts) {\n    return (opts && opts.context ? opts.context : \"Value\") + \" \" + message + \".\";\n}\n\nfunction type(V) {\n    if (V === null) {\n        return \"Null\";\n    }\n    switch (typeof V === \"undefined\" ? \"undefined\" : _typeof(V)) {\n        case \"undefined\":\n            return \"Undefined\";\n        case \"boolean\":\n            return \"Boolean\";\n        case \"number\":\n            return \"Number\";\n        case \"string\":\n            return \"String\";\n        case \"symbol\":\n            return \"Symbol\";\n        case \"object\":\n        // Falls through\n        case \"function\":\n        // Falls through\n        default:\n            // Per ES spec, typeof returns an implemention-defined value that is not any of the existing ones for\n            // uncallable non-standard exotic objects. Yet Type() which the Web IDL spec depends on returns Object for\n            // such cases. So treat the default case as an object.\n            return \"Object\";\n    }\n}\n\n// Round x to the nearest integer, choosing the even integer if it lies halfway between two.\nfunction evenRound(x) {\n    // There are four cases for numbers with fractional part being .5:\n    //\n    // case |     x     | floor(x) | round(x) | expected | x <> 0 | x % 1 | x & 1 |   example\n    //   1  |  2n + 0.5 |  2n      |  2n + 1  |  2n      |   >    |  0.5  |   0   |  0.5 ->  0\n    //   2  |  2n + 1.5 |  2n + 1  |  2n + 2  |  2n + 2  |   >    |  0.5  |   1   |  1.5 ->  2\n    //   3  | -2n - 0.5 | -2n - 1  | -2n      | -2n      |   <    | -0.5  |   0   | -0.5 ->  0\n    //   4  | -2n - 1.5 | -2n - 2  | -2n - 1  | -2n - 2  |   <    | -0.5  |   1   | -1.5 -> -2\n    // (where n is a non-negative integer)\n    //\n    // Branch here for cases 1 and 4\n    if (x > 0 && x % 1 === +0.5 && (x & 1) === 0 || x < 0 && x % 1 === -0.5 && (x & 1) === 1) {\n        return censorNegativeZero(Math.floor(x));\n    }\n\n    return censorNegativeZero(Math.round(x));\n}\n\nfunction integerPart(n) {\n    return censorNegativeZero(Math.trunc(n));\n}\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction modulo(x, y) {\n    // https://tc39.github.io/ecma262/#eqn-modulo\n    // Note that http://stackoverflow.com/a/4467559/3191 does NOT work for large modulos\n    var signMightNotMatch = x % y;\n    if (sign(y) !== sign(signMightNotMatch)) {\n        return signMightNotMatch + y;\n    }\n    return signMightNotMatch;\n}\n\nfunction censorNegativeZero(x) {\n    return x === 0 ? 0 : x;\n}\n\nfunction createIntegerConversion(bitLength, typeOpts) {\n    var isSigned = !typeOpts.unsigned;\n\n    var lowerBound = void 0;\n    var upperBound = void 0;\n    if (bitLength === 64) {\n        upperBound = Math.pow(2, 53) - 1;\n        lowerBound = !isSigned ? 0 : -Math.pow(2, 53) + 1;\n    } else if (!isSigned) {\n        lowerBound = 0;\n        upperBound = Math.pow(2, bitLength) - 1;\n    } else {\n        lowerBound = -Math.pow(2, bitLength - 1);\n        upperBound = Math.pow(2, bitLength - 1) - 1;\n    }\n\n    var twoToTheBitLength = Math.pow(2, bitLength);\n    var twoToOneLessThanTheBitLength = Math.pow(2, bitLength - 1);\n\n    return function (V, opts) {\n        if (opts === undefined) {\n            opts = {};\n        }\n\n        var x = +V;\n        x = censorNegativeZero(x); // Spec discussion ongoing: https://github.com/heycam/webidl/issues/306\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(_(\"is not a finite number\", opts));\n            }\n\n            x = integerPart(x);\n\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(_(\"is outside the accepted range of \" + lowerBound + \" to \" + upperBound + \", inclusive\", opts));\n            }\n\n            return x;\n        }\n\n        if (!Number.isNaN(x) && opts.clamp) {\n            x = Math.min(Math.max(x, lowerBound), upperBound);\n            x = evenRound(x);\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n        x = integerPart(x);\n\n        // Math.pow(2, 64) is not accurately representable in JavaScript, so try to avoid these per-spec operations if\n        // possible. Hopefully it's an optimization for the non-64-bitLength cases too.\n        if (x >= lowerBound && x <= upperBound) {\n            return x;\n        }\n\n        // These will not work great for bitLength of 64, but oh well. See the README for more details.\n        x = modulo(x, twoToTheBitLength);\n        if (isSigned && x >= twoToOneLessThanTheBitLength) {\n            return x - twoToTheBitLength;\n        }\n        return x;\n    };\n}\n\nexports.any = function (V) {\n    return V;\n};\n\nexports.void = function () {\n    return undefined;\n};\n\nexports.boolean = function (val) {\n    return !!val;\n};\n\nexports.byte = createIntegerConversion(8, { unsigned: false });\nexports.octet = createIntegerConversion(8, { unsigned: true });\n\nexports.short = createIntegerConversion(16, { unsigned: false });\nexports[\"unsigned short\"] = createIntegerConversion(16, { unsigned: true });\n\nexports.long = createIntegerConversion(32, { unsigned: false });\nexports[\"unsigned long\"] = createIntegerConversion(32, { unsigned: true });\n\nexports[\"long long\"] = createIntegerConversion(64, { unsigned: false });\nexports[\"unsigned long long\"] = createIntegerConversion(64, { unsigned: true });\n\nexports.double = function (V, opts) {\n    var x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(_(\"is not a finite floating-point value\", opts));\n    }\n\n    return x;\n};\n\nexports[\"unrestricted double\"] = function (V) {\n    var x = +V;\n\n    return x;\n};\n\nexports.float = function (V, opts) {\n    var x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(_(\"is not a finite floating-point value\", opts));\n    }\n\n    if (Object.is(x, -0)) {\n        return x;\n    }\n\n    var y = Math.fround(x);\n\n    if (!Number.isFinite(y)) {\n        throw new TypeError(_(\"is outside the range of a single-precision floating-point value\", opts));\n    }\n\n    return y;\n};\n\nexports[\"unrestricted float\"] = function (V) {\n    var x = +V;\n\n    if (isNaN(x)) {\n        return x;\n    }\n\n    if (Object.is(x, -0)) {\n        return x;\n    }\n\n    return Math.fround(x);\n};\n\nexports.DOMString = function (V, opts) {\n    if (opts === undefined) {\n        opts = {};\n    }\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    if ((typeof V === \"undefined\" ? \"undefined\" : _typeof(V)) === \"symbol\") {\n        throw new TypeError(_(\"is a symbol, which cannot be converted to a string\", opts));\n    }\n\n    return String(V);\n};\n\nexports.ByteString = function (V, opts) {\n    var x = exports.DOMString(V, opts);\n    var c = void 0;\n    for (var i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(_(\"is not a valid ByteString\", opts));\n        }\n    }\n\n    return x;\n};\n\nexports.USVString = function (V, opts) {\n    var S = exports.DOMString(V, opts);\n    var n = S.length;\n    var U = [];\n    for (var i = 0; i < n; ++i) {\n        var c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else if (i === n - 1) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            var d = S.charCodeAt(i + 1);\n            if (0xDC00 <= d && d <= 0xDFFF) {\n                var a = c & 0x3FF;\n                var b = d & 0x3FF;\n                U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                ++i;\n            } else {\n                U.push(String.fromCodePoint(0xFFFD));\n            }\n        }\n    }\n\n    return U.join(\"\");\n};\n\nexports.object = function (V, opts) {\n    if (type(V) !== \"Object\") {\n        throw new TypeError(_(\"is not an object\", opts));\n    }\n\n    return V;\n};\n\n// Not exported, but used in Function and VoidFunction.\n\n// Neither Function nor VoidFunction is defined with [TreatNonObjectAsNull], so\n// handling for that is omitted.\nfunction convertCallbackFunction(V, opts) {\n    if (typeof V !== \"function\") {\n        throw new TypeError(_(\"is not a function\", opts));\n    }\n    return V;\n}\n\n[Error, ArrayBuffer, // The IsDetachedBuffer abstract operation is not exposed in JS\nDataView, Int8Array, Int16Array, Int32Array, Uint8Array, Uint16Array, Uint32Array, Uint8ClampedArray, Float32Array, Float64Array].forEach(function (func) {\n    var name = func.name;\n    var article = /^[AEIOU]/.test(name) ? \"an\" : \"a\";\n    exports[name] = function (V, opts) {\n        if (!(V instanceof func)) {\n            throw new TypeError(_(\"is not \" + article + \" \" + name + \" object\", opts));\n        }\n\n        return V;\n    };\n});\n\n// Common definitions\n\nexports.ArrayBufferView = function (V, opts) {\n    if (!ArrayBuffer.isView(V)) {\n        throw new TypeError(_(\"is not a view on an ArrayBuffer object\", opts));\n    }\n\n    return V;\n};\n\nexports.BufferSource = function (V, opts) {\n    if (!(ArrayBuffer.isView(V) || V instanceof ArrayBuffer)) {\n        throw new TypeError(_(\"is not an ArrayBuffer object or a view on one\", opts));\n    }\n\n    return V;\n};\n\nexports.DOMTimeStamp = exports[\"unsigned long long\"];\n\nexports.Function = convertCallbackFunction;\n\nexports.VoidFunction = convertCallbackFunction;\n\n},{}]},{},[1])(1)\n});\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serialize = exports.deserialize = exports.registerSerializer = void 0;\nconst serializers_1 = require(\"./serializers\");\nlet registeredSerializer = serializers_1.DefaultSerializer;\nfunction registerSerializer(serializer) {\n    registeredSerializer = serializers_1.extendSerializer(registeredSerializer, serializer);\n}\nexports.registerSerializer = registerSerializer;\nfunction deserialize(message) {\n    return registeredSerializer.deserialize(message);\n}\nexports.deserialize = deserialize;\nfunction serialize(input) {\n    return registeredSerializer.serialize(input);\n}\nexports.serialize = serialize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultSerializer = exports.extendSerializer = void 0;\nfunction extendSerializer(extend, implementation) {\n    const fallbackDeserializer = extend.deserialize.bind(extend);\n    const fallbackSerializer = extend.serialize.bind(extend);\n    return {\n        deserialize(message) {\n            return implementation.deserialize(message, fallbackDeserializer);\n        },\n        serialize(input) {\n            return implementation.serialize(input, fallbackSerializer);\n        }\n    };\n}\nexports.extendSerializer = extendSerializer;\nconst DefaultErrorSerializer = {\n    deserialize(message) {\n        return Object.assign(Error(message.message), {\n            name: message.name,\n            stack: message.stack\n        });\n    },\n    serialize(error) {\n        return {\n            __error_marker: \"$$error\",\n            message: error.message,\n            name: error.name,\n            stack: error.stack\n        };\n    }\n};\nconst isSerializedError = (thing) => thing && typeof thing === \"object\" && \"__error_marker\" in thing && thing.__error_marker === \"$$error\";\nexports.DefaultSerializer = {\n    deserialize(message) {\n        if (isSerializedError(message)) {\n            return DefaultErrorSerializer.deserialize(message);\n        }\n        else {\n            return message;\n        }\n    },\n    serialize(input) {\n        if (input instanceof Error) {\n            return DefaultErrorSerializer.serialize(input);\n        }\n        else {\n            return input;\n        }\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$worker = exports.$transferable = exports.$terminate = exports.$events = exports.$errors = void 0;\nexports.$errors = Symbol(\"thread.errors\");\nexports.$events = Symbol(\"thread.events\");\nexports.$terminate = Symbol(\"thread.terminate\");\nexports.$transferable = Symbol(\"thread.transferable\");\nexports.$worker = Symbol(\"thread.worker\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transfer = exports.isTransferDescriptor = void 0;\nconst symbols_1 = require(\"./symbols\");\nfunction isTransferable(thing) {\n    if (!thing || typeof thing !== \"object\")\n        return false;\n    // Don't check too thoroughly, since the list of transferable things in JS might grow over time\n    return true;\n}\nfunction isTransferDescriptor(thing) {\n    return thing && typeof thing === \"object\" && thing[symbols_1.$transferable];\n}\nexports.isTransferDescriptor = isTransferDescriptor;\nfunction Transfer(payload, transferables) {\n    if (!transferables) {\n        if (!isTransferable(payload))\n            throw Error();\n        transferables = [payload];\n    }\n    return {\n        [symbols_1.$transferable]: true,\n        send: payload,\n        transferables\n    };\n}\nexports.Transfer = Transfer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkerMessageType = exports.MasterMessageType = void 0;\n/////////////////////////////\n// Messages sent by master:\nvar MasterMessageType;\n(function (MasterMessageType) {\n    MasterMessageType[\"cancel\"] = \"cancel\";\n    MasterMessageType[\"run\"] = \"run\";\n})(MasterMessageType = exports.MasterMessageType || (exports.MasterMessageType = {}));\n////////////////////////////\n// Messages sent by worker:\nvar WorkerMessageType;\n(function (WorkerMessageType) {\n    WorkerMessageType[\"error\"] = \"error\";\n    WorkerMessageType[\"init\"] = \"init\";\n    WorkerMessageType[\"result\"] = \"result\";\n    WorkerMessageType[\"running\"] = \"running\";\n    WorkerMessageType[\"uncaughtError\"] = \"uncaughtError\";\n})(WorkerMessageType = exports.WorkerMessageType || (exports.WorkerMessageType = {}));\n","\"use strict\";\n/// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isWorkerRuntime = function isWorkerRuntime() {\n    const isWindowContext = typeof self !== \"undefined\" && typeof Window !== \"undefined\" && self instanceof Window;\n    return typeof self !== \"undefined\" && self.postMessage && !isWindowContext ? true : false;\n};\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n    self.postMessage(data, transferList);\n};\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n    const messageHandler = (messageEvent) => {\n        onMessage(messageEvent.data);\n    };\n    const unsubscribe = () => {\n        self.removeEventListener(\"message\", messageHandler);\n    };\n    self.addEventListener(\"message\", messageHandler);\n    return unsubscribe;\n};\nexports.default = {\n    isWorkerRuntime,\n    postMessageToMaster,\n    subscribeToMasterMessages\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.expose = exports.isWorkerRuntime = exports.Transfer = exports.registerSerializer = void 0;\nconst is_observable_1 = __importDefault(require(\"is-observable\"));\nconst common_1 = require(\"../common\");\nconst transferable_1 = require(\"../transferable\");\nconst messages_1 = require(\"../types/messages\");\nconst implementation_1 = __importDefault(require(\"./implementation\"));\nvar common_2 = require(\"../common\");\nObject.defineProperty(exports, \"registerSerializer\", { enumerable: true, get: function () { return common_2.registerSerializer; } });\nvar transferable_2 = require(\"../transferable\");\nObject.defineProperty(exports, \"Transfer\", { enumerable: true, get: function () { return transferable_2.Transfer; } });\n/** Returns `true` if this code is currently running in a worker. */\nexports.isWorkerRuntime = implementation_1.default.isWorkerRuntime;\nlet exposeCalled = false;\nconst activeSubscriptions = new Map();\nconst isMasterJobCancelMessage = (thing) => thing && thing.type === messages_1.MasterMessageType.cancel;\nconst isMasterJobRunMessage = (thing) => thing && thing.type === messages_1.MasterMessageType.run;\n/**\n * There are issues with `is-observable` not recognizing zen-observable's instances.\n * We are using `observable-fns`, but it's based on zen-observable, too.\n */\nconst isObservable = (thing) => is_observable_1.default(thing) || isZenObservable(thing);\nfunction isZenObservable(thing) {\n    return thing && typeof thing === \"object\" && typeof thing.subscribe === \"function\";\n}\nfunction deconstructTransfer(thing) {\n    return transferable_1.isTransferDescriptor(thing)\n        ? { payload: thing.send, transferables: thing.transferables }\n        : { payload: thing, transferables: undefined };\n}\nfunction postFunctionInitMessage() {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"function\"\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postModuleInitMessage(methodNames) {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"module\",\n            methods: methodNames\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postJobErrorMessage(uid, rawError) {\n    const { payload: error, transferables } = deconstructTransfer(rawError);\n    const errorMessage = {\n        type: messages_1.WorkerMessageType.error,\n        uid,\n        error: common_1.serialize(error)\n    };\n    implementation_1.default.postMessageToMaster(errorMessage, transferables);\n}\nfunction postJobResultMessage(uid, completed, resultValue) {\n    const { payload, transferables } = deconstructTransfer(resultValue);\n    const resultMessage = {\n        type: messages_1.WorkerMessageType.result,\n        uid,\n        complete: completed ? true : undefined,\n        payload\n    };\n    implementation_1.default.postMessageToMaster(resultMessage, transferables);\n}\nfunction postJobStartMessage(uid, resultType) {\n    const startMessage = {\n        type: messages_1.WorkerMessageType.running,\n        uid,\n        resultType\n    };\n    implementation_1.default.postMessageToMaster(startMessage);\n}\nfunction postUncaughtErrorMessage(error) {\n    try {\n        const errorMessage = {\n            type: messages_1.WorkerMessageType.uncaughtError,\n            error: common_1.serialize(error)\n        };\n        implementation_1.default.postMessageToMaster(errorMessage);\n    }\n    catch (subError) {\n        // tslint:disable-next-line no-console\n        console.error(\"Not reporting uncaught error back to master thread as it \" +\n            \"occured while reporting an uncaught error already.\" +\n            \"\\nLatest error:\", subError, \"\\nOriginal error:\", error);\n    }\n}\nfunction runFunction(jobUID, fn, args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let syncResult;\n        try {\n            syncResult = fn(...args);\n        }\n        catch (error) {\n            return postJobErrorMessage(jobUID, error);\n        }\n        const resultType = isObservable(syncResult) ? \"observable\" : \"promise\";\n        postJobStartMessage(jobUID, resultType);\n        if (isObservable(syncResult)) {\n            const subscription = syncResult.subscribe(value => postJobResultMessage(jobUID, false, common_1.serialize(value)), error => {\n                postJobErrorMessage(jobUID, common_1.serialize(error));\n                activeSubscriptions.delete(jobUID);\n            }, () => {\n                postJobResultMessage(jobUID, true);\n                activeSubscriptions.delete(jobUID);\n            });\n            activeSubscriptions.set(jobUID, subscription);\n        }\n        else {\n            try {\n                const result = yield syncResult;\n                postJobResultMessage(jobUID, true, common_1.serialize(result));\n            }\n            catch (error) {\n                postJobErrorMessage(jobUID, common_1.serialize(error));\n            }\n        }\n    });\n}\n/**\n * Expose a function or a module (an object whose values are functions)\n * to the main thread. Must be called exactly once in every worker thread\n * to signal its API to the main thread.\n *\n * @param exposed Function or object whose values are functions\n */\nfunction expose(exposed) {\n    if (!implementation_1.default.isWorkerRuntime()) {\n        throw Error(\"expose() called in the master thread.\");\n    }\n    if (exposeCalled) {\n        throw Error(\"expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.\");\n    }\n    exposeCalled = true;\n    if (typeof exposed === \"function\") {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && !messageData.method) {\n                runFunction(messageData.uid, exposed, messageData.args.map(common_1.deserialize));\n            }\n        });\n        postFunctionInitMessage();\n    }\n    else if (typeof exposed === \"object\" && exposed) {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && messageData.method) {\n                runFunction(messageData.uid, exposed[messageData.method], messageData.args.map(common_1.deserialize));\n            }\n        });\n        const methodNames = Object.keys(exposed).filter(key => typeof exposed[key] === \"function\");\n        postModuleInitMessage(methodNames);\n    }\n    else {\n        throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${exposed}`);\n    }\n    implementation_1.default.subscribeToMasterMessages(messageData => {\n        if (isMasterJobCancelMessage(messageData)) {\n            const jobUID = messageData.uid;\n            const subscription = activeSubscriptions.get(jobUID);\n            if (subscription) {\n                subscription.unsubscribe();\n                activeSubscriptions.delete(jobUID);\n            }\n        }\n    });\n}\nexports.expose = expose;\nif (typeof self !== \"undefined\" && typeof self.addEventListener === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    self.addEventListener(\"error\", event => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(event.error || event), 250);\n    });\n    self.addEventListener(\"unhandledrejection\", event => {\n        const error = event.reason;\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\nif (typeof process !== \"undefined\" && typeof process.on === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    process.on(\"uncaughtException\", (error) => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(error), 250);\n    });\n    process.on(\"unhandledRejection\", (error) => {\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = self.setImmediate || self.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","const e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global,t=Object.keys,n=Array.isArray;function r(e,n){return\"object\"!=typeof n||t(n).forEach((function(t){e[t]=n[t]})),e}\"undefined\"==typeof Promise||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(e,t){return i.call(e,t)}function a(e,n){\"function\"==typeof n&&(n=n(s(e))),(\"undefined\"==typeof Reflect?t:Reflect.ownKeys)(n).forEach((t=>{l(e,t,n[t])}))}const u=Object.defineProperty;function l(e,t,n,s){u(e,t,r(n&&o(n,\"get\")&&\"function\"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},s))}function c(e){return{from:function(t){return e.prototype=Object.create(t.prototype),l(e.prototype,\"constructor\",e),{extend:a.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(e,t){let n;return h(e,t)||(n=s(e))&&d(n,t)}const f=[].slice;function p(e,t,n){return f.call(e,t,n)}function y(e,t){return t(e)}function m(e){if(!e)throw new Error(\"Assertion Failed\")}function v(t){e.setImmediate?setImmediate(t):setTimeout(t,0)}function g(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function b(e,t){if(o(e,t))return e[t];if(!t)return e;if(\"string\"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=b(e,t[r]);n.push(i)}return n}var a=t.indexOf(\".\");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:b(u,t.substr(a+1))}}function _(e,t,r){if(e&&void 0!==t&&(!(\"isFrozen\"in Object)||!Object.isFrozen(e)))if(\"string\"!=typeof t&&\"length\"in t){m(\"string\"!=typeof r&&\"length\"in r);for(var s=0,i=t.length;s<i;++s)_(e,t[s],r[s])}else{var o=t.indexOf(\".\");if(-1!==o){var a=t.substr(0,o),u=t.substr(o+1);if(\"\"===u)void 0===r?n(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var l=e[a];l||(l=e[a]={}),_(l,u,r)}}else void 0===r?n(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function w(e){var t={};for(var n in e)o(e,n)&&(t[n]=e[n]);return t}const x=[].concat;function k(e){return x.apply([],e)}const E=\"Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\".split(\",\").concat(k([8,16,32,64].map((e=>[\"Int\",\"Uint\",\"Float\"].map((t=>t+e+\"Array\")))))).filter((t=>e[t])),P=E.map((t=>e[t]));g(E,(e=>[e,!0]));let K=null;function O(e){K=\"undefined\"!=typeof WeakMap&&new WeakMap;const t=S(e);return K=null,t}function S(e){if(!e||\"object\"!=typeof e)return e;let t=K&&K.get(e);if(t)return t;if(n(e)){t=[],K&&K.set(e,t);for(var r=0,i=e.length;r<i;++r)t.push(S(e[r]))}else if(P.indexOf(e.constructor)>=0)t=e;else{const n=s(e);for(var a in t=n===Object.prototype?{}:Object.create(n),K&&K.set(e,t),e)o(e,a)&&(t[a]=S(e[a]))}return t}const{toString:A}={};function C(e){return A.call(e).slice(8,-1)}const j=\"undefined\"!=typeof Symbol?Symbol.iterator:\"@@iterator\",D=\"symbol\"==typeof j?function(e){var t;return null!=e&&(t=e[j])&&t.apply(e)}:function(){return null},I={};function B(e){var t,r,s,i;if(1===arguments.length){if(n(e))return e.slice();if(this===I&&\"string\"==typeof e)return[e];if(i=D(e)){for(r=[];!(s=i.next()).done;)r.push(s.value);return r}if(null==e)return[e];if(\"number\"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const T=\"undefined\"!=typeof Symbol?e=>\"AsyncFunction\"===e[Symbol.toStringTag]:()=>!1;var R=\"undefined\"!=typeof location&&/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function F(e,t){R=e,M=t}var M=()=>!0;const N=!new Error(\"\").stack;function q(){if(N)try{throw q.arguments,new Error}catch(e){return e}return new Error}function $(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split(\"\\n\").length),n.split(\"\\n\").slice(t).filter(M).map((e=>\"\\n\"+e)).join(\"\")):\"\"}var U=[\"Unknown\",\"Constraint\",\"Data\",\"TransactionInactive\",\"ReadOnly\",\"Version\",\"NotFound\",\"InvalidState\",\"InvalidAccess\",\"Abort\",\"Timeout\",\"QuotaExceeded\",\"Syntax\",\"DataClone\"],L=[\"Modify\",\"Bulk\",\"OpenFailed\",\"VersionChange\",\"Schema\",\"Upgrade\",\"InvalidTable\",\"MissingAPI\",\"NoSuchDatabase\",\"InvalidArgument\",\"SubTransaction\",\"Unsupported\",\"Internal\",\"DatabaseClosed\",\"PrematureCommit\",\"ForeignAwait\"].concat(U),V={VersionChanged:\"Database version changed by other database connection\",DatabaseClosed:\"Database has been closed\",Abort:\"Transaction aborted\",TransactionInactive:\"Transaction has already completed or failed\",MissingAPI:\"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"};function W(e,t){this._e=q(),this.name=e,this.message=t}function Y(e,t){return e+\". Errors: \"+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join(\"\\n\")}function z(e,t,n,r){this._e=q(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Y(e,t)}function G(e,t){this._e=q(),this.name=\"BulkError\",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Y(e,t)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+\": \"+this.message+$(this._e,2))}},toString:function(){return this.name+\": \"+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce(((e,t)=>(e[t]=t+\"Error\",e)),{});const Q=W;var X=L.reduce(((e,t)=>{var n=t+\"Error\";function r(e,r){this._e=q(),this.name=n,e?\"string\"==typeof e?(this.message=`${e}${r?\"\\n \"+r:\"\"}`,this.inner=r||null):\"object\"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=V[t]||n,this.inner=null)}return c(r).from(Q),e[t]=r,e}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce(((e,t)=>(e[t+\"Error\"]=X[t],e)),{});var Z=L.reduce(((e,t)=>(-1===[\"Syntax\",\"Type\",\"Range\"].indexOf(t)&&(e[t+\"Error\"]=X[t]),e)),{});function ee(){}function te(e){return e}function ne(e,t){return null==e||e===te?t:function(n){return t(e(n))}}function re(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?re(r,this.onsuccess):r),s&&(this.onerror=this.onerror?re(s,this.onerror):s),void 0!==i?i:n}}function ie(e,t){return e===ee?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?re(n,this.onsuccess):n),r&&(this.onerror=this.onerror?re(r,this.onerror):r)}}function oe(e,t){return e===ee?t:function(n){var s=e.apply(this,arguments);r(n,s);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?re(i,this.onsuccess):i),o&&(this.onerror=this.onerror?re(o,this.onerror):o),void 0===s?void 0===a?void 0:a:r(s,a)}}function ae(e,t){return e===ee?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ue(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);if(n&&\"function\"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const[ce,he,de]=\"undefined\"==typeof Promise?[]:(()=>{let e=Promise.resolve();if(\"undefined\"==typeof crypto||!crypto.subtle)return[e,s(e),e];const t=crypto.subtle.digest(\"SHA-512\",new Uint8Array([0]));return[t,s(t),e]})(),fe=he&&he.then,pe=ce&&ce.constructor,ye=!!de;var me=!1,ve=de?()=>{de.then(qe)}:e.setImmediate?setImmediate.bind(null,qe):e.MutationObserver?()=>{var e=document.createElement(\"div\");new MutationObserver((()=>{qe(),e=null})).observe(e,{attributes:!0}),e.setAttribute(\"i\",\"1\")}:()=>{setTimeout(qe,0)},ge=function(e,t){Oe.push([e,t]),_e&&(ve(),_e=!1)},be=!0,_e=!0,we=[],xe=[],ke=null,Ee=te,Pe={id:\"global\",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{ct(e[0],e[1])}catch(e){}}))}},Ke=Pe,Oe=[],Se=0,Ae=[];function Ce(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=Ke;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),\"function\"!=typeof e){if(e!==le)throw new TypeError(\"Not a function\");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Be(this,this._value))}this._state=null,this._value=null,++t.ref,Ie(this,e)}const je={get:function(){var e=Ke,t=Qe;function n(n,r){var s=!e.global&&(e!==Ke||t!==Qe);const i=s&&!et();var o=new Ce(((t,o)=>{Re(this,new De(ut(n,e,s,i),ut(r,e,s,i),t,o,e))}));return R&&Ne(o,this),o}return n.prototype=le,n},set:function(e){l(this,\"then\",e&&e.prototype===le?je:{get:function(){return e},set:je.set})}};function De(e,t,n,r,s){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Ie(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");var n=e._lib&&$e();t&&\"function\"==typeof t.then?Ie(e,((e,n)=>{t instanceof Ce?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Te(e)),n&&Ue()}}),Be.bind(null,e))}catch(t){Be(e,t)}}function Be(e,t){if(xe.push(t),null===e._state){var n=e._lib&&$e();t=Ee(t),e._state=!1,e._value=t,R&&null!==t&&\"object\"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((()=>{var n=d(t,\"stack\");t._promise=e,l(t,\"stack\",{get:()=>me?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){we.some((t=>t._value===e._value))||we.push(e)}(e),Te(e),n&&Ue()}}function Te(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Re(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===Se&&(++Se,ge((()=>{0==--Se&&Le()}),[]))}function Re(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Se,ge(Fe,[n,e,t])}else e._listeners.push(t)}function Fe(e,t,n){try{ke=t;var r,s=t._value;t._state?r=e(s):(xe.length&&(xe=[]),r=e(s),-1===xe.indexOf(s)&&function(e){var t=we.length;for(;t;)if(we[--t]._value===e._value)return void we.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ke=null,0==--Se&&Le(),--n.psd.ref||n.psd.finalize()}}function Me(e,t,n){if(t.length===n)return t;var r=\"\";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||\"Error\",i=o.message||o,r=$(o,0)):(s=o,i=\"\"),t.push(s+(i?\": \"+i:\"\")+r)}return R&&((r=$(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Me(e._prev,t,n)),t}function Ne(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function qe(){$e()&&Ue()}function $e(){var e=be;return be=!1,_e=!1,e}function Ue(){var e,t,n;do{for(;Oe.length>0;)for(e=Oe,Oe=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Oe.length>0);be=!0,_e=!0}function Le(){var e=we;we=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ae.slice(0),n=t.length;n;)t[--n]()}function Ve(e){return new Ce(le,!1,e)}function We(e,t){var n=Ke;return function(){var r=$e(),s=Ke;try{return st(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{st(s,!1),r&&Ue()}}}a(Ce.prototype,{then:je,_then:function(e,t){Re(this,new De(null,null,e,t,Ke))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return\"function\"==typeof t?this.then(null,(e=>e instanceof t?n(e):Ve(e))):this.then(null,(e=>e&&e.name===t?n(e):Ve(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ve(t))))},stack:{get:function(){if(this._stack)return this._stack;try{me=!0;var e=Me(this,[],20).join(\"\\nFrom previous: \");return null!==this._state&&(this._stack=e),e}finally{me=!1}}},timeout:function(e,t){return e<1/0?new Ce(((n,r)=>{var s=setTimeout((()=>r(new X.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&l(Ce.prototype,Symbol.toStringTag,\"Dexie.Promise\"),Pe.env=it(),a(Ce,{all:function(){var e=B.apply(null,arguments).map(tt);return new Ce((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,i)=>Ce.resolve(s).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Ce)return e;if(e&&\"function\"==typeof e.then)return new Ce(((t,n)=>{e.then(t,n)}));var t=new Ce(le,!0,e);return Ne(t,ke),t},reject:Ve,race:function(){var e=B.apply(null,arguments).map(tt);return new Ce(((t,n)=>{e.map((e=>Ce.resolve(e).then(t,n)))}))},PSD:{get:()=>Ke,set:e=>Ke=e},totalEchoes:{get:()=>Qe},newPSD:Je,usePSD:ot,scheduler:{get:()=>ge,set:e=>{ge=e}},rejectionMapper:{get:()=>Ee,set:e=>{Ee=e}},follow:(e,t)=>new Ce(((n,r)=>Je(((t,n)=>{var r=Ke;r.unhandleds=[],r.onunhandled=n,r.finalize=re((function(){!function(e){function t(){e(),Ae.splice(Ae.indexOf(t),1)}Ae.push(t),++Se,ge((()=>{0==--Se&&Le()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),pe&&(pe.allSettled&&l(Ce,\"allSettled\",(function(){const e=B.apply(null,arguments).map(tt);return new Ce((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>Ce.resolve(e).then((e=>r[s]={status:\"fulfilled\",value:e}),(e=>r[s]={status:\"rejected\",reason:e})).then((()=>--n||t(r)))))}))})),pe.any&&\"undefined\"!=typeof AggregateError&&l(Ce,\"any\",(function(){const e=B.apply(null,arguments).map(tt);return new Ce(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,i)=>Ce.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--r||n(new AggregateError(s))}))))}))})));const Ye={awaits:0,echoes:0,id:0};var ze=0,Ge=[],He=0,Qe=0,Xe=0;function Je(e,t,n,s){var i=Ke,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xe;var a=Pe.env;o.env=ye?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject,nthen:lt(a.nthen,o),gthen:lt(a.gthen,o)}:{},t&&r(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ot(o,e,n,s);return 0===o.ref&&o.finalize(),u}function Ze(){return Ye.id||(Ye.id=++ze),++Ye.awaits,Ye.echoes+=100,Ye.id}function et(){return!!Ye.awaits&&(0==--Ye.awaits&&(Ye.id=0),Ye.echoes=100*Ye.awaits,!0)}function tt(e){return Ye.echoes&&e&&e.constructor===pe?(Ze(),e.then((e=>(et(),e)),(e=>(et(),ht(e))))):e}function nt(e){++Qe,Ye.echoes&&0!=--Ye.echoes||(Ye.echoes=Ye.id=0),Ge.push(Ke),st(e,!0)}function rt(){var e=Ge[Ge.length-1];Ge.pop(),st(e,!1)}function st(t,n){var r=Ke;if((n?!Ye.echoes||He++&&t===Ke:!He||--He&&t===Ke)||at(n?nt.bind(null,t):rt),t!==Ke&&(Ke=t,r===Pe&&(Pe.env=it()),ye)){var s=Pe.env.Promise,i=t.env;he.then=i.nthen,s.prototype.then=i.gthen,(r.global||t.global)&&(Object.defineProperty(e,\"Promise\",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject,i.allSettled&&(s.allSettled=i.allSettled),i.any&&(s.any=i.any))}}function it(){var t=e.Promise;return ye?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,\"Promise\"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:he.then,gthen:t.prototype.then}:{}}function ot(e,t,n,r,s){var i=Ke;try{return st(e,!0),t(n,r,s)}finally{st(i,!1)}}function at(e){fe.call(ce,e)}function ut(e,t,n,r){return\"function\"!=typeof e?e:function(){var s=Ke;n&&Ze(),st(t,!0);try{return e.apply(this,arguments)}finally{st(s,!1),r&&at(et)}}}function lt(e,t){return function(n,r){return e.call(this,ut(n,t),ut(r,t))}}-1===(\"\"+fe).indexOf(\"[native code]\")&&(Ze=et=ee);function ct(t,n){var s;try{s=n.onuncatched(t)}catch(e){}if(!1!==s)try{var i,o={promise:n,reason:t};if(e.document&&document.createEvent?((i=document.createEvent(\"Event\")).initEvent(\"unhandledrejection\",!0,!0),r(i,o)):e.CustomEvent&&r(i=new CustomEvent(\"unhandledrejection\",{detail:o}),o),i&&e.dispatchEvent&&(dispatchEvent(i),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(i)}catch(e){}R&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(e){}}var ht=Ce.reject;function dt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ke.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>dt(e,t,n,r)))):ht(s)}return s._promise(t,((e,t)=>Je((()=>(Ke.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return ht(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ht(new X.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then((()=>dt(e,t,n,r)))}const ft=String.fromCharCode(65535),pt=\"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\",yt=[],mt=\"undefined\"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vt=mt,gt=mt,bt=e=>!/(dexie\\.js|dexie\\.min\\.js)/.test(e);function _t(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const wt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xt(e){return\"string\"!=typeof e||/\\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=O(t))[e],t)}function kt(){throw X.Type()}class Et{_trans(e,t,n){const r=this._tx||Ke.trans,s=this.name;function i(e,n,r){if(!r.schema[s])throw new X.NotFound(\"Table \"+s+\" not part of transaction\");return t(r.idbtrans,r)}const o=$e();try{return r&&r.db===this.db?r===Ke.trans?r._promise(e,i,n):Je((()=>r._promise(e,i,n)),{trans:r,transless:Ke.transless||Ke}):dt(this.db,e,[this.name],i)}finally{o&&Ue()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans(\"readonly\",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if(\"string\"==typeof e)return new this.db.WhereClause(this,e);if(n(e))return new this.db.WhereClause(this,`[${e.join(\"+\")}]`);const r=t(e);if(1===r.length)return this.where(r[0]).equals(e[r[0]]);const s=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&r.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>r.indexOf(e)>=0))))[0];if(s&&this.db._maxKey!==ft)return this.where(s.name).equals(s.keyPath.map((t=>e[t])));!s&&R&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join(\"+\")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[u,l]=r.reduce((([t,r],s)=>{const o=i[s],u=e[s];return[t||o,t||!o?_t(r,o&&o.multi?e=>{const t=b(e,s);return n(t)&&t.some((e=>a(u,e)))}:e=>a(u,b(e,s))):r]}),[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(l):s?this.filter(l):this.where(r).equals(\"\")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,n(e)?`[${e.join(\"+\")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){const{db:t,name:n}=this;this.schema.mappedClass=e,e.prototype instanceof kt&&(e=class extends e{get db(){return t}table(){return n}});const r=new Set;for(let t=e.prototype;t;t=s(t))Object.getOwnPropertyNames(t).forEach((e=>r.add(e)));const i=t=>{if(!t)return t;const n=Object.create(e.prototype);for(let e in t)if(!r.has(e))try{n[e]=t[e]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook(\"reading\",i),e}defineClass(){return this.mapToClass((function(e){r(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=xt(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"add\",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}update(e,r){if(\"object\"!=typeof e||n(e))return this.where(\":id\").equals(e).modify(r);{const n=b(e,this.schema.primKey.keyPath);if(void 0===n)return ht(new X.InvalidArgument(\"Given object does not contain its primary key\"));try{\"function\"!=typeof r?t(r).forEach((t=>{_(e,t,r[t])})):r(e,{value:e,primKey:n})}catch(e){}return this.where(\":id\").equals(n).modify(r)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=xt(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"put\",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}delete(e){return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:[e]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}clear(){return this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"deleteRange\",range:wt}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans(\"readonly\",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(xt(i)):e;return this.core.mutate({trans:t,type:\"add\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(xt(i)):e;return this.core.mutate({trans:t,type:\"put\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new G(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Pt(e){var r={},s=function(t,n){if(n){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return r[t].subscribe.apply(null,i),e}if(\"string\"==typeof t)return r[t]};s.addEventType=a;for(var i=1,o=arguments.length;i<o;++i)a(arguments[i]);return s;function a(e,t,n){if(\"object\"==typeof e)return u(e);t||(t=ae),n||(n=ee);var i={subscribers:[],fire:n,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=t(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(t,n)}};return r[e]=s[e]=i,i}function u(e){t(e).forEach((function(t){var r=e[t];if(n(r))a(t,e[t][0],e[t][1]);else{if(\"asap\"!==r)throw new X.InvalidArgument(\"Invalid event config\");var s=a(t,te,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];s.subscribers.forEach((function(e){v((function(){e.apply(null,t)}))}))}))}}))}}function Kt(e,t){return c(t).from({prototype:e}),t}function Ot(e){return Kt(Et.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Pt(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})}))}function St(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function At(e,t){e.filter=_t(e.filter,t)}function Ct(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>_t(r(),t()):t,e.justLimit=n&&!r}function jt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new X.Schema(\"KeyPath \"+e.index+\" on object store \"+t.name+\" is not indexed\");return n}function Dt(e,t,n){const r=jt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:\"prev\"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function It(e,t,n,r){const s=e.replayFilter?_t(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,u=\"\"+a;\"[object ArrayBuffer]\"===u&&(u=\"\"+new Uint8Array(a)),o(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Bt(Dt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Bt(Dt(e,r,n),_t(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Bt(e,t,n,r){var s=We(r?(e,t,s)=>n(r(e),t,s):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=ee}),(t=>{e.fail(t),n=ee}))||s(e.value,e,(e=>n=e)),n()}))}))}function Tt(e,t){try{const n=Rt(e),r=Rt(t);if(n!==r)return\"Array\"===n?1:\"Array\"===r?-1:\"binary\"===n?1:\"binary\"===r?-1:\"string\"===n?1:\"string\"===r?-1:\"Date\"===n?1:\"Date\"!==r?NaN:-1;switch(n){case\"number\":case\"Date\":case\"string\":return e>t?1:e<t?-1:0;case\"binary\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Ft(e),Ft(t));case\"Array\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=Tt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Rt(e){const t=typeof e;if(\"object\"!==t)return t;if(ArrayBuffer.isView(e))return\"binary\";const n=C(e);return\"ArrayBuffer\"===n?\"binary\":n}function Ft(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Mt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ht.bind(null,n.error)):n.table._trans(\"readonly\",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ht.bind(null,t.error)):t.table._trans(\"readwrite\",e,\"locked\")}_addAlgorithm(e){var t=this._ctx;t.algorithm=_t(t.algorithm,e)}_iterate(e,t){return It(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>It(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(St(t,!0))return n.count({trans:e,query:{index:jt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return It(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(\".\").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o=\"next\"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if(\"next\"===t.dir&&St(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=jt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return It(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,St(t)?Ct(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Ct(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ct(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return At(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return At(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=_t(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=\"prev\"===this._ctx.dir?\"next\":\"prev\",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique=\"unique\",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if(\"next\"===t.dir&&St(t,!0)&&t.limit>0)return this._read((e=>{var n=jt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique=\"unique\",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return At(this._ctx,(function(e){var t=e.primaryKey.toString(),r=o(n,t);return n[t]=!0,!r})),this}modify(e){var n=this._ctx;return this._write((r=>{var s;if(\"function\"==typeof e)s=e;else{var i=t(e),o=i.length;s=function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s];b(t,s)!==a&&(_(t,s,a),n=!0)}return n}}const a=n.table.core,{outbound:u,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],p=(e,n)=>{const{failures:r,numFailures:s}=n;d+=e-s;for(let e of t(r))h.push(r[e])};return this.clone().primaryKeys().then((t=>{const i=o=>{const h=Math.min(c,t.length-o);return a.getMany({trans:r,keys:t.slice(o,o+h),cache:\"immutable\"}).then((d=>{const f=[],y=[],m=u?[]:null,v=[];for(let e=0;e<h;++e){const n=d[e],r={value:O(n),primKey:t[o+e]};!1!==s.call(r,r.value,r)&&(null==r.value?v.push(t[o+e]):u||0===Tt(l(n),l(r.value))?(y.push(r.value),u&&m.push(t[o+e])):(v.push(t[o+e]),f.push(r.value)))}const g=St(n)&&n.limit===1/0&&(\"function\"!=typeof e||e===Nt)&&{index:n.index,range:n.range};return Promise.resolve(f.length>0&&a.mutate({trans:r,type:\"add\",values:f}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(y.length>0||g&&\"object\"==typeof e)&&a.mutate({trans:r,type:\"put\",keys:m,values:y,criteria:g,changeSpec:\"function\"!=typeof e&&e}).then((e=>p(y.length,e))))).then((()=>(v.length>0||g&&e===Nt)&&a.mutate({trans:r,type:\"delete\",keys:v,criteria:g}).then((e=>p(v.length,e))))).then((()=>t.length>o+h&&i(o+c)))}))};return i(0).then((()=>{if(h.length>0)throw new z(\"Error modifying one or more objects\",h,d,f);return t.length}))}))}))}delete(){var e=this._ctx,t=e.range;return St(e)&&(e.isPrimKey&&!gt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:\"deleteRange\",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new z(\"Could not delete some values\",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Nt)}}const Nt=(e,t)=>t.value=null;function qt(e,t){return e<t?-1:e===t?0:1}function $t(e,t){return e>t?-1:e===t?0:1}function Ut(e,t,n){var r=e instanceof Gt?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Lt(e){return new e.Collection(e,(()=>zt(\"\"))).limit(0)}function Vt(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,u=0;u<o;++u){var l=t[u];if(l!==r[u])return s(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):s(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[u],l)<0&&(a=u)}return o<r.length&&\"next\"===i?e+n.substr(e.length):o<e.length&&\"prev\"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Wt(e,t,n,r){var s,i,o,a,u,l,c,h=n.length;if(!n.every((e=>\"string\"==typeof e)))return Ut(e,\"String expected.\");function d(e){s=function(e){return\"next\"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return\"next\"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o=\"next\"===e?qt:$t;var t=n.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,c=\"next\"===e?\"\":r}d(\"next\");var f=new e.Collection(e,(()=>Yt(a[0],u[h-1]+r)));f._ondirectionchange=function(e){d(e)};var p=0;return f._addAlgorithm((function(e,n,r){var s=e.key;if(\"string\"!=typeof s)return!1;var d=i(s);if(t(d,u,p))return!0;for(var f=null,y=p;y<h;++y){var m=Vt(s,d,a[y],u[y],o,l);null===m&&null===f?p=y+1:(null===f||o(f,m)>0)&&(f=m)}return n(null!==f?function(){e.continue(f+c)}:r),!1})),f}function Yt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function zt(e){return{type:1,lower:e,upper:e}}class Gt{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Lt(this):new this.Collection(this,(()=>Yt(e,t,!n,!r)))}catch(e){return Ut(this,pt)}}equals(e){return null==e?Ut(this,pt):new this.Collection(this,(()=>zt(e)))}above(e){return null==e?Ut(this,pt):new this.Collection(this,(()=>Yt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Ut(this,pt):new this.Collection(this,(()=>Yt(e,void 0,!1)))}below(e){return null==e?Ut(this,pt):new this.Collection(this,(()=>Yt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Ut(this,pt):new this.Collection(this,(()=>Yt(void 0,e)))}startsWith(e){return\"string\"!=typeof e?Ut(this,\"String expected.\"):this.between(e,e+ft,!0,!0)}startsWithIgnoreCase(e){return\"\"===e?this.startsWith(e):Wt(this,((e,t)=>0===e.indexOf(t[0])),[e],ft)}equalsIgnoreCase(e){return Wt(this,((e,t)=>e===t[0]),[e],\"\")}anyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Lt(this):Wt(this,((e,t)=>-1!==t.indexOf(e)),e,\"\")}startsWithAnyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Lt(this):Wt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,ft)}anyOf(){const e=B.apply(I,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Ut(this,pt)}if(0===e.length)return Lt(this);const n=new this.Collection(this,(()=>Yt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t=\"next\"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return s(i),!1;return 0===t(o,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-(1/0),e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=B.apply(I,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ut(this,pt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return Lt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Ut(this,\"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\",X.InvalidArgument);const a=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let l,c=r;function h(e,t){return c(e[0],t[0])}try{l=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),l.sort(h)}catch(e){return Ut(this,pt)}let d=0;const f=u?e=>r(e,l[d][1])>0:e=>r(e,l[d][1])>=0,p=a?e=>s(e,l[d][0])>0:e=>s(e,l[d][0])>=0;let y=f;const m=new this.Collection(this,(()=>Yt(l[0][0],l[l.length-1][1],!a,!u)));return m._ondirectionchange=e=>{\"next\"===e?(y=f,c=r):(y=p,c=s),l.sort(h)},m._addAlgorithm(((e,t,n)=>{for(var s=e.key;y(s);)if(++d,d===l.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(s)||(0===this._cmp(s,l[d][1])||0===this._cmp(s,l[d][0])||t((()=>{c===r?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),m}startsWithAnyOf(){const e=B.apply(I,arguments);return e.every((e=>\"string\"==typeof e))?0===e.length?Lt(this):this.inAnyRange(e.map((e=>[e,e+ft]))):Ut(this,\"startsWithAnyOf() only works with strings\")}}function Ht(e){return We((function(t){return Qt(t),e(t.target.error),!1}))}function Qt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Xt=Pt(null,\"storagemutated\");class Jt{_lock(){return m(!Ke.global),++this._reculock,1!==this._reculock||Ke.global||(Ke.lockOwnerFor=this),this}_unlock(){if(m(!Ke.global),0==--this._reculock)for(Ke.global||(Ke.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ke.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(m(!this.idbtrans),!e&&!t)switch(n&&n.name){case\"DatabaseClosedError\":throw new X.DatabaseClosed(n);case\"MissingAPIError\":throw new X.MissingAPI(n.message,n);default:throw new X.OpenFailed(n)}if(!this.active)throw new X.TransactionInactive;return m(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=We((t=>{Qt(t),this._reject(e.error)})),e.onabort=We((t=>{Qt(t),this.active&&this._reject(new X.Abort(e.error)),this.active=!1,this.on(\"abort\").fire(t)})),e.oncomplete=We((()=>{this.active=!1,this._resolve(),\"mutatedParts\"in e&&Xt.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if(\"readwrite\"===e&&\"readwrite\"!==this.mode)return ht(new X.ReadOnly(\"Transaction is readonly\"));if(!this.active)return ht(new X.TransactionInactive);if(this._locked())return new Ce(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},Ke])}));if(n)return Je((()=>{var e=new Ce(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Ce(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Ce.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new Ce(((e,r)=>{n.then((n=>t._waitingQueue.push(We(e.bind(null,n)))),(e=>t._waitingQueue.push(We(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(o(t,e))return t[e];const n=this.schema[e];if(!n)throw new X.NotFound(\"Table \"+e+\" not part of transaction\");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Zt(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?\"&\":\"\")+(r?\"*\":\"\")+(s?\"++\":\"\")+en(t)}}function en(e){return\"string\"==typeof e?e:e?\"[\"+[].join.call(e,\"+\")+\"]\":\"\"}function tn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:g(n,(e=>[e.name,e]))}}let nn=e=>{try{return e.only([[]]),nn=()=>[[]],[[]]}catch(e){return nn=()=>ft,ft}};function rn(e){return null==e?()=>{}:\"string\"==typeof e?function(e){return 1===e.split(\".\").length?t=>t[e]:t=>b(t,e)}(e):t=>b(t,e)}function sn(e){return[].slice.call(e)}let on=0;function an(e){return null==e?\":id\":\"string\"==typeof e?e:`[${e.join(\"+\")}]`}function un(e,t,r){function s(e){if(3===e.type)return null;if(4===e.type)throw new Error(\"Cannot convert never type to IDBKeyRange\");const{lower:n,upper:r,lowerOpen:s,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!i)}const{schema:i,hasGetAll:o}=function(e,t){const r=sn(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,s=n(t),i=null==t,o={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:s,keyPath:t,autoIncrement:r,unique:!0,extractKey:rn(t)},indexes:sn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:s,keyPath:i}=e,a={name:t,compound:n(i),keyPath:i,unique:r,multiEntry:s,extractKey:rn(i)};return o[an(i)]=a,a})),getIndexByKeyPath:e=>o[an(e)]};return o[\":id\"]=a.primaryKey,null!=t&&(o[an(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&\"getAll\"in t.objectStore(r[0])&&!(\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604)}}(e,r),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:r,values:i,range:o}){return new Promise(((a,u)=>{a=We(a);const l=e.objectStore(t),c=null==l.keyPath,h=\"put\"===n||\"add\"===n;if(!h&&\"delete\"!==n&&\"deleteRange\"!==n)throw new Error(\"Invalid operation type: \"+n);const{length:d}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw new Error(\"Given keys array must have same length as given values array.\");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],y=[];let m=0;const v=e=>{++m,Qt(e)};if(\"deleteRange\"===n){if(4===o.type)return a({numFailures:m,failures:y,results:[],lastResult:void 0});3===o.type?p.push(f=l.clear()):p.push(f=l.delete(s(o)))}else{const[e,t]=h?c?[i,r]:[i,null]:[r,null];if(h)for(let r=0;r<d;++r)p.push(f=t&&void 0!==t[r]?l[n](e[r],t[r]):l[n](e[r])),f.onerror=v;else for(let t=0;t<d;++t)p.push(f=l[n](e[t])),f.onerror=v}const g=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),a({numFailures:m,failures:y,results:\"delete\"===n?r:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{v(e),g(e)},f.onsuccess=g}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=We(r);const i=e.objectStore(t),o=n.length,a=new Array(o);let u,l=0,c=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++c===l&&r(a)},d=Ht(s);for(let e=0;e<o;++e)null!=n[e]&&(u=i.get(n[e]),u._pos=e,u.onsuccess=h,u.onerror=d,++l);0===l&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=We(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=Ht(s)})),query:function(e){return n=>new Promise(((r,i)=>{r=We(r);const{trans:o,values:a,limit:u,query:l}=n,c=u===1/0?void 0:u,{index:h,range:d}=l,f=o.objectStore(t),p=h.isPrimaryKey?f:f.index(h.name),y=s(d);if(0===u)return r({result:[]});if(e){const e=a?p.getAll(y,c):p.getAllKeys(y,c);e.onsuccess=e=>r({result:e.target.result}),e.onerror=Ht(i)}else{let e=0;const t=a||!(\"openKeyCursor\"in p)?p.openCursor(y):p.openKeyCursor(y),n=[];t.onsuccess=s=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===u?r({result:n}):void i.continue()):r({result:n})},t.onerror=Ht(i)}}))}(o),openCursor:function({trans:e,values:n,query:r,reverse:i,unique:o}){return new Promise(((a,u)=>{a=We(a);const{index:l,range:c}=r,h=e.objectStore(t),d=l.isPrimaryKey?h:h.index(l.name),f=i?o?\"prevunique\":\"prev\":o?\"nextunique\":\"next\",p=n||!(\"openKeyCursor\"in d)?d.openCursor(s(c),f):d.openKeyCursor(s(c),f);p.onerror=Ht(u),p.onsuccess=We((t=>{const n=p.result;if(!n)return void a(null);n.___id=++on,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error(\"Cursor not stopped\")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error(\"Cursor not started\")},n.fail=We(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=We(e),p.onerror=Ht(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error(\"Cursor behind last entry\")},n.stop()};return p.onsuccess=We((e=>{p.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=i,a(),t},a(n)}),u)}))},count({query:e,trans:n}){const{index:r,range:i}=e;return new Promise(((e,o)=>{const a=n.objectStore(t),u=r.isPrimaryKey?a:a.index(r.name),l=s(i),c=l?u.count(l):u.count();c.onsuccess=We((t=>e(t.target.result))),c.onerror=Ht(o)}))}}}(e))),u={};return a.forEach((e=>u[e.name]=e)),{stack:\"dbcore\",transaction:e.transaction.bind(e),table(e){if(!u[e])throw new Error(`Table '${e}' not found`);return u[e]},MIN_KEY:-1/0,MAX_KEY:nn(t),schema:i}}function ln({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(un(t,n,s),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=e.vip[n].core=t.core))}))}function cn(e,t,n){t.forEach((t=>{const r=n[t];e.forEach((e=>{const n=d(e,t);(!n||\"value\"in n&&(void 0===n.value||n.value instanceof Et))&&(e instanceof Jt?l(e,t,{get(){return this.table(t)},set(e){u(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e instanceof Ln&&(e._allTables[t]=e[t]=new e.Table(t,r)))}))}))}function hn(e){e.forEach((e=>{(e instanceof Ln?[e,e._allTables]:[e]).forEach((e=>{for(let t in e)e[t]instanceof Et&&delete e[t]}))}))}function dn(e,t){return e._cfg.version-t._cfg.version}function fn(e,n,r,s){const i=e._dbSchema,o=e._createTransaction(\"readwrite\",e._storeNames,i);o.create(r),o._completion.catch(s);const a=o._reject.bind(o),u=Ke.transless||Ke;Je((()=>{Ke.trans=o,Ke.transless=u,0===n?(t(i).forEach((e=>{yn(r,e,i[e].primKey,i[e].indexes)})),ln(e,r),Ce.follow((()=>e.on.populate.fire(o))).catch(a)):function({_novip:e},n,r,s){const i=[],o=e._versions;let a=e._dbSchema=vn(e,e.idbdb,s),u=!1;function l(){return i.length?Ce.resolve(i.shift()(r.idbtrans)).then(l):Ce.resolve()}return o.filter((e=>e._cfg.version>=n)).forEach((o=>{i.push((()=>{const i=a,l=o._cfg.dbschema;gn(e,i,s),gn(e,l,s),a=e._dbSchema=l;const c=pn(i,l);c.add.forEach((e=>{yn(s,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new X.Upgrade(\"Not yet support for changing primary key\");{const t=s.objectStore(e.name);e.add.forEach((e=>mn(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),mn(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const h=o._cfg.contentUpgrade;if(h&&o._cfg.version>n){ln(e,s),r._memoizedTables={},u=!0;let n=w(l);c.del.forEach((e=>{n[e]=i[e]})),hn([e.Transaction.prototype]),cn([e.Transaction.prototype],t(n),n),r.schema=n;const o=T(h);let a;o&&Ze();const d=Ce.follow((()=>{if(a=h(r),a&&o){var e=et.bind(null,null);a.then(e,e)}}));return a&&\"function\"==typeof a.then?Ce.resolve(a):d.then((()=>a))}})),i.push((t=>{if(!u||!vt){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t)}hn([e.Transaction.prototype]),cn([e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),l().then((()=>{var e,n;n=s,t(e=a).forEach((t=>{n.db.objectStoreNames.contains(t)||yn(n,t,e[t].primKey,e[t].indexes)}))}))}(e,n,o,r).catch(a)}))}function pn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(\"\"+(s.primKey.keyPath||\"\")!=\"\"+(i.primKey.keyPath||\"\")||s.primKey.auto!==i.primKey.auto&&!mt)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],s=r[o];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function yn(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>mn(s,e))),s}function mn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function vn(e,t,n){const r={};return p(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const i=Zt(en(s),s||\"\",!1,!1,!!t.autoIncrement,s&&\"string\"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=Zt(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&\"string\"!=typeof s,!1);o.push(a)}r[e]=tn(e,i,o)})),r}function gn({_novip:t},n,r){const s=r.db.objectStoreNames;for(let e=0;e<s.length;++e){const i=s[e],o=r.objectStore(i);t._hasGetAll=\"getAll\"in o;for(let e=0;e<o.indexNames.length;++e){const t=o.indexNames[e],r=o.index(t).keyPath,s=\"string\"==typeof r?r:\"[\"+p(r).join(\"+\")+\"]\";if(n[i]){const e=n[i].idxByName[s];e&&(e.name=t,delete n[i].idxByName[s],n[i].idxByName[t]=e)}}}\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604&&(t._hasGetAll=!1)}class bn{_parseStoresSpec(e,r){t(e).forEach((t=>{if(null!==e[t]){var s=e[t].split(\",\").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\\+\\+)/g,\"\"),s=/^\\[/.test(r)?r.match(/^\\[(.*)\\]$/)[1].split(\"+\"):r;return Zt(r,s||null,/\\&/.test(e),/\\*/.test(e),/\\+\\+/.test(e),n(s),0===t)})),i=s.shift();if(i.multi)throw new X.Schema(\"Primary key cannot be multi-valued\");s.forEach((e=>{if(e.auto)throw new X.Schema(\"Only primary key can be marked as autoIncrement (++)\");if(!e.keyPath)throw new X.Schema(\"Index must have a name and cannot be an empty string\")})),r[t]=tn(t,i,s)}}))}stores(e){const n=this.db._novip;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;const s=n._versions,i={};let o={};return s.forEach((e=>{r(i,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(i,o)})),n._dbSchema=o,hn([n,n.vip,n.Transaction.prototype]),cn([n,n.vip,n.Transaction.prototype],t(o),o),n._storeNames=t(o),this}upgrade(e){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,e),this}}function _n(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Ln(\"__dbnames\",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:\"name\"})),n.table(\"dbnames\")}function wn(e){return e&&\"function\"==typeof e.databases}function xn(e){return Je((function(){return Ke.letThrough=!0,e()}))}function kn(){var e;return!navigator.userAgentData&&/Safari\\//.test(navigator.userAgent)&&!/Chrom(e|ium)\\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function En(e){const n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((()=>n.dbOpenError?ht(n.dbOpenError):e));R&&(n.openCanceller._stackHolder=q()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const s=n.openCanceller;function i(){if(n.openCanceller!==s)throw new X.DatabaseClosed(\"db.open() was cancelled\")}let o=n.dbReadyResolve,a=null,u=!1;return Ce.race([s,(\"undefined\"==typeof navigator?Ce.resolve():kn()).then((()=>new Ce(((s,o)=>{if(i(),!r)throw new X.MissingAPI;const l=e.name,c=n.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!c)throw new X.MissingAPI;c.onerror=Ht(o),c.onblocked=We(e._fireOnBlocked),c.onupgradeneeded=We((t=>{if(a=c.transaction,n.autoSchema&&!e._options.allowEmptyDB){c.onerror=Qt,a.abort(),c.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=We((()=>{o(new X.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=Ht(o);var s=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;u=s<1,e._novip.idbdb=c.result,fn(e,s/10,a,o)}}),o),c.onsuccess=We((()=>{a=null;const r=e._novip.idbdb=c.result,i=p(r.objectStoreNames);if(i.length>0)try{const s=r.transaction(1===(o=i).length?o[0]:o,\"readonly\");n.autoSchema?function({_novip:e},n,r){e.verno=n.version/10;const s=e._dbSchema=vn(0,n,r);e._storeNames=p(n.objectStoreNames,0),cn([e,e.vip],t(s),s)}(e,r,s):(gn(e,e._dbSchema,s),function(e,t){const n=pn(vn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,s)||console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\")),ln(e,s)}catch(e){}var o;yt.push(e),r.onversionchange=We((t=>{n.vcFired=!0,e.on(\"versionchange\").fire(t)})),r.onclose=We((t=>{e.on(\"close\").fire(t)})),u&&function({indexedDB:e,IDBKeyRange:t},n){!wn(e)&&\"__dbnames\"!==n&&_n(e,t).put({name:n}).catch(ee)}(e._deps,l),s()}),o)}))))]).then((()=>(i(),n.onReadyBeingFired=[],Ce.resolve(xn((()=>e.on.ready.fire(e.vip)))).then((function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(ue,ee);return n.onReadyBeingFired=[],Ce.resolve(xn((()=>r(e.vip)))).then(t)}}))))).finally((()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((()=>e)).catch((t=>{n.dbOpenError=t;try{a&&a.abort()}catch(e){}return s===n.openCanceller&&e._close(),ht(t)})).finally((()=>{n.openComplete=!0,o()}))}function Pn(e){var t=t=>e.next(t),r=i(t),s=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&\"function\"==typeof o.then?o.then(r,s):n(o)?Promise.all(o).then(r,s):r(o)}}return i(t)()}function Kn(e,t,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument(\"Too few arguments\");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=k(s);return[e,i,n]}function On(e,t,n,r,s){return Ce.resolve().then((()=>{const i=Ke.transless||Ke,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>On(e,t,n,null,s)))):ht(r)}const u=T(s);let l;u&&Ze();const c=Ce.follow((()=>{if(l=s.call(o,o),l)if(u){var e=et.bind(null,null);l.then(e,e)}else\"function\"==typeof l.next&&\"function\"==typeof l.throw&&(l=Pn(l))}),a);return(l&&\"function\"==typeof l.then?Ce.resolve(l).then((e=>o.active?e:ht(new X.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")))):c.then((()=>l))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),ht(e))))}))}function Sn(e,t,r){const s=n(e)?e.slice():[e];for(let e=0;e<r;++e)s.push(t);return s}const An={stack:\"dbcore\",name:\"VirtualIndexMiddleware\",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(e,t,n){const r=an(e),a=s[r]=s[r]||[],u=null==e?0:\"string\"==typeof e?1:e.length,l=t>0,c={...n,isVirtual:l,keyTail:t,keyLength:u,extractKey:rn(e),unique:!l&&n.unique};if(a.push(c),c.isPrimaryKey||i.push(c),u>1){o(2===u?e[0]:e.slice(0,u-1),t+1,n)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[\":id\"]=[a];for(const e of r.indexes)o(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:Sn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Sn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const l={...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[an(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:i}=t.query.index;if(!s)return n.openCursor(t);return n.openCursor(u(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(Sn(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(Sn(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return s}(n)))}};return l}}}};function Cn(e,n,r,s){return r=r||{},s=s||\"\",t(e).forEach((t=>{if(o(n,t)){var i=e[t],a=n[t];if(\"object\"==typeof i&&\"object\"==typeof a&&i&&a){const e=C(i);e!==C(a)?r[s+t]=n[t]:\"Object\"===e?Cn(i,a,r,s+t+\".\"):i!==a&&(r[s+t]=n[t])}else i!==a&&(r[s+t]=n[t])}else r[s+t]=void 0})),t(n).forEach((t=>{o(e,t)||(r[s+t]=n[t])})),r}const jn={stack:\"dbcore\",name:\"HooksMiddleware\",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=Ke.trans,{deleting:i,creating:a,updating:u}=s.table(t).hook;switch(e.type){case\"add\":if(a.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"put\":if(a.fire===ee&&u.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"delete\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"deleteRange\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Ke.trans,s=e.keys||function(e,t){return\"delete\"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error(\"Keys missing\");return\"delete\"!==(e=\"add\"===e.type||\"put\"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return\"add\"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:\"immutable\"})}(n,e,s).then((l=>{const c=s.map(((n,s)=>{const c=l[s],h={onerror:null,onsuccess:null};if(\"delete\"===e.type)i.fire.call(h,n,c,t);else if(\"add\"===e.type||void 0===c){const i=a.fire.call(h,n,e.values[s],t);null==n&&null!=i&&(n=i,e.keys[s]=n,r.outbound||_(e.values[s],r.keyPath,n))}else{const r=Cn(c,e.values[s]),i=u.fire.call(h,r,n,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{o(t,e)?t[e]=i[e]:_(t,e,i[e])}))}}return h}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<s.length;++r){const i=n?n[r]:s[r],o=c[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess(\"put\"===e.type&&l[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>l({type:\"delete\",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function Dn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===Tt(t.keys[s],e[i])&&(r.push(n?O(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch(e){return null}}const In={stack:\"dbcore\",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Dn(e.keys,e.trans._cache,\"clone\"===e.cache);return t?Ce.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:\"clone\"===e.cache?O(t):t},t)))},mutate:e=>(\"add\"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Bn(e){return!(\"from\"in e)}const Tn=function(e,t){if(!this){const t=new Tn;return e&&\"d\"in e&&r(t,e),t}r(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Rn(e,t,n){const s=Tt(t,n);if(isNaN(s))return;if(s>0)throw RangeError();if(Bn(e))return r(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Tt(n,e.from)<0)return i?Rn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},qn(e);if(Tt(t,e.to)>0)return o?Rn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},qn(e);Tt(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Tt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Fn(e,i),o&&a&&Fn(e,o)}function Fn(e,t){Bn(t)||function e(t,{from:n,to:r,l:s,r:i}){Rn(t,n,r),s&&e(t,s),i&&e(t,i)}(e,t)}function Mn(e,t){const n=Nn(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Nn(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(Tt(a.from,s.to)<=0&&Tt(a.to,s.from)>=0)return!0;Tt(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function Nn(e){let t=Bn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Tt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Tt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function qn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?\"r\":r<-1?\"l\":\"\";if(s){const t=\"r\"===s?\"l\":\"r\",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=$n(n)}e.d=$n(e)}function $n({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}a(Tn.prototype,{add(e){return Fn(this,e),this},addKey(e){return Rn(this,e,e),this},addKeys(e){return e.forEach((e=>Rn(this,e,e))),this},[j](){return Nn(this)}});const Un={stack:\"dbcore\",level:0,create:e=>{const r=e.schema.name,s=new Tn(e.MIN_KEY,e.MAX_KEY);return{...e,table:i=>{const o=e.table(i),{schema:a}=o,{primaryKey:u}=a,{extractKey:l,outbound:c}=u,h={...o,mutate:e=>{const t=e.trans,u=t.mutatedParts||(t.mutatedParts={}),l=e=>{const t=`idb://${r}/${i}/${e}`;return u[t]||(u[t]=new Tn)},c=l(\"\"),h=l(\":dels\"),{type:d}=e;let[f,p]=\"deleteRange\"===e.type?[e.range]:\"delete\"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const y=e.trans._cache;return o.mutate(e).then((e=>{if(n(f)){\"delete\"!==d&&(f=e.results),c.addKeys(f);const t=Dn(f,y);t||\"add\"===d||h.addKeys(f),(t||p)&&function(e,t,r,s){function i(t){const i=e(t.name||\"\");function o(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&n(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||s).forEach(((e,t)=>{const n=r&&o(r[t]),i=s&&o(s[t]);0!==Tt(n,i)&&(null!=n&&a(n),null!=i&&a(i))}))}t.indexes.forEach(i)}(l,a,t,p)}else if(f){const e={from:f.lower,to:f.upper};h.add(e),c.add(e)}else c.add(s),h.add(s),a.indexes.forEach((e=>l(e.name).add(s)));return e}))}},d=({query:{index:t,range:n}})=>{var r,s;return[t,new Tn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},f={get:e=>[u,new Tn(e.key)],getMany:e=>[u,(new Tn).addKeys(e.keys)],count:d,query:d,openCursor:d};return t(f).forEach((e=>{h[e]=function(t){const{subscr:n}=Ke;if(n){const a=e=>{const t=`idb://${r}/${i}/${e}`;return n[t]||(n[t]=new Tn)},u=a(\"\"),h=a(\":dels\"),[d,p]=f[e](t);if(a(d.name||\"\").add(p),!d.isPrimaryKey){if(\"count\"!==e){const n=\"query\"===e&&c&&t.values&&o.query({...t,values:!1});return o[e].apply(this,arguments).then((r=>{if(\"query\"===e){if(c&&t.values)return n.then((({result:e})=>(u.addKeys(e),r)));const e=t.values?r.result.map(l):r.result;t.values?u.addKeys(e):h.addKeys(e)}else if(\"openCursor\"===e){const e=r,n=t.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(n&&u.addKey(e.primaryKey),e.value)}})}return r}))}h.add(s)}}return o[e].apply(this,arguments)}})),h}}}};class Ln{constructor(e,t){this._middlewares={},this.verno=0;const n=Ln.dependencies;this._options=t={addons:Ln.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new Ce((e=>{s.dbReadyResolve=e})),s.openCanceller=new Ce(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=Pt(this,\"populate\",\"blocked\",\"versionchange\",\"close\",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,n)=>{Ln.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Ce.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,Kt(Mt.prototype,(function(e,t){this.db=i;let n=wt,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:\"next\",unique:\"\",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==te?a:null}}))),this.Table=Ot(this),this.Transaction=function(e){return Kt(Jt.prototype,(function(t,n,r,s,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Pt(this,\"complete\",\"error\",\"abort\"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ht(e)}))}))}(this),this.Version=function(e){return Kt(bn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Kt(Gt.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:\":id\"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new X.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on(\"versionchange\",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on(\"blocked\",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=nn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on(\"blocked\").fire(e),yt.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on(\"versionchange\").fire(e)))},this.use(An),this.use(jn),this.use(Un),this.use(In);const o=Object.create(this);o._vip=!0,o.Table=Ot(o),o._allTables={},this.vip=o,r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new X.Type(\"Given version is not a positive number\");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema(\"Cannot add version when database is open\");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(dn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?e():new Ce(((e,t)=>{if(this._state.openComplete)return t(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return En(this)}_close(){const e=this._state,t=yt.indexOf(this);if(t>=0&&yt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Ce((t=>{e.dbReadyResolve=t})),e.openCanceller=new Ce(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new X.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Ce(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=We((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!wn(e)&&\"__dbnames\"!==n&&_n(e,t).delete(n).catch(ee)}(this._deps,this.name),n()})),e.onerror=Ht(r),e.onblocked=this._fireOnBlocked};if(e)throw new X.InvalidArgument(\"Arguments not allowed in db.delete()\");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&\"DatabaseClosed\"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Kn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ke.trans;r&&r.db===this&&-1===e.indexOf(\"!\")||(r=null);const s=-1!==e.indexOf(\"?\");let i,o;e=e.replace(\"!\",\"\").replace(\"?\",\"\");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if(\"string\"!=typeof t)throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");return t})),\"r\"==e||\"readonly\"===e)i=\"readonly\";else{if(\"rw\"!=e&&\"readwrite\"!=e)throw new X.InvalidArgument(\"Invalid transaction mode: \"+e);i=\"readwrite\"}if(r){if(\"readonly\"===r.mode&&\"readwrite\"===i){if(!s)throw new X.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new X.SubTransaction(\"Table \"+e+\" not included in parent transaction.\");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):ht(e)}const a=On.bind(null,this,i,o,r,n);return r?r._promise(i,a,\"lock\"):Ke.trans?ot(Ke.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!o(this._allTables,e))throw new X.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Vn=\"undefined\"!=typeof Symbol&&\"observable\"in Symbol?Symbol.observable:\"@@observable\";class Wn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&\"function\"!=typeof e?e:{next:e,error:t,complete:n})}[Vn](){return this}}function Yn(e,n){return t(n).forEach((t=>{Fn(e[t]||(e[t]=new Tn),n[t])})),e}function zn(e){return new Wn((n=>{const r=T(e);let s=!1,i={},o={};const a={get closed(){return s},unsubscribe:()=>{s=!0,Xt.storagemutated.unsubscribe(h)}};n.start&&n.start(a);let u=!1,l=!1;function c(){return t(o).some((e=>i[e]&&Mn(i[e],o[e])))}const h=e=>{Yn(i,e),c()&&d()},d=()=>{if(u||s)return;i={};const t={},f=function(t){r&&Ze();const n=()=>Je(e,{subscr:t,trans:null}),s=Ke.trans?ot(Ke.transless,n):n();return r&&s.then(et,et),s}(t);l||(Xt(\"storagemutated\",h),l=!0),u=!0,Promise.resolve(f).then((e=>{u=!1,s||(c()?d():(i={},o=t,n.next&&n.next(e)))}),(e=>{[\"DatabaseClosedError\",\"AbortError\"].includes(null==e?void 0:e.name)||(u=!1,n.error&&n.error(e),a.unsubscribe())}))};return d(),a}))}let Gn;try{Gn={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e){Gn={indexedDB:null,IDBKeyRange:null}}const Hn=Ln;function Qn(e){let t=Xn;try{Xn=!0,Xt.storagemutated.fire(e)}finally{Xn=t}}a(Hn,{...Z,delete:e=>new Hn(e,{addons:[]}).delete(),exists:e=>new Hn(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch(\"NoSuchDatabaseError\",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return wn(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>\"__dbnames\"!==e)))):_n(e,t).toCollection().primaryKeys()}(Hn.dependencies).then(e)}catch(e){return ht(new X.MissingAPI)}},defineClass:()=>function(e){r(this,e)},ignoreTransaction:e=>Ke.trans?ot(Ke.transless,e):e(),vip:xn,async:function(e){return function(){try{var t=Pn(e.apply(this,arguments));return t&&\"function\"==typeof t.then?t:Ce.resolve(t)}catch(e){return ht(e)}}},spawn:function(e,t,n){try{var r=Pn(e.apply(n,t||[]));return r&&\"function\"==typeof r.then?r:Ce.resolve(r)}catch(e){return ht(e)}},currentTransaction:{get:()=>Ke.trans||null},waitFor:function(e,t){const n=Ce.resolve(\"function\"==typeof e?Hn.ignoreTransaction(e):e).timeout(t||6e4);return Ke.trans?Ke.trans.waitFor(n):n},Promise:Ce,debug:{get:()=>R,set:e=>{F(e,\"dexie\"===e?()=>!0:bt)}},derive:c,extend:r,props:a,override:y,Events:Pt,on:Xt,liveQuery:zn,extendObservabilitySet:Yn,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(e,t){\"string\"==typeof t?_(e,t,void 0):\"length\"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:w,deepClone:O,getObjectDiff:Cn,cmp:Tt,asap:v,minKey:-(1/0),addons:[],connections:yt,errnames:H,dependencies:Gn,semVer:\"4.0.0-alpha.2\",version:\"4.0.0-alpha.2\".split(\".\").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Hn.maxKey=nn(Hn.dependencies.IDBKeyRange),\"undefined\"!=typeof dispatchEvent&&\"undefined\"!=typeof addEventListener&&(Xt(\"storagemutated\",(e=>{if(!Xn){let t;mt?(t=document.createEvent(\"CustomEvent\"),t.initCustomEvent(\"x-storagemutated-1\",!0,!0,e)):t=new CustomEvent(\"x-storagemutated-1\",{detail:e}),Xn=!0,dispatchEvent(t),Xn=!1}})),addEventListener(\"x-storagemutated-1\",(({detail:e})=>{Xn||Qn(e)})));let Xn=!1;if(\"undefined\"!=typeof BroadcastChannel){const e=new BroadcastChannel(\"x-storagemutated-1\");Xt(\"storagemutated\",(t=>{Xn||e.postMessage(t)})),e.onmessage=e=>{e.data&&Qn(e.data)}}else if(\"undefined\"!=typeof self&&\"undefined\"!=typeof navigator){Xt(\"storagemutated\",(e=>{try{Xn||(\"undefined\"!=typeof localStorage&&localStorage.setItem(\"x-storagemutated-1\",JSON.stringify({trig:Math.random(),changedParts:e})),\"object\"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:\"x-storagemutated-1\",changedParts:e}))))}catch(e){}})),addEventListener(\"storage\",(e=>{if(\"x-storagemutated-1\"===e.key){const t=JSON.parse(e.newValue);t&&Qn(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener(\"message\",(function({data:e}){e&&\"x-storagemutated-1\"===e.type&&Qn(e.changedParts)}))}Ce.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!J[e.name])return e;var n=new J[e.name](t||e.message,e);return\"stack\"in e&&l(n,\"stack\",{get:function(){return this.inner.stack}}),n},F(R,bt);export{Ln as Dexie,kt as Entity,Tn as RangeSet,Tt as cmp,Ln as default,zn as liveQuery,Fn as mergeRanges,Mn as rangesOverlap};","import type {\n    BlobBuffer,\n    DeepReadonlyObject,\n    MaybeReadonly,\n    RxDocumentData,\n    RxDocumentMeta\n} from './types';\nimport {\n    default as deepClone\n} from 'clone';\n\n/**\n * Returns an error that indicates that a plugin is missing\n * We do not throw a RxError because this should not be handled\n * programmatically but by using the correct import\n */\nexport function pluginMissing(\n    pluginKey: string\n): Error {\n    const keyParts = pluginKey.split('-');\n    let pluginName = 'RxDB';\n    keyParts.forEach(part => {\n        pluginName += ucfirst(part);\n    });\n    pluginName += 'Plugin';\n    return new Error(\n        `You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { ${pluginName} } from 'rxdb/plugins/${pluginKey}';\n            addRxPlugin(${pluginName});\n        `\n    );\n}\n\n/**\n * this is a very fast hashing but its unsecure\n * @link http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery\n * @return a number as hash-result\n */\nexport function fastUnsecureHash(obj: any): number {\n    if (typeof obj !== 'string') obj = JSON.stringify(obj);\n    let hashValue = 0,\n        i, chr, len;\n    if (obj.length === 0) return hashValue;\n    for (i = 0, len = obj.length; i < len; i++) {\n        chr = obj.charCodeAt(i);\n        // tslint:disable-next-line\n        hashValue = ((hashValue << 5) - hashValue) + chr;\n        // tslint:disable-next-line\n        hashValue |= 0; // Convert to 32bit integer\n    }\n    if (hashValue < 0) hashValue = hashValue * -1;\n    return hashValue;\n}\n\n/**\n * Does a RxDB-specific hashing of the given data.\n * We use a static salt so using a rainbow-table\n * or google-ing the hash will not work.\n *\n * spark-md5 is used here\n * because pouchdb uses the same\n * and build-size could be reduced by 9kb\n * \n * TODO instead of using md5 we should use the hash method from the given RxStorage\n * this change would require some rewrites because the RxStorage hash is async.\n * So maybe it is even better to use non-cryptographic hashing like we do at fastUnsecureHash()\n * which would even be faster.\n */\nimport Md5 from 'spark-md5';\nexport const RXDB_HASH_SALT = 'rxdb-specific-hash-salt';\nexport function hash(msg: string | any): string {\n    if (typeof msg !== 'string') {\n        msg = JSON.stringify(msg);\n    }\n    return Md5.hash(RXDB_HASH_SALT + msg);\n}\n\n/**\n * Returns the current unix time in milliseconds\n * Because the accuracy of getTime() in javascript is bad,\n * and we cannot rely on performance.now() on all plattforms,\n * this method implements a way to never return the same value twice.\n * This ensures that when now() is called often, we do not loose the information\n * about which call came first and which came after.\n * Caution: Do not call this too often in a short timespan\n * because it might return 'the future'\n */\nlet _lastNow: number = 0;\n/**\n * Returns the current time in milliseconds,\n * also ensures to not return the same value twice.\n */\nexport function now(): number {\n    let ret = new Date().getTime();\n    if (ret <= _lastNow) {\n        ret = _lastNow + 1;\n    }\n    _lastNow = ret;\n    return ret;\n}\n\n/**\n * returns a promise that resolves on the next tick\n */\nexport function nextTick(): Promise<void> {\n    return new Promise(res => setTimeout(res, 0));\n}\n\nexport function promiseWait(ms: number = 0): Promise<void> {\n    return new Promise(res => setTimeout(res, ms));\n}\n\nexport function toPromise<T>(maybePromise: Promise<T> | T): Promise<T> {\n    if (maybePromise && typeof (maybePromise as any).then === 'function') {\n        // is promise\n        return maybePromise as any;\n    } else {\n        return Promise.resolve(maybePromise);\n    }\n}\n\nexport const PROMISE_RESOLVE_TRUE: Promise<true> = Promise.resolve(true);\nexport const PROMISE_RESOLVE_FALSE: Promise<false> = Promise.resolve(false);\nexport const PROMISE_RESOLVE_NULL: Promise<null> = Promise.resolve(null);\nexport const PROMISE_RESOLVE_VOID: Promise<void> = Promise.resolve();\n\nexport function requestIdlePromise(timeout: number | null = null) {\n    if (\n        typeof window === 'object' &&\n        (window as any)['requestIdleCallback']\n    ) {\n        return new Promise(\n            res => (window as any)['requestIdleCallback'](res, {\n                timeout\n            })\n        );\n    } else {\n        return promiseWait(0);\n    }\n}\n\n\n/**\n * like Promise.all() but runs in series instead of parallel\n * @link https://github.com/egoist/promise.series/blob/master/index.js\n * @param tasks array with functions that return a promise\n */\nexport function promiseSeries(\n    tasks: Function[],\n    initial?: any\n): Promise<any[]> {\n    return tasks\n        .reduce(\n            (current, next) => (current as any).then(next),\n            Promise.resolve(initial)\n        );\n}\n\n/**\n * run the callback if requestIdleCallback available\n * do nothing if not\n * @link https://developer.mozilla.org/de/docs/Web/API/Window/requestIdleCallback\n */\nexport function requestIdleCallbackIfAvailable(fun: Function): void {\n    if (\n        typeof window === 'object' &&\n        (window as any)['requestIdleCallback']\n    ) (window as any)['requestIdleCallback'](fun);\n}\n\n/**\n * uppercase first char\n */\nexport function ucfirst(str: string): string {\n    str += '';\n    const f = str.charAt(0)\n        .toUpperCase();\n    return f + str.substr(1);\n}\n\n/**\n * removes trailing and ending dots from the string\n */\nexport function trimDots(str: string): string {\n    // start\n    while (str.charAt(0) === '.')\n        str = str.substr(1);\n\n    // end\n    while (str.slice(-1) === '.')\n        str = str.slice(0, -1);\n\n    return str;\n}\n\n\nexport function runXTimes(xTimes: number, fn: (idx: number) => void) {\n    new Array(xTimes).fill(0).forEach((_v, idx) => fn(idx));\n}\n\nexport function ensureNotFalsy<T>(obj: T | false | undefined | null): T {\n    if (!obj) {\n        throw new Error('ensureNotFalsy() is falsy');\n    }\n    return obj;\n}\n\n/**\n * deep-sort an object so its attributes are in lexical order.\n * Also sorts the arrays inside of the object if no-array-sort not set\n */\nexport function sortObject(obj: any, noArraySort = false): any {\n    if (!obj) return obj; // do not sort null, false or undefined\n\n    // array\n    if (!noArraySort && Array.isArray(obj)) {\n        return obj\n            .sort((a, b) => {\n                if (typeof a === 'string' && typeof b === 'string')\n                    return a.localeCompare(b);\n\n                if (typeof a === 'object') return 1;\n                else return -1;\n            })\n            .map(i => sortObject(i, noArraySort));\n    }\n\n    // object\n    // array is also of type object\n    if (typeof obj === 'object' && !Array.isArray(obj)) {\n        if (obj instanceof RegExp)\n            return obj;\n\n        const out: any = {};\n        Object.keys(obj)\n            .sort((a, b) => a.localeCompare(b))\n            .forEach(key => {\n                out[key] = sortObject(obj[key], noArraySort);\n            });\n        return out;\n    }\n\n    // everything else\n    return obj;\n}\n\n\n/**\n * used to JSON.stringify() objects that contain a regex\n * @link https://stackoverflow.com/a/33416684 thank you Fabian Jakobs!\n */\nexport function stringifyFilter(key: string, value: any) {\n    if (value instanceof RegExp) {\n        return value.toString();\n    }\n    return value;\n}\n\n/**\n * get a random string which can be used with couchdb\n * @link http://stackoverflow.com/a/1349426/3443137\n */\nexport function randomCouchString(length: number = 10): string {\n    let text = '';\n    const possible = 'abcdefghijklmnopqrstuvwxyz';\n\n    for (let i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return text;\n}\n\n/**\n * A random string that is never inside of any storage\n */\nexport const RANDOM_STRING = 'Fz7SZXPmYJujkzjY1rpXWvlWBqoGAfAX';\n\n\nexport function lastOfArray<T>(ar: T[]): T {\n    return ar[ar.length - 1];\n}\n\n/**\n * shuffle the given array\n */\nexport function shuffleArray<T>(arr: T[]): T[] {\n    return arr.sort(() => (Math.random() - 0.5));\n}\n\n/**\n * Split array with items into smaller arrays with items\n * @link https://stackoverflow.com/a/7273794/3443137\n */\nexport function batchArray<T>(array: T[], batchSize: number): T[][] {\n    array = array.slice(0);\n    const ret: T[][] = [];\n    while (array.length) {\n        const batch = array.splice(0, batchSize);\n        ret.push(batch);\n    }\n    return ret;\n}\n\n\n/**\n * @link https://stackoverflow.com/a/15996017\n */\nexport function removeOneFromArrayIfMatches<T>(ar: T[], condition: (x: T) => boolean): T[] {\n    ar = ar.slice();\n    let i = ar.length;\n    let done = false;\n    while (i-- && !done) {\n        if (condition(ar[i])) {\n            done = true;\n            ar.splice(i, 1);\n        }\n    }\n    return ar;\n}\n\n\n/**\n * transforms the given adapter into a pouch-compatible object\n */\nexport function adapterObject(adapter: any): any {\n    let adapterObj: any = {\n        db: adapter\n    };\n    if (typeof adapter === 'string') {\n        adapterObj = {\n            adapter,\n            db: undefined,\n        };\n    }\n    return adapterObj;\n}\n\n\nfunction recursiveDeepCopy<T>(o: T | DeepReadonlyObject<T>): T {\n    if (!o) return o;\n    return deepClone(o, false) as any;\n}\nexport const clone = recursiveDeepCopy;\n\n/**\n * does a flat copy on the objects,\n * is about 3 times faster then using deepClone\n * @link https://jsperf.com/object-rest-spread-vs-clone/2\n */\nexport function flatClone<T>(obj: T | DeepReadonlyObject<T>): T {\n    return Object.assign({}, obj) as any;\n}\n\n/**\n * @link https://stackoverflow.com/a/11509718/3443137\n */\nexport function firstPropertyNameOfObject(obj: any): string {\n    return Object.keys(obj)[0];\n}\nexport function firstPropertyValueOfObject<T>(obj: { [k: string]: T }): T {\n    const key = Object.keys(obj)[0];\n    return obj[key];\n}\n\n\nimport isElectron from 'is-electron';\nexport const isElectronRenderer = isElectron();\n\n\n/**\n * returns a flattened object\n * @link https://gist.github.com/penguinboy/762197\n */\nexport function flattenObject(ob: any) {\n    const toReturn: any = {};\n\n    for (const i in ob) {\n        if (!ob.hasOwnProperty(i)) continue;\n\n        if ((typeof ob[i]) === 'object') {\n            const flatObject = flattenObject(ob[i]);\n            for (const x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) continue;\n\n                toReturn[i + '.' + x] = flatObject[x];\n            }\n        } else {\n            toReturn[i] = ob[i];\n        }\n    }\n    return toReturn;\n}\n\n\nexport function parseRevision(revision: string): { height: number; hash: string } {\n    const split = revision.split('-');\n    return {\n        height: parseInt(split[0], 10),\n        hash: split[1]\n    }\n}\n\nexport function getHeightOfRevision(revision: string): number {\n    return parseRevision(revision).height;\n}\n\n/**\n * Creates the next write revision for a given document.\n */\nexport function createRevision<RxDocType>(\n    docData: RxDocumentData<RxDocType> & {\n        /**\n         * Passing a revision is optional here,\n         * because it is anyway not needed to calculate\n         * the new revision.\n         */\n        _rev?: string;\n    },\n    previousDocData?: RxDocumentData<RxDocType>\n): string {\n\n    const previousRevision = previousDocData ? previousDocData._rev : null;\n    const previousRevisionHeigth = previousRevision ? parseRevision(previousRevision).height : 0;\n    const newRevisionHeight = previousRevisionHeigth + 1;\n\n    const docWithoutRev = Object.assign({}, docData, {\n        _rev: undefined,\n        _rev_tree: undefined\n    });\n    const diggestString = JSON.stringify(docWithoutRev);\n    const revisionHash = Md5.hash(diggestString);\n\n\n    return newRevisionHeight + '-' + revisionHash;\n}\n\n/**\n * overwrites the getter with the actual value\n * Mostly used for caching stuff on the first run\n */\nexport function overwriteGetterForCaching<ValueType = any>(\n    obj: any,\n    getterName: string,\n    value: ValueType\n): ValueType {\n    Object.defineProperty(obj, getterName, {\n        get: function () { return value; }\n    });\n    return value;\n}\n\n/**\n * returns true if the given name is likely a folder path\n */\nexport function isFolderPath(name: string) {\n    // do not check, if foldername is given\n    if (\n        name.includes('/') || // unix\n        name.includes('\\\\') // windows\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nexport function getFromMapOrThrow<K, V>(map: Map<K, V> | WeakMap<any, V>, key: K): V {\n    const val = map.get(key);\n    if (!val) {\n        throw new Error('missing value from map ' + key);\n    }\n    return val;\n}\n\nexport function getFromObjectOrThrow<V>(\n    obj: { [k: string]: V },\n    key: string\n): V {\n    const val = obj[key];\n    if (!val) {\n        throw new Error('missing value from object ' + key);\n    }\n    return val;\n}\n\n/**\n * returns true if the supplied argument is either an Array<T> or a Readonly<Array<T>>\n */\nexport function isMaybeReadonlyArray(x: any): x is MaybeReadonly<any[]> {\n    // While this looks strange, it's a workaround for an issue in TypeScript:\n    // https://github.com/microsoft/TypeScript/issues/17002\n    //\n    // The problem is that `Array.isArray` as a type guard returns `false` for a readonly array,\n    // but at runtime the object is an array and the runtime call to `Array.isArray` would return `true`.\n    // The type predicate here allows for both `Array<T>` and `Readonly<Array<T>>` to pass a type check while\n    // still performing runtime type inspection.\n    return Array.isArray(x);\n}\n\nexport const blobBufferUtil = {\n    /**\n     * depending if we are on node or browser,\n     * we have to use Buffer(node) or Blob(browser)\n     */\n    createBlobBuffer(\n        data: string,\n        type: string\n    ): BlobBuffer {\n\n        let blobBuffer: any;\n        if (isElectronRenderer) {\n            // if we are inside of electron-renderer, always use the node-buffer\n            return Buffer.from(data, {\n                type\n            } as any);\n        }\n\n        try {\n            // for browsers\n            blobBuffer = new Blob([data], {\n                type\n            } as any);\n        } catch (e) {\n            // for node\n            blobBuffer = Buffer.from(data, {\n                type\n            } as any);\n        }\n\n        return blobBuffer;\n    },\n    /**\n     * depending if we are on node or browser,\n     * we have to use Buffer(node) or Blob(browser)\n     */\n    async createBlobBufferFromBase64(\n        base64String: string,\n        type: string\n    ): Promise<BlobBuffer> {\n        let blobBuffer: any;\n        if (isElectronRenderer) {\n            // if we are inside of electron-renderer, always use the node-buffer\n            return Buffer.from(\n                base64String,\n                'base64'\n            );\n        }\n\n        try {\n            /**\n             * For browsers.\n             * @link https://ionicframework.com/blog/converting-a-base64-string-to-a-blob-in-javascript/\n             */\n            const base64Response = await fetch(`data:${type};base64,${base64String}`);\n            const blob = await base64Response.blob();\n            return blob;\n        } catch (e) {\n            // for node\n            blobBuffer = Buffer.from(\n                base64String,\n                'base64'\n            );\n        }\n\n        return blobBuffer;\n    },\n    isBlobBuffer(data: any): boolean {\n        if ((typeof Buffer !== 'undefined' && Buffer.isBuffer(data)) || data instanceof Blob) {\n            return true;\n        } else {\n            return false;\n        }\n    },\n    toString(blobBuffer: BlobBuffer | string): Promise<string> {\n        if (typeof blobBuffer === 'string') {\n            return Promise.resolve(blobBuffer);\n        }\n        if (typeof Buffer !== 'undefined' && blobBuffer instanceof Buffer) {\n            // node\n            return nextTick()\n                .then(() => blobBuffer.toString());\n        }\n        return new Promise(res => {\n            // browser\n            const reader = new FileReader();\n            reader.addEventListener('loadend', e => {\n                const text = (e.target as any).result;\n                res(text);\n            });\n\n            const blobBufferType = Object.prototype.toString.call(blobBuffer);\n\n            /**\n             * in the electron-renderer we have a typed array insteaf of a blob\n             * so we have to transform it.\n             * @link https://github.com/pubkey/rxdb/issues/1371\n             */\n            if (blobBufferType === '[object Uint8Array]') {\n                blobBuffer = new Blob([blobBuffer]);\n            }\n\n            reader.readAsText(blobBuffer as any);\n        });\n    },\n    toBase64String(blobBuffer: BlobBuffer | string): Promise<string> {\n        if (typeof blobBuffer === 'string') {\n            return Promise.resolve(blobBuffer);\n        }\n        if (typeof Buffer !== 'undefined' && blobBuffer instanceof Buffer) {\n            // node\n            return nextTick()\n                /**\n                 * We use btoa() instead of blobBuffer.toString('base64')\n                 * to ensure that we have the same behavior in nodejs and the browser.\n                 */\n                .then(() => blobBuffer.toString('base64'));\n        }\n        return new Promise((res, rej) => {\n            /**\n             * Browser\n             * @link https://ionicframework.com/blog/converting-a-base64-string-to-a-blob-in-javascript/\n             */\n            const reader = new FileReader;\n            reader.onerror = rej;\n            reader.onload = () => {\n                // looks like 'data:plain/text;base64,YWFh...'\n                const fullResult = reader.result as any;\n                const split = fullResult.split(',');\n                split.shift();\n                res(split.join(','));\n            };\n\n            const blobBufferType = Object.prototype.toString.call(blobBuffer);\n\n            /**\n             * in the electron-renderer we have a typed array insteaf of a blob\n             * so we have to transform it.\n             * @link https://github.com/pubkey/rxdb/issues/1371\n             */\n            if (blobBufferType === '[object Uint8Array]') {\n                blobBuffer = new Blob([blobBuffer]);\n            }\n\n            reader.readAsDataURL(blobBuffer as any);\n        });\n    },\n    size(blobBuffer: BlobBuffer): number {\n        if (typeof Buffer !== 'undefined' && blobBuffer instanceof Buffer) {\n            // node\n            return Buffer.byteLength(blobBuffer);\n        } else {\n            // browser\n            return (blobBuffer as Blob).size;\n        }\n    }\n};\n\n/**\n * Using shareReplay() without settings will not unsubscribe\n * if there are no more subscribers.\n * So we use these defaults.\n * @link https://cartant.medium.com/rxjs-whats-changed-with-sharereplay-65c098843e95\n */\nexport const RXJS_SHARE_REPLAY_DEFAULTS = {\n    bufferSize: 1,\n    refCount: true\n}\n\n/**\n * We use 1 as minimum so that the value is never falsy.\n * This const is used in several places because querying\n * with a value lower then the minimum could give false results.\n */\nexport const RX_META_LWT_MINIMUM = 1;\n\nexport function getDefaultRxDocumentMeta(): RxDocumentMeta {\n    return {\n        /**\n         * Set this to 1 to not waste performance\n         * while calling new Date()..\n         * The storage wrappers will anyway update\n         * the lastWrite time while calling transformDocumentDataFromRxDBToRxStorage()\n         */\n        lwt: RX_META_LWT_MINIMUM\n    }\n}\n\n/**\n * Returns a revision that is not valid.\n * Use this to have correct typings\n * while the storage wrapper anyway will overwrite the revision.\n */\nexport function getDefaultRevision(): string {\n    /**\n     * Use a non-valid revision format,\n     * to ensure that the RxStorage will throw\n     * when the revision is not replaced downstream.\n     */\n    return '';\n}\n\n\nexport function getSortDocumentsByLastWriteTimeComparator<RxDocType>(primaryPath: string) {\n    return (a: RxDocumentData<RxDocType>, b: RxDocumentData<RxDocType>) => {\n        if (a._meta.lwt === b._meta.lwt) {\n            if ((b as any)[primaryPath] < (a as any)[primaryPath]) {\n                return 1;\n            } else {\n                return -1;\n            }\n        } else {\n            return a._meta.lwt - b._meta.lwt;\n        }\n    };\n}\nexport function sortDocumentsByLastWriteTime<RxDocType>(\n    primaryPath: string,\n    docs: RxDocumentData<RxDocType>[]\n): RxDocumentData<RxDocType>[] {\n    return docs.sort(getSortDocumentsByLastWriteTimeComparator(primaryPath));\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/**\n * functions that can or should be overwritten by plugins\n * IMPORTANT: Do not import any big stuff from RxDB here,\n * the 'overwritable' can be used inside of WebWorkers for the RxStorage only and\n * we do not want to have the full RxDB lib bundled in them.\n */\n\nimport type { DeepReadonly } from './types/util';\nimport {\n    pluginMissing\n} from './util';\n\nexport const overwritable = {\n    /**\n     * if this method is overwritte with one\n     * that returns true, we do additional checks\n     * which help the developer but have bad performance\n     */\n    isDevMode(): boolean {\n        return false;\n    },\n\n    /**\n     * Deep freezes and object when in dev-mode.\n     * Deep-Freezing has the same performaance as deep-cloning, so we only do that in dev-mode.\n     * Also we can ensure the readonly state via typescript\n     * @link https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n     */\n    deepFreezeWhenDevMode<T>(obj: T): DeepReadonly<T> {\n        return obj as any;\n    },\n\n    /**\n     * validates if a password can be used\n     * @overwritten by plugin (optional)\n     * @throws if password not valid\n     */\n    validatePassword(_password: string | any): void {\n        throw pluginMissing('encryption');\n    },\n\n    /**\n     * overwritte to map error-codes to text-messages\n     */\n    tunnelErrorMessage(message: string): string {\n        return `RxDB Error-Code ${message}.\n        Error messages are not included in RxDB core to reduce build size.\n        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html\n        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=${message}\n        `;\n    }\n};\n","/**\n * here we use custom errors with the additional field 'parameters'\n */\n\nimport { overwritable } from './overwritable';\nimport type {\n    RxErrorParameters,\n    PouchWriteError,\n    RxErrorKey\n} from './types';\n\n/**\n * transform an object of parameters to a presentable string\n */\nfunction parametersToString(parameters: any): string {\n    let ret = '';\n    if (Object.keys(parameters).length === 0)\n        return ret;\n    ret += 'Given parameters: {\\n';\n    ret += Object.keys(parameters)\n        .map(k => {\n            let paramStr = '[object Object]';\n            try {\n                paramStr = JSON.stringify(\n                    parameters[k],\n                    (_k, v) => v === undefined ? null : v,\n                    2\n                );\n            } catch (e) { }\n            return k + ':' + paramStr;\n        })\n        .join('\\n');\n    ret += '}';\n    return ret;\n}\n\nfunction messageForError(\n    message: string,\n    code: string,\n    parameters: any\n): string {\n    return 'RxError (' + code + '):' + '\\n' +\n        message + '\\n' +\n        parametersToString(parameters);\n}\n\nexport class RxError extends Error {\n    public code: RxErrorKey;\n    public message: string;\n    public parameters: RxErrorParameters;\n    public rxdb: true;\n    constructor(\n        code: RxErrorKey,\n        message: string,\n        parameters: RxErrorParameters = {}\n    ) {\n        const mes = messageForError(message, code, parameters);\n        super(mes);\n        this.code = code;\n        this.message = mes;\n        this.parameters = parameters;\n        this.rxdb = true; // tag them as internal\n    }\n    get name(): string {\n        return 'RxError (' + this.code + ')';\n    }\n    toString(): string {\n        return this.message;\n    }\n    get typeError(): boolean {\n        return false;\n    }\n}\n\nexport class RxTypeError extends TypeError {\n    public code: RxErrorKey;\n    public message: string;\n    public parameters: RxErrorParameters;\n    public rxdb: true;\n    constructor(\n        code: RxErrorKey,\n        message: string,\n        parameters: RxErrorParameters = {}\n    ) {\n        const mes = messageForError(message, code, parameters);\n        super(mes);\n        this.code = code;\n        this.message = mes;\n        this.parameters = parameters;\n        this.rxdb = true; // tag them as internal\n    }\n    get name(): string {\n        return 'RxTypeError (' + this.code + ')';\n    }\n    toString(): string {\n        return this.message;\n    }\n    get typeError(): boolean {\n        return true;\n    }\n}\n\nexport function newRxError(\n    code: RxErrorKey,\n    parameters?: RxErrorParameters\n): RxError {\n    return new RxError(\n        code,\n        overwritable.tunnelErrorMessage(code),\n        parameters\n    );\n}\n\nexport function newRxTypeError(\n    code: RxErrorKey,\n    parameters?: RxErrorParameters\n): RxTypeError {\n    return new RxTypeError(\n        code,\n        overwritable.tunnelErrorMessage(code),\n        parameters\n    );\n}\n\nexport function isPouchdbConflictError(err: RxError | RxTypeError): boolean {\n    if (\n        err.parameters && err.parameters.pouchDbError &&\n        (err.parameters.pouchDbError as PouchWriteError).status === 409\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n","import objectPath from 'object-path';\nimport { newRxError } from './rx-error';\nimport type {\n    CompositePrimaryKey,\n    JsonSchema,\n    PrimaryKey,\n    RxDocumentData,\n    RxJsonSchema,\n    StringKeys\n} from './types';\nimport { clone, flatClone, isMaybeReadonlyArray, RX_META_LWT_MINIMUM, sortObject, trimDots } from './util';\n\n/**\n * Helper function to create a valid RxJsonSchema\n * with a given version.\n */\nexport function getPseudoSchemaForVersion<T = any>(\n    version: number,\n    primaryKey: StringKeys<T>\n): RxJsonSchema<RxDocumentData<T>> {\n    const pseudoSchema: RxJsonSchema<RxDocumentData<T>> = fillWithDefaultSettings({\n        version,\n        type: 'object',\n        primaryKey: primaryKey as any,\n        properties: {\n            [primaryKey]: {\n                type: 'string',\n                maxLength: 100\n            }\n        } as any,\n        required: [primaryKey]\n    });\n    return pseudoSchema;\n}\n\n/**\n * Returns the sub-schema for a given path\n */\nexport function getSchemaByObjectPath<T = any>(\n    rxJsonSchema: RxJsonSchema<T>,\n    path: keyof T | string\n): JsonSchema {\n    let usePath: string = path as string;\n    usePath = usePath.replace(/\\./g, '.properties.');\n    usePath = 'properties.' + usePath;\n    usePath = trimDots(usePath);\n\n    const ret = objectPath.get(rxJsonSchema, usePath);\n    return ret;\n}\n\nexport function fillPrimaryKey<T>(\n    primaryPath: keyof T,\n    jsonSchema: RxJsonSchema<T>,\n    documentData: RxDocumentData<T>\n): RxDocumentData<T> {\n    const cloned = flatClone(documentData);\n    const newPrimary = getComposedPrimaryKeyOfDocumentData<T>(\n        jsonSchema,\n        documentData\n    );\n    const existingPrimary: string | undefined = documentData[primaryPath] as any;\n    if (\n        existingPrimary &&\n        existingPrimary !== newPrimary\n    ) {\n        throw newRxError(\n            'DOC19',\n            {\n                args: {\n                    documentData,\n                    existingPrimary,\n                    newPrimary,\n                },\n                schema: jsonSchema\n            });\n    }\n\n    (cloned as any)[primaryPath] = newPrimary;\n    return cloned;\n}\n\nexport function getPrimaryFieldOfPrimaryKey<RxDocType>(\n    primaryKey: PrimaryKey<RxDocType>\n): keyof RxDocType {\n    if (typeof primaryKey === 'string') {\n        return primaryKey as any;\n    } else {\n        return (primaryKey as CompositePrimaryKey<RxDocType>).key;\n    }\n}\n\n/**\n * Returns the composed primaryKey of a document by its data.\n */\nexport function getComposedPrimaryKeyOfDocumentData<RxDocType>(\n    jsonSchema: RxJsonSchema<RxDocType> | RxJsonSchema<RxDocumentData<RxDocType>>,\n    documentData: Partial<RxDocType>\n): string {\n    if (typeof jsonSchema.primaryKey === 'string') {\n        return (documentData as any)[jsonSchema.primaryKey];\n    }\n\n    const compositePrimary: CompositePrimaryKey<RxDocType> = jsonSchema.primaryKey as any;\n    return compositePrimary.fields.map(field => {\n        const value = objectPath.get(documentData as any, field as string);\n        if (typeof value === 'undefined') {\n            throw newRxError('DOC18', { args: { field, documentData } });\n        }\n        return value;\n    }).join(compositePrimary.separator);\n}\n\n\n/**\n * Normalize the RxJsonSchema.\n * We need this to ensure everything is set up properly\n * and we have the same hash on schemas that represent the same value but\n * have different json.\n * \n * - Orders the schemas attributes by alphabetical order\n * - Adds the primaryKey to all indexes that do not contain the primaryKey\n * - We need this for determinstic sort order on all queries, which is required for event-reduce to work.\n *\n * @return RxJsonSchema - ordered and filled\n */\nexport function normalizeRxJsonSchema<T>(jsonSchema: RxJsonSchema<T>): RxJsonSchema<T> {\n    // TODO do we need the deep clone() here?\n    const normalizedSchema: RxJsonSchema<T> = sortObject(clone(jsonSchema));\n\n    // indexes must NOT be sorted because sort order is important here.\n    if (jsonSchema.indexes) {\n        normalizedSchema.indexes = Array.from(jsonSchema.indexes);\n    }\n\n    // primaryKey.fields must NOT be sorted because sort order is important here.\n    if (\n        typeof normalizedSchema.primaryKey === 'object' &&\n        typeof jsonSchema.primaryKey === 'object'\n    ) {\n        normalizedSchema.primaryKey.fields = jsonSchema.primaryKey.fields;\n    }\n\n\n\n    return normalizedSchema;\n}\n\n/**\n * fills the schema-json with default-settings\n * @return cloned schemaObj\n */\nexport function fillWithDefaultSettings<T = any>(\n    schemaObj: RxJsonSchema<T>\n): RxJsonSchema<RxDocumentData<T>> {\n    schemaObj = flatClone(schemaObj);\n    const primaryPath: string = getPrimaryFieldOfPrimaryKey(schemaObj.primaryKey) as string;\n    schemaObj.properties = flatClone(schemaObj.properties);\n\n    // additionalProperties is always false\n    schemaObj.additionalProperties = false;\n\n    // fill with key-compression-state ()\n    if (!schemaObj.hasOwnProperty('keyCompression')) {\n        schemaObj.keyCompression = false;\n    }\n\n    // indexes must be array\n    schemaObj.indexes = schemaObj.indexes ? schemaObj.indexes.slice(0) : [];\n\n    // required must be array\n    schemaObj.required = schemaObj.required ? schemaObj.required.slice(0) : [];\n\n    // encrypted must be array\n    schemaObj.encrypted = schemaObj.encrypted ? schemaObj.encrypted.slice(0) : [];\n\n    /**\n     * TODO we should not need to add the internal fields to the schema.\n     * Better remove the fields before validation.\n     */\n    // add _rev\n    (schemaObj.properties as any)._rev = {\n        type: 'string',\n        minLength: 1\n    };\n\n    // add attachments\n    (schemaObj.properties as any)._attachments = {\n        type: 'object'\n    };\n\n    // add deleted flag\n    (schemaObj.properties as any)._deleted = {\n        type: 'boolean'\n    };\n\n    // add meta property\n    (schemaObj.properties as any)._meta = RX_META_SCHEMA;\n\n    /**\n     * meta fields are all required\n     */\n    schemaObj.required = schemaObj.required ? schemaObj.required.slice(0) : [];\n    (schemaObj.required as string[]).push('_deleted');\n    (schemaObj.required as string[]).push('_rev');\n    (schemaObj.required as string[]).push('_meta');\n    (schemaObj.required as string[]).push('_attachments');\n\n    // final fields are always required\n    const finalFields = getFinalFields(schemaObj);\n    schemaObj.required = schemaObj.required\n        .concat(finalFields as any)\n        .filter((field: string) => !field.includes('.'))\n        .filter((elem: any, pos: any, arr: any) => arr.indexOf(elem) === pos); // unique;\n\n    // version is 0 by default\n    schemaObj.version = schemaObj.version || 0;\n\n    /**\n     * Append primary key to indexes that do not contain the primaryKey.\n     * All indexes must have the primaryKey to ensure a deterministic sort order.\n     */\n    if (schemaObj.indexes) {\n        schemaObj.indexes = schemaObj.indexes.map(index => {\n            const arIndex = isMaybeReadonlyArray(index) ? index.slice(0) : [index];\n            if (!arIndex.includes(primaryPath)) {\n                const modifiedIndex = arIndex.slice(0);\n                modifiedIndex.push(primaryPath);\n                return modifiedIndex;\n            }\n            return arIndex;\n        });\n    }\n\n    return schemaObj as any;\n}\n\n\nexport const RX_META_SCHEMA: JsonSchema = {\n    type: 'object',\n    properties: {\n        /**\n         * The last-write time.\n         * Unix time in milliseconds.\n         */\n        lwt: {\n            type: 'number',\n            /**\n             * We use 1 as minimum so that the value is never falsy.\n             */\n            minimum: RX_META_LWT_MINIMUM,\n            maximum: 1000000000000000,\n            multipleOf: 1\n        }\n    },\n    /**\n     * Additional properties are allowed\n     * and can be used by plugins to set various flags.\n     */\n    additionalProperties: true as any,\n    required: [\n        'lwt'\n    ]\n}\n\n\n/**\n * returns the final-fields of the schema\n * @return field-names of the final-fields\n */\nexport function getFinalFields<T = any>(\n    jsonSchema: RxJsonSchema<T>\n): string[] {\n    const ret = Object.keys(jsonSchema.properties)\n        .filter(key => (jsonSchema as any).properties[key].final);\n\n    // primary is also final\n    const primaryPath = getPrimaryFieldOfPrimaryKey(jsonSchema.primaryKey);\n    ret.push(primaryPath as string);\n\n    // fields of composite primary are final\n    if (typeof jsonSchema.primaryKey !== 'string') {\n        (jsonSchema.primaryKey as CompositePrimaryKey<T>).fields\n            .forEach(field => ret.push(field as string));\n    }\n\n    return ret;\n}\n","import type {\n    DeterministicSortComparator\n} from 'event-reduce-js';\nimport mingo from 'mingo';\nimport type {\n    DexieStorageInternals,\n    MangoQuery,\n    RxDocumentData,\n    RxJsonSchema\n} from '../../types';\nimport { Dexie } from 'dexie';\nimport { DexieSettings } from '../../types';\nimport { flatClone } from '../../util';\nimport { newRxError } from '../../rx-error';\nimport { getPrimaryFieldOfPrimaryKey } from '../../rx-schema-helper';\n\nexport const DEXIE_DOCS_TABLE_NAME = 'docs';\nexport const DEXIE_DELETED_DOCS_TABLE_NAME = 'deleted-docs';\nexport const DEXIE_CHANGES_TABLE_NAME = 'changes';\n\n\nconst DEXIE_STATE_DB_BY_NAME: Map<string, DexieStorageInternals> = new Map();\nconst REF_COUNT_PER_DEXIE_DB: Map<DexieStorageInternals, number> = new Map();\nexport function getDexieDbWithTables(\n    databaseName: string,\n    collectionName: string,\n    settings: DexieSettings,\n    schema: RxJsonSchema<any>\n): DexieStorageInternals {\n    const primaryPath: string = getPrimaryFieldOfPrimaryKey(schema.primaryKey) as any;\n    const dexieDbName = 'rxdb-dexie-' + databaseName + '--' + schema.version + '--' + collectionName;\n    let state = DEXIE_STATE_DB_BY_NAME.get(dexieDbName);\n    if (!state) {\n        state = (async () => {\n            /**\n             * IndexedDB was not designed for dynamically adding tables on the fly,\n             * so we create one dexie database per RxDB storage instance.\n             * @link https://github.com/dexie/Dexie.js/issues/684#issuecomment-373224696\n             */\n            const useSettings = flatClone(settings);\n            useSettings.autoOpen = false;\n            const dexieDb = new Dexie(dexieDbName, useSettings);\n            dexieDb.version(1).stores({\n                [DEXIE_DOCS_TABLE_NAME]: getDexieStoreSchema(schema),\n                [DEXIE_CHANGES_TABLE_NAME]: '++sequence, id',\n                /**\n                 * Instead of adding {deleted: false} to every query we run over the document store,\n                 * we move deleted documents into a separate store where they can only be queried\n                 * by primary key.\n                 * This increases performance because it is way easier for the query planner to select\n                 * a good index and we also do not have to add the _deleted field to every index.\n                 * \n                 * We also need the [_meta.lwt+' + primaryPath + '] index for getChangedDocumentsSince()\n                 */\n                [DEXIE_DELETED_DOCS_TABLE_NAME]: primaryPath + ',_meta.lwt,[_meta.lwt+' + primaryPath + ']'\n            });\n            await dexieDb.open();\n            return {\n                dexieDb,\n                dexieTable: (dexieDb as any)[DEXIE_DOCS_TABLE_NAME],\n                dexieDeletedTable: (dexieDb as any)[DEXIE_DELETED_DOCS_TABLE_NAME],\n                dexieChangesTable: (dexieDb as any)[DEXIE_CHANGES_TABLE_NAME]\n            };\n        })();\n\n        DEXIE_STATE_DB_BY_NAME.set(dexieDbName, state);\n        REF_COUNT_PER_DEXIE_DB.set(state, 0);\n    }\n\n    return state;\n}\n\nexport async function closeDexieDb(statePromise: DexieStorageInternals) {\n    const state = await statePromise;\n    const prevCount = REF_COUNT_PER_DEXIE_DB.get(statePromise);\n    const newCount = (prevCount as any) - 1;\n    if (newCount === 0) {\n        state.dexieDb.close();\n        REF_COUNT_PER_DEXIE_DB.delete(statePromise);\n    } else {\n        REF_COUNT_PER_DEXIE_DB.set(statePromise, newCount);\n    }\n}\n\n\nfunction sortDirectionToMingo(direction: 'asc' | 'desc'): 1 | -1 {\n    if (direction === 'asc') {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n/**\n * This function is at dexie-helper\n * because we need it in multiple places.\n */\nexport function getDexieSortComparator<RxDocType>(\n    _schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: MangoQuery<RxDocType>\n): DeterministicSortComparator<RxDocType> {\n    const mingoSortObject: {\n        [fieldName: string]: 1 | -1;\n    } = {};\n\n    if (!query.sort) {\n        throw newRxError('SNH', { query });\n    }\n\n    query.sort.forEach(sortBlock => {\n        const key = Object.keys(sortBlock)[0];\n        const direction = Object.values(sortBlock)[0];\n        mingoSortObject[key] = sortDirectionToMingo(direction);\n    });\n\n    const fun: DeterministicSortComparator<RxDocType> = (a: RxDocType, b: RxDocType) => {\n        const sorted = mingo.find([a, b], {}).sort(mingoSortObject);\n        const first = sorted.next();\n        if (first === a) {\n            return -1;\n        } else {\n            return 1;\n        }\n    }\n\n    return fun;\n}\n\n\n\n\n/**\n * It is not possible to set non-javascript-variable-syntax\n * keys as IndexedDB indexes. So we have to substitute the pipe-char\n * which comes from the key-compression plugin.\n */\nexport const DEXIE_PIPE_SUBSTITUTE = '__';\nexport function dexieReplaceIfStartsWithPipe(str: string): string {\n    if (str.startsWith('|')) {\n        const withoutFirst = str.substring(1);\n        return DEXIE_PIPE_SUBSTITUTE + withoutFirst;\n    } else {\n        return str;\n    }\n}\n\nexport function dexieReplaceIfStartsWithPipeRevert(str: string): string {\n    if (str.startsWith(DEXIE_PIPE_SUBSTITUTE)) {\n        const withoutFirst = str.substring(DEXIE_PIPE_SUBSTITUTE.length);\n        return '|' + withoutFirst;\n    } else {\n        return str;\n    }\n}\n\n/**\n * @recursive\n */\nexport function fromStorageToDexie(documentData: RxDocumentData<any>): any {\n    if (!documentData) {\n        return documentData;\n    }\n    if (Array.isArray(documentData)) {\n        return documentData.map(row => fromStorageToDexie(row));\n    }\n\n    const ret: any = {};\n    Object.entries(documentData).forEach(([key, value]) => {\n        if (typeof value === 'object') {\n            value = fromStorageToDexie(value);\n        }\n        ret[dexieReplaceIfStartsWithPipe(key)] = value;\n    });\n    return ret;\n}\n\nexport function fromDexieToStorage(documentData: any): RxDocumentData<any> {\n    if (Array.isArray(documentData)) {\n        return documentData.map(row => fromDexieToStorage(row));\n    }\n\n    const ret: any = {};\n    Object.entries(documentData).forEach(([key, value]) => {\n        if (typeof value === 'object') {\n            value = fromStorageToDexie(value);\n        }\n        ret[dexieReplaceIfStartsWithPipeRevert(key)] = value;\n    });\n    return ret;\n}\n\n\n/**\n * Creates a string that can be used to create the dexie store.\n * @link https://dexie.org/docs/API-Reference#quick-reference\n */\nexport function getDexieStoreSchema(\n    rxJsonSchema: RxJsonSchema<any>\n): string {\n    let parts: string[][] = [];\n\n    /**\n     * First part must be the primary key\n     * @link https://github.com/dexie/Dexie.js/issues/1307#issuecomment-846590912\n     */\n    const primaryKey: string = getPrimaryFieldOfPrimaryKey(rxJsonSchema.primaryKey) as string;\n    parts.push([primaryKey]);\n\n    // add other indexes\n    if (rxJsonSchema.indexes) {\n        rxJsonSchema.indexes.forEach(index => {\n            const arIndex = Array.isArray(index) ? index : [index];\n            parts.push(arIndex);\n        });\n    }\n\n    // we also need the _meta.lwt+primaryKey index for the getChangedDocumentsSince() method.\n    parts.push(['_meta.lwt', primaryKey]);\n\n    /**\n     * It is not possible to set non-javascript-variable-syntax\n     * keys as IndexedDB indexes. So we have to substitute the pipe-char\n     * which comes from the key-compression plugin.\n     */\n    parts = parts.map(part => {\n        return part.map(str => dexieReplaceIfStartsWithPipe(str))\n    });\n\n    return parts.map(part => {\n        if (part.length === 1) {\n            return part[0];\n        } else {\n            return '[' + part.join('+') + ']';\n        }\n    }).join(', ');\n}\n\n/**\n * Returns all documents in the database.\n * Non-deleted plus deleted ones.\n */\nexport async function getDocsInDb<RxDocType>(\n    internals: DexieStorageInternals,\n    docIds: string[]\n): Promise<RxDocumentData<RxDocType>[]> {\n    const state = await internals;\n    const [\n        nonDeletedDocsInDb,\n        deletedDocsInDb\n    ] = await Promise.all([\n        state.dexieTable.bulkGet(docIds),\n        state.dexieDeletedTable.bulkGet(docIds)\n    ]);\n    const docsInDb = deletedDocsInDb.slice(0);\n    nonDeletedDocsInDb.forEach((doc, idx) => {\n        if (doc) {\n            docsInDb[idx] = doc;\n        }\n    });\n    return docsInDb;\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined,\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import type {\n    ChangeStreamEvent,\n    MaybeReadonly,\n    PouchChangeRow,\n    PouchDBInstance,\n    RxAttachmentData,\n    RxAttachmentWriteData,\n    RxDocumentData,\n    RxDocumentWriteData,\n    RxLocalDocumentData,\n    WithAttachments\n} from '../../types';\nimport type { RxStorageInstancePouch } from './rx-storage-instance-pouch';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport {\n    blobBufferUtil,\n    flatClone,\n    getHeightOfRevision\n} from '../../util';\nimport { newRxError } from '../../rx-error';\nimport type { ChangeEvent } from 'event-reduce-js';\nimport { getAttachmentSize, hashAttachmentData } from '../../rx-storage-helper';\nimport { RxStoragePouchStatics } from './pouch-statics';\n\nexport type PouchStorageInternals = {\n    pouch: PouchDBInstance;\n};\n\n/**\n * Used to check in tests if all instances have been cleaned up.\n */\nexport const OPEN_POUCHDB_STORAGE_INSTANCES: Set<RxStorageInstancePouch<any>> = new Set();\n\n/**\n * prefix of local pouchdb documents\n */\nexport const POUCHDB_LOCAL_PREFIX: '_local/' = '_local/';\nexport const POUCHDB_LOCAL_PREFIX_LENGTH = POUCHDB_LOCAL_PREFIX.length;\n\n/**\n * Pouchdb stores indexes as design documents,\n * we have to filter them out and not return the\n * design documents to the outside.\n */\nexport const POUCHDB_DESIGN_PREFIX: '_design/' = '_design/';\n\n\n/**\n * PouchDB does not allow to add custom properties\n * that start with lodash like RxDB's _meta field.\n * So we have to map this field into a non-lodashed field.\n */\nexport const POUCHDB_META_FIELDNAME = 'rxdbMeta';\n\nexport function pouchSwapIdToPrimary<T>(\n    primaryKey: keyof T,\n    docData: any\n): any {\n\n    if (primaryKey === '_id' || docData[primaryKey]) {\n        return docData;\n    }\n\n    docData = flatClone(docData);\n    docData[primaryKey] = docData._id;\n    delete docData._id;\n\n    return docData;\n}\n\nexport function pouchSwapIdToPrimaryString<T>(primaryKey: keyof T, str: keyof T): keyof T {\n    if (str === '_id') {\n        return primaryKey;\n    } else {\n        return str;\n    }\n}\n\nexport function pouchDocumentDataToRxDocumentData<T>(\n    primaryKey: keyof T,\n    pouchDoc: WithAttachments<T>\n): RxDocumentData<T> {\n    let useDoc: RxDocumentData<T> = pouchSwapIdToPrimary(primaryKey, pouchDoc);\n\n    // always flat clone becaues we mutate the _attachments property.\n    useDoc = flatClone(useDoc);\n    delete (useDoc as any)._revisions;\n\n    // ensure deleted flag is set.\n    useDoc._deleted = !!useDoc._deleted;\n\n    useDoc._attachments = {};\n    if (pouchDoc._attachments) {\n        Object.entries(pouchDoc._attachments).forEach(([key, value]) => {\n            if ((value as any).data) {\n                useDoc._attachments[key] = {\n                    data: (value as any).data,\n                    type: (value as any).type ? (value as any).type : (value as any).content_type\n                } as any;\n            } else {\n                useDoc._attachments[key] = {\n                    digest: value.digest,\n                    // TODO why do we need to access value.type?\n                    type: (value as any).type ? (value as any).type : value.content_type,\n                    length: value.length\n                };\n            }\n        });\n    }\n\n    useDoc._meta = (useDoc as any)[POUCHDB_META_FIELDNAME];\n    delete (useDoc as any)[POUCHDB_META_FIELDNAME];\n\n    return useDoc;\n}\n\nexport function rxDocumentDataToPouchDocumentData<T>(\n    primaryKey: keyof T,\n    doc: RxDocumentData<T> | RxDocumentWriteData<T>\n): WithAttachments<T & { _id: string; }> {\n    let pouchDoc: WithAttachments<T> = pouchSwapPrimaryToId(primaryKey, doc);\n\n    // always flat clone becaues we mutate the _attachments property.\n    pouchDoc = flatClone(pouchDoc);\n\n    pouchDoc._attachments = {};\n    if (doc._attachments) {\n        Object.entries(doc._attachments).forEach(([key, value]) => {\n            const useValue: RxAttachmentWriteData & RxAttachmentData = value as any;\n            if (useValue.data) {\n                (pouchDoc as any)._attachments[key] = {\n                    data: useValue.data,\n                    content_type: useValue.type\n                };\n            } else {\n                (pouchDoc as any)._attachments[key] = {\n                    digest: useValue.digest,\n                    content_type: useValue.type,\n                    length: useValue.length,\n                    stub: true\n                };\n            }\n        });\n    }\n\n    (pouchDoc as any)[POUCHDB_META_FIELDNAME] = (pouchDoc as any)._meta;\n    delete (pouchDoc as any)._meta;\n\n    return pouchDoc as any;\n}\n\n\n/**\n * Swaps the primaryKey of the document\n * to the _id property.\n */\nexport function pouchSwapPrimaryToId<RxDocType>(\n    primaryKey: keyof RxDocType,\n    docData: any\n): RxDocType & { _id: string } {\n    // optimisation shortcut\n    if (primaryKey === '_id') {\n        return docData;\n    }\n\n    const idValue = docData[primaryKey];\n    const ret = flatClone(docData);\n    delete ret[primaryKey];\n    ret._id = idValue;\n    return ret;\n}\n\n/**\n * in:  '_local/foobar'\n * out: 'foobar'\n */\nexport function pouchStripLocalFlagFromPrimary(str: string): string {\n    return str.substring(POUCHDB_LOCAL_PREFIX.length);\n}\n\nexport function getEventKey(\n    pouchDBInstance: PouchDBInstance,\n    primary: string,\n    change: ChangeEvent<RxDocumentData<any>>\n): string {\n    const useRev = change.doc ? change.doc._rev : change.previous._rev;\n    const eventKey = pouchDBInstance.name + '|' + primary + '|' + change.operation + '|' + useRev;\n    return eventKey;\n}\n\nexport function pouchChangeRowToChangeEvent<DocumentData>(\n    primaryKey: keyof DocumentData,\n    pouchDoc: any\n): ChangeEvent<RxDocumentData<DocumentData>> {\n    if (!pouchDoc) {\n        throw newRxError('SNH', { args: { pouchDoc } });\n    }\n    const id = pouchDoc._id;\n\n    const doc = pouchDocumentDataToRxDocumentData<DocumentData>(\n        primaryKey,\n        pouchDoc as any\n    );\n    const revHeight = doc._rev ? getHeightOfRevision(doc._rev) : 1;\n\n    if (pouchDoc._deleted) {\n        return {\n            operation: 'DELETE',\n            id,\n            doc: null,\n            previous: doc\n        };\n    } else if (revHeight === 1) {\n        return {\n            operation: 'INSERT',\n            id,\n            doc,\n            previous: null\n        };\n    } else {\n        return {\n            operation: 'UPDATE',\n            id,\n            doc: doc,\n            previous: 'UNKNOWN'\n        };\n    }\n}\n\nexport function pouchChangeRowToChangeStreamEvent<DocumentData>(\n    primaryKey: keyof DocumentData,\n    pouchRow: PouchChangeRow\n): ChangeStreamEvent<DocumentData> {\n    const doc = pouchRow.doc;\n    if (!doc) {\n        throw newRxError('SNH', { args: { pouchRow } });\n    }\n    const revHeight = getHeightOfRevision(doc._rev);\n\n    if (pouchRow.deleted) {\n        const previousDoc = flatClone(\n            pouchDocumentDataToRxDocumentData(\n                primaryKey,\n                pouchRow.doc as any\n            )\n        );\n        const ev: ChangeStreamEvent<DocumentData> = {\n            sequence: pouchRow.seq,\n            id: pouchRow.id,\n            operation: 'DELETE',\n            doc: null,\n            previous: previousDoc\n        };\n        return ev;\n    } else if (revHeight === 1) {\n        const ev: ChangeStreamEvent<DocumentData> = {\n            sequence: pouchRow.seq,\n            id: pouchRow.id,\n            operation: 'INSERT',\n            doc: pouchDocumentDataToRxDocumentData(\n                primaryKey,\n                pouchRow.doc as any\n            ),\n            previous: null\n        };\n        return ev;\n    } else {\n        const ev: ChangeStreamEvent<DocumentData> = {\n            sequence: pouchRow.seq,\n            id: pouchRow.id,\n            operation: 'UPDATE',\n            doc: pouchDocumentDataToRxDocumentData(\n                primaryKey,\n                pouchRow.doc as any\n            ),\n            previous: 'UNKNOWN'\n        };\n        return ev;\n    }\n}\n\n\n/**\n * Runs a primary swap with transform all custom primaryKey occurences\n * into '_id'\n * @recursive\n */\nexport function primarySwapPouchDbQuerySelector<RxDocType>(\n    selector: any, \n    primaryKey: keyof RxDocumentData<RxDocType>\n    ): any {\n    if (primaryKey === '_id') {\n        return selector;\n    }\n    if (Array.isArray(selector)) {\n        return selector.map(item => primarySwapPouchDbQuerySelector(item, primaryKey));\n    } else if (typeof selector === 'object') {\n        const ret: any = {};\n        Object.entries(selector).forEach(([k, v]) => {\n            if (k === primaryKey) {\n                ret._id = v;\n            } else {\n                if (k.startsWith('$')) {\n                    ret[k] = primarySwapPouchDbQuerySelector(v, primaryKey);\n                } else {\n                    ret[k] = v;\n                }\n            }\n        });\n        return ret;\n    } else {\n        return selector;\n    }\n}\n\nexport function pouchHash(data: Buffer | Blob | string): Promise<string> {\n    return new Promise(res => {\n        binaryMd5(data, (digest: string) => {\n            res(digest);\n        });\n    });\n}\n\nexport async function writeAttachmentsToAttachments(\n    attachments: { [attachmentId: string]: RxAttachmentData | RxAttachmentWriteData; }\n): Promise<{ [attachmentId: string]: RxAttachmentData; }> {\n    if (!attachments) {\n        return {};\n    }\n    const ret: { [attachmentId: string]: RxAttachmentData; } = {};\n    await Promise.all(\n        Object.entries(attachments).map(async ([key, obj]) => {\n            if (!obj.type) {\n                throw newRxError('SNH', { args: { obj } });\n            }\n            /**\n             * Is write attachment,\n             * so we have to remove the data to have a\n             * non-write attachment.\n             */\n            if ((obj as RxAttachmentWriteData).data) {\n                const asWrite = (obj as RxAttachmentWriteData);\n                const dataAsBase64String = typeof asWrite.data === 'string' ? asWrite.data : await blobBufferUtil.toBase64String(asWrite.data);\n                const hash = await hashAttachmentData(\n                    dataAsBase64String,\n                    RxStoragePouchStatics\n                );\n                const length = getAttachmentSize(dataAsBase64String);\n                ret[key] = {\n                    digest: 'md5-' + hash,\n                    length,\n                    type: asWrite.type\n                };\n            } else {\n                ret[key] = obj as RxAttachmentData;\n            }\n        })\n    );\n    return ret;\n}\n\nexport function getPouchIndexDesignDocNameByIndex(\n    index: MaybeReadonly<string[]>\n): string {\n    const indexName = 'idx-rxdb-index-' + index.join(',');\n    return indexName;\n}\n\n/**\n * PouchDB has not way to read deleted local documents\n * out of the database.\n * So instead of deleting them, we set a custom deleted flag.\n */\nexport const RXDB_POUCH_DELETED_FLAG = 'rxdb-pouch-deleted' as const;\n\n\nexport type RxLocalDocumentDataWithCustomDeletedFlag<D> = RxLocalDocumentData<D> & {\n    [k in typeof RXDB_POUCH_DELETED_FLAG]?: boolean;\n};\n","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    var names = Object.getOwnPropertyNames(error);\n    for (var i = 0, len = names.length; i < len; i++) {\n      if (typeof error[names[i]] !== 'function') {\n        this[names[i]] = error[names[i]];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","import uuid from './dist/index.js';\nexport const v1 = uuid.v1;\nexport const v3 = uuid.v3;\nexport const v4 = uuid.v4;\nexport const v5 = uuid.v5;\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport inherits from 'inherits';\nimport immediate from 'immediate';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport EventEmitter from 'events';\nimport { v4 } from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = v4; // mimic old import, only v4 is ever used elsewhere\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","import { clone } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction setFieldInDoc(doc, parsedField, value) {\n  for (var i = 0, len = parsedField.length; i < len-1; i++) {\n    var elem = parsedField[i];\n    doc = doc[elem] = doc[elem] || {};\n  }\n  doc[parsedField[len-1]] = value;\n}\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n    //#7458: if $and is present in selector (at any level) merge nested $and\n    if (isAndInSelector(result, false)) {\n        result = mergeAndedSelectorsNested(result);\n        if ('$and' in result) {\n            result = mergeAndedSelectors(result['$and']);\n        }\n        wasAnded = true;\n    }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (userOperator) {\n      var userValue = matcher[userOperator];\n      return match(userOperator, doc, userValue, parsedField, docFieldValue);\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nexport { massageSelector, matchesSelector, filterInMemoryFields, createFieldSorter, rowFilter, isCombinationalField, getKey, getValue, getFieldFromDoc, setFieldInDoc, compare, parseField };\n","import {\n    filterInMemoryFields,\n    massageSelector\n} from 'pouchdb-selector-core';\nimport { newRxError } from '../../rx-error';\n\nimport {\n    getPouchIndexDesignDocNameByIndex,\n    pouchHash,\n    pouchSwapPrimaryToId,\n    primarySwapPouchDbQuerySelector\n} from './pouchdb-helper';\nimport type { DeterministicSortComparator, QueryMatcher } from 'event-reduce-js';\nimport { getPrimaryFieldOfPrimaryKey, getSchemaByObjectPath } from '../../rx-schema-helper';\nimport type {\n    MangoQuery,\n    MangoQuerySortDirection,\n    MangoQuerySortPart,\n    PreparedQuery,\n    RxDocumentData,\n    RxDocumentWriteData,\n    RxJsonSchema,\n    RxStorageStatics\n} from '../../types';\nimport { overwritable } from '../../overwritable';\nimport { ensureNotFalsy, isMaybeReadonlyArray } from '../../util';\n\nexport const RxStoragePouchStatics: RxStorageStatics = {\n\n    /**\n     * create the same diggest as an attachment with that data\n     * would have created by pouchdb internally.\n     */\n    hash(data: Buffer | Blob | string): Promise<string> {\n        return pouchHash(data);\n    },\n    hashKey: 'md5',\n    doesBroadcastChangestream() {\n        return false;\n    },\n    getSortComparator<RxDocType>(\n        schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n        query: MangoQuery<RxDocType>\n    ): DeterministicSortComparator<RxDocType> {\n        const primaryPath: keyof RxDocType = getPrimaryFieldOfPrimaryKey(schema.primaryKey) as any;\n        const sortOptions: MangoQuerySortPart[] = query.sort ? (query.sort as any) : [{\n            [primaryPath]: 'asc'\n        }];\n        const selector = query.selector ? query.selector : {};\n        const inMemoryFields = Object\n            .keys(selector)\n            .filter(key => !key.startsWith('$'));\n\n        const fun: DeterministicSortComparator<RxDocType> = (a: RxDocType, b: RxDocType) => {\n            /**\n             * Sorting on two documents with the same primary is not allowed\n             * because it might end up in a non-deterministic result.\n             */\n            if (a[primaryPath] === b[primaryPath]) {\n                throw newRxError('SNH', { args: { a, b }, primaryPath: primaryPath as any });\n            }\n\n            // TODO use createFieldSorter\n            // TODO make a performance test\n            const rows = [a, b].map(doc => ({\n                doc: pouchSwapPrimaryToId<RxDocType>(primaryPath, doc)\n            }));\n            const sortedRows: { doc: any }[] = filterInMemoryFields(\n                rows,\n                {\n                    selector: {},\n                    sort: sortOptions\n                },\n                inMemoryFields\n            );\n            if (sortedRows.length !== 2) {\n                throw newRxError('SNH', {\n                    query,\n                    primaryPath: primaryPath as any,\n                    args: {\n                        rows,\n                        sortedRows\n                    }\n                });\n            }\n            if (sortedRows[0].doc._id === rows[0].doc._id) {\n                return -1;\n            } else {\n                return 1;\n            }\n        };\n        return fun;\n    },\n\n    /**\n     * @link https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-selector-core/src/matches-selector.js\n     */\n    getQueryMatcher<RxDocType>(\n        schema: RxJsonSchema<RxDocType>,\n        query: MangoQuery<RxDocType>\n    ): QueryMatcher<RxDocumentWriteData<RxDocType>> {\n        const primaryPath = getPrimaryFieldOfPrimaryKey(schema.primaryKey);\n        const selector = query.selector ? query.selector : {};\n        const massagedSelector = massageSelector(selector);\n        const fun: QueryMatcher<RxDocumentWriteData<RxDocType>> = (doc: RxDocumentWriteData<RxDocType>) => {\n            if (doc._deleted) {\n                return false;\n            }\n            const cloned = pouchSwapPrimaryToId(primaryPath, doc);\n            const row = {\n                doc: cloned\n            };\n            const rowsMatched = filterInMemoryFields(\n                [row],\n                { selector: massagedSelector },\n                Object.keys(selector)\n            );\n            const ret = rowsMatched && rowsMatched.length === 1;\n            return ret;\n        };\n        return fun;\n    },\n\n\n    /**\n     * pouchdb has many bugs and strange behaviors\n     * this functions takes a normal mango query\n     * and transforms it to one that fits for pouchdb\n     */\n    prepareQuery<RxDocType>(\n        schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n        mutateableQuery: MangoQuery<RxDocType>\n    ): PreparedQuery<RxDocType> {\n        return preparePouchDbQuery(\n            schema,\n            mutateableQuery\n        );\n    }\n};\n\n/**\n     * pouchdb has many bugs and strange behaviors\n     * this functions takes a normal mango query\n     * and transforms it to one that fits for pouchdb\n     */\nexport function preparePouchDbQuery<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    mutateableQuery: MangoQuery<RxDocType>\n): PreparedQuery<RxDocType> {\n    const primaryKey = getPrimaryFieldOfPrimaryKey(schema.primaryKey);\n    const query = mutateableQuery;\n\n    /**\n     * because sort wont work on unused keys we have to workaround\n     * so we add the key to the selector if necessary\n     * @link https://github.com/nolanlawson/pouchdb-find/issues/204\n     */\n    if (query.sort) {\n        query.sort.forEach(sortPart => {\n            const key = Object.keys(sortPart)[0];\n            const comparisonOperators = ['$gt', '$gte', '$lt', '$lte', '$eq'];\n            const keyUsed = query.selector && query.selector[key] && Object.keys(query.selector[key]).some(op => comparisonOperators.includes(op));\n\n            if (!keyUsed) {\n                const schemaObj = getSchemaByObjectPath(schema, key);\n                if (!schemaObj) {\n                    throw newRxError('QU5', {\n                        query,\n                        key,\n                        schema\n                    });\n                }\n                if (!query.selector) {\n                    query.selector = {};\n                }\n                if (!query.selector[key]) {\n                    query.selector[key] = {};\n                }\n                switch (schemaObj.type) {\n                    case 'number':\n                    case 'integer':\n                        // TODO change back to -Infinity when issue resolved\n                        // @link https://github.com/pouchdb/pouchdb/issues/6454\n                        // -Infinity does not work since pouchdb 6.2.0\n                        query.selector[key].$gt = -9999999999999999999999999999;\n                        break;\n                    case 'string':\n                        /**\n                         * strings need an empty string, see\n                         * @link https://github.com/pubkey/rxdb/issues/585\n                         */\n                        if (typeof query.selector[key] !== 'string') {\n                            query.selector[key].$gt = '';\n                        }\n                        break;\n                    default:\n                        query.selector[key].$gt = null;\n                        break;\n                }\n            }\n        });\n    }\n\n    // regex does not work over the primary key\n    if (\n        overwritable.isDevMode() &&\n        query.selector &&\n        query.selector[primaryKey as any] &&\n        query.selector[primaryKey as any].$regex\n    ) {\n        throw newRxError('QU4', {\n            path: primaryKey as any,\n            query: mutateableQuery\n        });\n    }\n\n    // primary-swap sorting\n    if (query.sort) {\n        const sortArray: MangoQuerySortPart<RxDocType>[] = query.sort.map(part => {\n            const key = Object.keys(part)[0];\n            const direction: MangoQuerySortDirection = Object.values(part)[0];\n            const useKey = key === primaryKey ? '_id' : key;\n            const newPart = { [useKey]: direction };\n            return newPart as any;\n        });\n        query.sort = sortArray;\n    }\n\n    // strip empty selectors\n    Object.entries(ensureNotFalsy(query.selector)).forEach(([k, v]) => {\n        if (\n            typeof v === 'object' &&\n            v !== null &&\n            !Array.isArray(v) &&\n            Object.keys((v as any)).length === 0\n        ) {\n            delete ensureNotFalsy(query.selector)[k];\n        }\n    });\n\n    /**\n     * Set use_index\n     * @link https://pouchdb.com/guides/mango-queries.html#use_index\n     */\n    if (mutateableQuery.index) {\n        const indexMaybeArray = mutateableQuery.index;\n        let indexArray: string[] = isMaybeReadonlyArray(indexMaybeArray) ? indexMaybeArray : [indexMaybeArray];\n        indexArray = indexArray.map(str => {\n            if (str === primaryKey) {\n                return '_id';\n            } else {\n                return str;\n            }\n        });\n        const indexName = getPouchIndexDesignDocNameByIndex(indexArray);\n        delete mutateableQuery.index;\n        (mutateableQuery as any).use_index = indexName;\n    }\n\n    query.selector = primarySwapPouchDbQuerySelector(query.selector, primaryKey);\n\n    return query;\n}\n","/**\n * Copied from\n * @link https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-indexeddb/src/find.js\n */\n\n//const DOC_STORE = 'docs';\nconst IDB_NULL = Number.MIN_SAFE_INTEGER;\nconst IDB_FALSE = Number.MIN_SAFE_INTEGER + 1;\nconst IDB_TRUE = Number.MIN_SAFE_INTEGER + 2;\n\n// Adapted from\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-find/src/adapters/local/find/query-planner.js#L20-L24\n// This could change / improve in the future?\nconst COUCH_COLLATE_LO = null;\nconst COUCH_COLLATE_HI = '\\uffff'; // actually used as {\"\\uffff\": {}}\n\n// Adapted from: https://www.w3.org/TR/IndexedDB/#compare-two-keys\n// Importantly, *there is no upper bound possible* in idb. The ideal data\n// structure an infintely deep array:\n//   var IDB_COLLATE_HI = []; IDB_COLLATE_HI.push(IDB_COLLATE_HI)\n// But IDBKeyRange is not a fan of shenanigans, so I've just gone with 12 layers\n// because it looks nice and surely that's enough!\nconst IDB_COLLATE_LO = Number.NEGATIVE_INFINITY;\nconst IDB_COLLATE_HI = [[[[[[[[[[[[]]]]]]]]]]]];\n// const IDB_COLLATE_HI = DBCore\n\n\n/**\n * Generates a keyrange based on the opts passed to query\n *\n * The first key is always 0, as that's how we're filtering out deleted entries.\n */\nexport function generateKeyRange(\n    opts: any,\n    IDBKeyRange: any,\n    low: any = IDB_COLLATE_LO,\n    height: any = IDB_COLLATE_HI\n) {\n    function defined(obj: any, k: string) {\n        return obj[k] !== void 0;\n    }\n\n    // Converts a valid CouchDB key into a valid IndexedDB one\n    function convert(key: any, exact?: any) {\n        /**\n         * Overwritten.\n         * In dexie.js we store deleted documents at another\n         * table.\n         * So we do not have to filter for deleted ones.\n         */\n        const filterDeleted = Array.isArray(key) ? key : [key];\n        const ret = filterDeleted.map(function (k) {\n            // null, true and false are not indexable by indexeddb. When we write\n            // these values we convert them to these constants, and so when we\n            // query for them we need to convert the query also.\n            if (k === null && exact) {\n                // for non-exact queries we treat null as a collate property\n                // see `if (!exact)` block below\n                return IDB_NULL;\n            } else if ((k as any) === true) {\n                return IDB_TRUE;\n            } else if ((k as any) === false) {\n                return IDB_FALSE;\n            }\n            if (!exact) {\n                // We get passed CouchDB's collate low and high values, so for non-exact\n                // ranged queries we're going to convert them to our IDB equivalents\n                if (k === COUCH_COLLATE_LO) {\n                    return low;\n                } else if (Object.prototype.hasOwnProperty.call(k, COUCH_COLLATE_HI)) {\n                    return height;\n                }\n            }\n            return k;\n        });\n\n\n        /**\n         * Because we do not have to index over the deleted field,\n         * we sometimes have only one key.\n         */\n        if (ret.length === 1) {\n            return ret[0];\n        } else {\n            return ret;\n        }\n    }\n\n    // CouchDB and so PouchdB defaults to true. We need to make this explicit as\n    // we invert these later for IndexedDB.\n    if (!defined(opts, 'inclusive_end')) {\n        opts.inclusive_end = true;\n    }\n    if (!defined(opts, 'inclusive_start')) {\n        opts.inclusive_start = true;\n    }\n\n    if (opts.descending) {\n        // Flip before generating. We'll check descending again later when performing\n        // an index request\n        const realEndkey = opts.startkey,\n            realInclusiveEnd = opts.inclusive_start;\n\n        opts.startkey = opts.endkey;\n        opts.endkey = realEndkey;\n        opts.inclusive_start = opts.inclusive_end;\n        opts.inclusive_end = realInclusiveEnd;\n    }\n\n    try {\n        if (defined(opts, 'key')) {\n            return IDBKeyRange.only(convert(opts.key, true));\n        }\n\n        if (defined(opts, 'startkey') && !defined(opts, 'endkey')) {\n            return IDBKeyRange.lowerBound(convert(opts.startkey), !opts.inclusive_start);\n        }\n\n        if (!defined(opts, 'startkey') && defined(opts, 'endkey')) {\n            return IDBKeyRange.upperBound(convert(opts.endkey), !opts.inclusive_end);\n        }\n\n        if (defined(opts, 'startkey') && defined(opts, 'endkey')) {\n            return IDBKeyRange.bound(\n                convert(opts.startkey), convert(opts.endkey),\n                !opts.inclusive_start, !opts.inclusive_end\n            );\n        }\n\n        return IDBKeyRange.only([0]);\n    } catch (err) {\n        console.dir(IDBKeyRange);\n        console.error('Could not generate keyRange', err, opts);\n        throw Error('Could not generate key range with ' + JSON.stringify(opts));\n    }\n}\n","\nfunction getArguments(fun: any) {\n    return function () {\n        const len = arguments.length;\n        const args = new Array(len);\n        let i = -1;\n        while (++i < len) {\n            args[i] = arguments[i];\n        }\n        const ret = fun.call(undefined, args);\n        return ret;\n    };\n}\n\nexport const flatten = getArguments(function (args: any) {\n    let res: any[] = [];\n    for (let i = 0, len = args.length; i < len; i++) {\n        const subArr: any = args[i] as any;\n        if (Array.isArray(subArr)) {\n            res = res.concat(flatten.apply(null, subArr as any));\n        } else {\n            res.push(subArr);\n        }\n    }\n    return res;\n});\n\nexport function mergeObjects(arr: any[]) {\n    let res = {};\n    for (let i = 0, len = arr.length; i < len; i++) {\n        res = Object.assign(res, arr[i]);\n    }\n    return res;\n}\n\n\n// e.g. ['a'], ['a', 'b'] is true, but ['b'], ['a', 'b'] is false\nexport function oneArrayIsSubArrayOfOther(left: any, right: any) {\n    for (let i = 0, len = Math.min(left.length, right.length); i < len; i++) {\n        if (left[i] !== right[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\n// e.g.['a', 'b', 'c'], ['a', 'b'] is false\nexport function oneArrayIsStrictSubArrayOfOther(left: any, right: any) {\n    if (left.length > right.length) {\n        return false;\n    }\n\n    return oneArrayIsSubArrayOfOther(left, right);\n}\n\n// same as above, but treat the left array as an unordered set\n// e.g. ['b', 'a'], ['a', 'b', 'c'] is true, but ['c'], ['a', 'b', 'c'] is false\nexport function oneSetIsSubArrayOfOther(left: any, right: any) {\n    left = left.slice();\n    for (let i = 0, len = right.length; i < len; i++) {\n        const field = right[i];\n        if (!left.length) {\n            break;\n        }\n        const leftIdx = left.indexOf(field);\n        if (leftIdx === -1) {\n            return false;\n        } else {\n            left.splice(leftIdx, 1);\n        }\n    }\n    return true;\n}\n\nexport function arrayToObject(arr: any[]) {\n    const res: any = {};\n    for (let i = 0, len = arr.length; i < len; i++) {\n        res[arr[i]] = true;\n    }\n    return res;\n}\n\nexport function max(arr: any[], fun: Function) {\n    let max = null;\n    let maxScore = -1;\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        const score = fun(element);\n        if (score > maxScore) {\n            maxScore = score;\n            max = element;\n        }\n    }\n    return max;\n}\n\nexport function arrayEquals(arr1: any[], arr2: any[]) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    for (let i = 0, len = arr1.length; i < len; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function uniq(arr: any[]) {\n    const obj: any = {};\n    for (let i = 0; i < arr.length; i++) {\n        obj['$' + arr[i]] = true;\n    }\n    return Object.keys(obj).map(function (key) {\n        return key.substring(1);\n    });\n}\n","import {\n    getUserFields\n} from './utils';\nimport {\n    getKey,\n    compare\n} from 'pouchdb-selector-core';\nimport {\n    arrayEquals,\n    arrayToObject,\n    flatten,\n    max,\n    mergeObjects,\n    oneArrayIsStrictSubArrayOfOther,\n    oneArrayIsSubArrayOfOther,\n    oneSetIsSubArrayOfOther,\n    uniq\n} from './main-utils';\n\n// couchdb lowest collation value\nconst COLLATE_LO = null;\n\n// couchdb highest collation value (TODO: well not really, but close enough amirite)\n// const COLLATE_HI = { '\\uffff': {} };\n// overwritten COLLATE_HI for dexie.js RxStorage.\nconst COLLATE_HI = '\\uffff';\n\n\nconst SHORT_CIRCUIT_QUERY = {\n    queryOpts: { limit: 0, startkey: COLLATE_HI, endkey: COLLATE_LO },\n    inMemoryFields: [],\n};\n\n// couchdb second-lowest collation value\n\nfunction checkFieldInIndex(index: any, field: string) {\n    const indexFields = index.def.fields.map(getKey);\n    for (let i = 0, len = indexFields.length; i < len; i++) {\n        const indexField = indexFields[i];\n        if (field === indexField) {\n            return true;\n        }\n    }\n    return false;\n}\n\n// so when you do e.g. $eq/$eq, we can do it entirely in the database.\n// but when you do e.g. $gt/$eq, the first part can be done\n// in the database, but the second part has to be done in-memory,\n// because $gt has forced us to lose precision.\n// so that's what this determines\nfunction userOperatorLosesPrecision(selector: any, field: string) {\n    const matcher = selector[field];\n    const userOperator = getKey(matcher);\n\n    return userOperator !== '$eq';\n}\n\n// sort the user fields by their position in the index,\n// if they're in the index\nfunction sortFieldsByIndex(userFields: any[], index: any) {\n    const indexFields = index.def.fields.map(getKey);\n\n    return userFields.slice().sort(function (a, b) {\n        let aIdx = indexFields.indexOf(a);\n        let bIdx = indexFields.indexOf(b);\n        if (aIdx === -1) {\n            aIdx = Number.MAX_VALUE;\n        }\n        if (bIdx === -1) {\n            bIdx = Number.MAX_VALUE;\n        }\n        return compare(aIdx, bIdx);\n    });\n}\n\n// first pass to try to find fields that will need to be sorted in-memory\nfunction getBasicInMemoryFields(index: any, selector: any, userFields: any) {\n\n    userFields = sortFieldsByIndex(userFields, index);\n\n    // check if any of the user selectors lose precision\n    let needToFilterInMemory = false;\n    for (let i = 0, len = userFields.length; i < len; i++) {\n        const field = userFields[i];\n        if (needToFilterInMemory || !checkFieldInIndex(index, field)) {\n            return userFields.slice(i);\n        }\n        if (i < len - 1 && userOperatorLosesPrecision(selector, field)) {\n            needToFilterInMemory = true;\n        }\n    }\n    return [];\n}\n\nfunction getInMemoryFieldsFromNe(selector: any) {\n    const fields: any[] = [];\n    Object.keys(selector).forEach(function (field) {\n        const matcher = selector[field];\n        Object.keys(matcher).forEach(function (operator) {\n            if (operator === '$ne') {\n                fields.push(field);\n            }\n        });\n    });\n    return fields;\n}\n\nfunction getInMemoryFields(coreInMemoryFields: any, index: any, selector: any, userFields: any) {\n    const result = (flatten as any)(\n        // in-memory fields reported as necessary by the query planner\n        coreInMemoryFields,\n        // combine with another pass that checks for any we may have missed\n        getBasicInMemoryFields(index, selector, userFields),\n        // combine with another pass that checks for $ne's\n        getInMemoryFieldsFromNe(selector)\n    );\n\n    return sortFieldsByIndex(uniq(result), index);\n}\n\n// check that at least one field in the user's query is represented\n// in the index. order matters in the case of sorts\nfunction checkIndexFieldsMatch(indexFields: any, sortOrder: any, fields: any) {\n    if (sortOrder) {\n        // array has to be a strict subarray of index array. furthermore,\n        // the sortOrder fields need to all be represented in the index\n        const sortMatches = oneArrayIsStrictSubArrayOfOther(sortOrder, indexFields);\n        const selectorMatches = oneArrayIsSubArrayOfOther(fields, indexFields);\n\n        return sortMatches && selectorMatches;\n    }\n\n    // all of the user's specified fields still need to be\n    // on the left side of the index array, although the order\n    // doesn't matter\n    return oneSetIsSubArrayOfOther(fields, indexFields);\n}\n\nconst logicalMatchers = ['$eq', '$gt', '$gte', '$lt', '$lte'];\nfunction isNonLogicalMatcher(matcher: any) {\n    return logicalMatchers.indexOf(matcher) === -1;\n}\n\n// check all the index fields for usages of '$ne'\n// e.g. if the user queries {foo: {$ne: 'foo'}, bar: {$eq: 'bar'}},\n// then we can neither use an index on ['foo'] nor an index on\n// ['foo', 'bar'], but we can use an index on ['bar'] or ['bar', 'foo']\nfunction checkFieldsLogicallySound(indexFields: any, selector: any) {\n    const firstField = indexFields[0];\n    const matcher = selector[firstField];\n\n    if (typeof matcher === 'undefined') {\n        /* istanbul ignore next */\n        return true;\n    }\n\n    const isInvalidNe = Object.keys(matcher).length === 1 &&\n        getKey(matcher) === '$ne';\n\n    return !isInvalidNe;\n}\n\nfunction checkIndexMatches(index: any, sortOrder: any, fields: any, selector: any) {\n\n    const indexFields = index.def.fields.map(getKey);\n\n    const fieldsMatch = checkIndexFieldsMatch(indexFields, sortOrder, fields);\n\n    if (!fieldsMatch) {\n        return false;\n    }\n\n    return checkFieldsLogicallySound(indexFields, selector);\n}\n\n//\n// the algorithm is very simple:\n// take all the fields the user supplies, and if those fields\n// are a strict subset of the fields in some index,\n// then use that index\n//\n//\nfunction findMatchingIndexes(selector: any, userFields: any, sortOrder: any, indexes: any) {\n    return indexes.filter(function (index: any) {\n        return checkIndexMatches(index, sortOrder, userFields, selector);\n    });\n}\n\n// find the best index, i.e. the one that matches the most fields\n// in the user's query\nfunction findBestMatchingIndex(selector: any, userFields: any, sortOrder: any, indexes: any, useIndex: string) {\n\n    const matchingIndexes = findMatchingIndexes(selector, userFields, sortOrder, indexes);\n\n    if (matchingIndexes.length === 0) {\n        if (useIndex) {\n            throw new Error(JSON.stringify({\n                error: 'no_usable_index',\n                message: 'There is no index available for this selector.',\n                selector,\n                indexes,\n                sortOrder,\n                userFields,\n                useIndex\n            }, null, 4));\n        }\n        //return `all_docs` as a default index;\n        //I'm assuming that _all_docs is always first\n        const defaultIndex = indexes[0];\n        defaultIndex.defaultUsed = true;\n        return defaultIndex;\n    }\n    if (matchingIndexes.length === 1 && !useIndex) {\n        return matchingIndexes[0];\n    }\n\n    const userFieldsMap = arrayToObject(userFields);\n\n    function scoreIndex(index: any) {\n        const indexFields = index.def.fields.map(getKey);\n        let score = 0;\n        for (let i = 0, len = indexFields.length; i < len; i++) {\n            const indexField = indexFields[i];\n            if (userFieldsMap[indexField]) {\n                score++;\n            }\n        }\n        return score;\n    }\n\n    if (useIndex) {\n        const useIndexDdoc = '_design/' + useIndex;\n        const useIndexName = useIndex;\n        const index = matchingIndexes.find(function (index: any) {\n            if (useIndexName && index.ddoc === useIndexDdoc && useIndexName === index.name) {\n                return true;\n            }\n\n            if (index.ddoc === useIndexDdoc) {\n                /* istanbul ignore next */\n                return true;\n            }\n\n            return false;\n        });\n\n        if (!index) {\n            throw new Error(JSON.stringify({\n                error: 'unknown_error',\n                message: 'Could not find that index or could not use that index for the query',\n                useIndex,\n                indexes,\n                selector\n            }, null, 4));\n        }\n        return index;\n    }\n\n    return max(matchingIndexes, scoreIndex);\n}\n\nfunction getSingleFieldQueryOptsFor(userOperator: any, userValue: any) {\n    switch (userOperator) {\n        case '$eq':\n            return { key: userValue };\n        case '$lte':\n            return { endkey: userValue };\n        case '$gte':\n            return { startkey: userValue };\n        case '$lt':\n            return {\n                endkey: userValue,\n                inclusive_end: false\n            };\n        case '$gt':\n            return {\n                startkey: userValue,\n                inclusive_start: false\n            };\n    }\n\n    return {\n        startkey: COLLATE_LO\n    };\n}\n\nfunction getSingleFieldCoreQueryPlan(selector: any, index: any) {\n    const field = getKey(index.def.fields[0]);\n    //ignoring this because the test to exercise the branch is skipped at the moment\n    /* istanbul ignore next */\n    const matcher = selector[field] || {};\n    const inMemoryFields: any[] = [];\n\n    const userOperators = Object.keys(matcher);\n\n    let combinedOpts: any;\n\n    userOperators.forEach(function (userOperator) {\n\n        if (isNonLogicalMatcher(userOperator)) {\n            inMemoryFields.push(field);\n        }\n\n        const userValue = matcher[userOperator];\n\n        const newQueryOpts = getSingleFieldQueryOptsFor(userOperator, userValue);\n\n        if (combinedOpts) {\n            combinedOpts = mergeObjects([combinedOpts, newQueryOpts]);\n        } else {\n            combinedOpts = newQueryOpts;\n        }\n    });\n\n    return {\n        queryOpts: combinedOpts,\n        inMemoryFields: inMemoryFields\n    };\n}\n\nfunction getMultiFieldCoreQueryPlan(userOperator: any, userValue: any) {\n    switch (userOperator) {\n        case '$eq':\n            return {\n                startkey: userValue,\n                endkey: userValue\n            };\n        case '$lte':\n            return {\n                endkey: userValue\n            };\n        case '$gte':\n            return {\n                startkey: userValue\n            };\n        case '$lt':\n            return {\n                endkey: userValue,\n                inclusive_end: false\n            };\n        case '$gt':\n            return {\n                startkey: userValue,\n                inclusive_start: false\n            };\n    }\n}\n\nfunction getMultiFieldQueryOpts(selector: any, index: any) {\n\n    const indexFields = index.def.fields.map(getKey);\n\n    let inMemoryFields: any[] = [];\n    const startkey = [];\n    const endkey = [];\n    let inclusiveStart: any;\n    let inclusiveEnd: any;\n\n\n    function finish(i: any) {\n\n        if (inclusiveStart !== false) {\n            startkey.push(COLLATE_LO);\n        }\n        if (inclusiveEnd !== false) {\n            endkey.push(COLLATE_HI);\n        }\n        // keep track of the fields where we lost specificity,\n        // and therefore need to filter in-memory\n        inMemoryFields = indexFields.slice(i);\n    }\n\n    for (let i = 0, len = indexFields.length; i < len; i++) {\n        const indexField = indexFields[i];\n\n        const matcher = selector[indexField];\n\n        if (!matcher || !Object.keys(matcher).length) { // fewer fields in user query than in index\n            finish(i);\n            break;\n        } else if (Object.keys(matcher).some(isNonLogicalMatcher)) { // non-logical are ignored\n            finish(i);\n            break;\n        } else if (i > 0) {\n            const usingGtlt = (\n                '$gt' in matcher || '$gte' in matcher ||\n                '$lt' in matcher || '$lte' in matcher);\n            const previousKeys = Object.keys(selector[indexFields[i - 1]]);\n            const previousWasEq = arrayEquals(previousKeys, ['$eq']);\n            const previousWasSame = arrayEquals(previousKeys, Object.keys(matcher));\n            const gtltLostSpecificity = usingGtlt && !previousWasEq && !previousWasSame;\n            if (gtltLostSpecificity) {\n                finish(i);\n                break;\n            }\n        }\n\n        const userOperators = Object.keys(matcher);\n\n        let combinedOpts: any = null;\n\n        for (let j = 0; j < userOperators.length; j++) {\n            const userOperator = userOperators[j];\n            const userValue = matcher[userOperator];\n\n            const newOpts = getMultiFieldCoreQueryPlan(userOperator, userValue);\n\n            if (combinedOpts) {\n                combinedOpts = mergeObjects([combinedOpts, newOpts]);\n            } else {\n                combinedOpts = newOpts;\n            }\n        }\n\n        startkey.push('startkey' in combinedOpts ? combinedOpts.startkey : COLLATE_LO);\n        endkey.push('endkey' in combinedOpts ? combinedOpts.endkey : COLLATE_HI);\n        if ('inclusive_start' in combinedOpts) {\n            inclusiveStart = combinedOpts.inclusive_start;\n        }\n        if ('inclusive_end' in combinedOpts) {\n            inclusiveEnd = combinedOpts.inclusive_end;\n        }\n    }\n\n    const res: any = {\n        startkey: startkey,\n        endkey: endkey\n    };\n\n    if (typeof inclusiveStart !== 'undefined') {\n        res.inclusive_start = inclusiveStart;\n    }\n    if (typeof inclusiveEnd !== 'undefined') {\n        res.inclusive_end = inclusiveEnd;\n    }\n\n    return {\n        queryOpts: res,\n        inMemoryFields: inMemoryFields\n    };\n}\n\nfunction shouldShortCircuit(selector: any) {\n    // We have a field to select from, but not a valid value\n    // this should result in a short circuited query \n    // just like the http adapter (couchdb) and mongodb\n    // see tests for issue #7810\n\n    const values = Object.values(selector);\n    return values.some(function (val: any) {\n        return typeof val === 'object' && Object.keys(val).length === 0;\n    });\n}\n\nfunction getDefaultQueryPlan(selector: any, _idx?: any) {\n    //using default index, so all fields need to be done in memory\n    return {\n        queryOpts: { startkey: null },\n        inMemoryFields: [Object.keys(selector)]\n    };\n}\n\nfunction getCoreQueryPlan(selector: any, index: any) {\n    if (index.defaultUsed) {\n        return getDefaultQueryPlan(selector, index);\n    }\n\n    if (index.def.fields.length === 1) {\n        // one field in index, so the value was indexed as a singleton\n        return getSingleFieldCoreQueryPlan(selector, index);\n    }\n    // else index has multiple fields, so the value was indexed as an array\n    return getMultiFieldQueryOpts(selector, index);\n}\n\nexport function planQuery(request: any, indexes: any) {\n\n    const selector = request.selector;\n    const sort = request.sort;\n\n    if (shouldShortCircuit(selector)) {\n        return Object.assign({}, SHORT_CIRCUIT_QUERY, { index: indexes[0] });\n    }\n\n    const userFieldsRes = getUserFields(selector, sort);\n\n    const userFields = userFieldsRes.fields;\n    const sortOrder = userFieldsRes.sortOrder;\n    const index = findBestMatchingIndex(selector, userFields, sortOrder, indexes, request.use_index);\n\n    const coreQueryPlan = getCoreQueryPlan(selector, index);\n    const queryOpts = coreQueryPlan.queryOpts;\n    const coreInMemoryFields = coreQueryPlan.inMemoryFields;\n\n    const inMemoryFields = getInMemoryFields(coreInMemoryFields, index, selector, userFields);\n\n    const res = {\n        queryOpts: queryOpts,\n        index: index,\n        inMemoryFields: inMemoryFields\n    };\n    return res;\n}\n","import { getKey } from 'pouchdb-selector-core';\n\n// determine the maximum number of fields\n// we're going to need to query, e.g. if the user\n// has selection ['a'] and sorting ['a', 'b'], then we\n// need to use the longer of the two: ['a', 'b']\nexport function getUserFields(selector: any, sort: any) {\n  const selectorFields = Object.keys(selector);\n  const sortFields = sort? sort.map(getKey) : [];\n  let userFields;\n  if (selectorFields.length >= sortFields.length) {\n    userFields = selectorFields;\n  } else {\n    userFields = sortFields;\n  }\n\n  if (sortFields.length === 0) {\n    return {\n      fields: userFields\n    };\n  }\n\n  // sort according to the user's preferred sorting\n  userFields = userFields.sort(function (left: any, right: any) {\n    let leftIdx = sortFields.indexOf(left);\n    if (leftIdx === -1) {\n      leftIdx = Number.MAX_VALUE;\n    }\n    let rightIdx = sortFields.indexOf(right);\n    if (rightIdx === -1) {\n      rightIdx = Number.MAX_VALUE;\n    }\n    return leftIdx < rightIdx ? -1 : leftIdx > rightIdx ? 1 : 0;\n  });\n\n  return {\n    fields: userFields,\n    sortOrder: sort.map(getKey)\n  };\n}\n","import { getPrimaryFieldOfPrimaryKey } from '../../../rx-schema-helper';\nimport type { MangoQuery, PreparedQuery, RxDocumentData, RxJsonSchema, RxStorageQueryResult } from '../../../types';\nimport { clone, ensureNotFalsy } from '../../../util';\nimport { getPouchIndexDesignDocNameByIndex, POUCHDB_DESIGN_PREFIX, pouchSwapIdToPrimaryString } from '../../pouchdb';\nimport { preparePouchDbQuery } from '../../pouchdb/pouch-statics';\nimport { dexieReplaceIfStartsWithPipe, DEXIE_DOCS_TABLE_NAME, fromDexieToStorage } from '../dexie-helper';\nimport { RxStorageDexieStatics } from '../rx-storage-dexie';\nimport type { RxStorageInstanceDexie } from '../rx-storage-instance-dexie';\nimport { generateKeyRange } from './pouchdb-find-query-planer/indexeddb-find';\nimport { planQuery } from './pouchdb-find-query-planer/query-planner';\n\n\n/**\n * Use the pouchdb query planner to determine which index\n * must be used to get the correct documents.\n * @link https://www.bennadel.com/blog/3258-understanding-the-query-plan-explained-by-the-find-plugin-in-pouchdb-6-2-0.htm\n * \n * \n * TODO use batched cursor\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport function getPouchQueryPlan<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: MangoQuery<RxDocType>\n) {\n    const primaryKey = getPrimaryFieldOfPrimaryKey(schema.primaryKey);\n\n    /**\n     * Store the query plan together with the prepared query\n     * to improve performance\n     * We use the query planner of pouchdb-find.\n     */\n    const pouchCompatibleIndexes = [\n        // the primary key is always a free index\n        {\n            ddoc: null as any,\n            name: '_all_docs',\n            type: 'special',\n            def: {\n                fields: [\n                    {\n                        '_id': 'asc'\n                    }\n                ] as any[]\n            }\n        }\n    ];\n    if (schema.indexes) {\n        schema.indexes.forEach(index => {\n            index = Array.isArray(index) ? index : [index];\n            const pouchIndex = index.map(indexPart => {\n                if (indexPart === primaryKey) {\n                    return '_id';\n                } else {\n                    return indexPart;\n                }\n            });\n            const indexName = getPouchIndexDesignDocNameByIndex(pouchIndex);\n            pouchCompatibleIndexes.push({\n                ddoc: POUCHDB_DESIGN_PREFIX + indexName,\n                name: indexName,\n                type: 'json',\n                def: {\n                    fields: index.map(indexPart => {\n                        const useKey = indexPart === primaryKey ? '_id' : indexPart;\n                        return { [useKey]: 'asc' };\n                    })\n                }\n            });\n        })\n    }\n\n    /**\n     * Because pouchdb-find is buggy AF,\n     * we have to apply the same hacks to the query\n     * as we do with the PouchDB RxStorage.\n     * Only then we can use that monkeypatched\n     * query with the query planner.\n     */\n    const pouchdbCompatibleQuery = preparePouchDbQuery(\n        schema,\n        clone(query)\n    );\n\n    const pouchQueryPlan = planQuery(\n        pouchdbCompatibleQuery,\n        pouchCompatibleIndexes\n    );\n\n    // transform back _id to primaryKey\n    pouchQueryPlan.index.def.fields = pouchQueryPlan.index.def.fields.map((field: any) => {\n        const [fieldName, value] = Object.entries(field)[0];\n        if (fieldName === '_id') {\n            return { [primaryKey]: value };\n        } else {\n            return { [fieldName]: value };\n        }\n    });\n\n    return pouchQueryPlan;\n}\n\n\nexport function getDexieKeyRange(\n    queryPlan: any,\n    low: any,\n    height: any,\n    /**\n     * The window.IDBKeyRange object.\n     * Can be swapped out in other environments\n     */\n    IDBKeyRange?: any\n): any {\n\n    if (!IDBKeyRange) {\n        if (typeof window === 'undefined') {\n            throw new Error('IDBKeyRange missing');\n        } else {\n            IDBKeyRange = window.IDBKeyRange;\n        }\n    }\n\n    return generateKeyRange(queryPlan.queryOpts, IDBKeyRange, low, height);\n}\n\n\n/**\n * Runs mango queries over the Dexie.js database.\n */\nexport async function dexieQuery<RxDocType>(\n    instance: RxStorageInstanceDexie<RxDocType>,\n    preparedQuery: PreparedQuery<RxDocType>\n): Promise<RxStorageQueryResult<RxDocType>> {\n    const state = await instance.internals;\n    const queryMatcher = RxStorageDexieStatics.getQueryMatcher(\n        instance.schema,\n        preparedQuery\n    );\n    const sortComparator = RxStorageDexieStatics.getSortComparator(instance.schema, preparedQuery);\n\n    const skip = preparedQuery.skip ? preparedQuery.skip : 0;\n    const limit = preparedQuery.limit ? preparedQuery.limit : Infinity;\n    const skipPlusLimit = skip + limit;\n    const queryPlan = (preparedQuery as any).pouchQueryPlan;\n\n    const keyRange = getDexieKeyRange(\n        queryPlan,\n        Number.NEGATIVE_INFINITY,\n        (state.dexieDb as any)._maxKey,\n        (state.dexieDb as any)._options.IDBKeyRange\n    );\n\n    const queryPlanFields: string[] = queryPlan.index.def.fields\n        .map((fieldObj: any) => Object.keys(fieldObj)[0])\n        .map((field: any) => pouchSwapIdToPrimaryString(instance.primaryPath, field));\n\n    const sortFields = ensureNotFalsy((preparedQuery as MangoQuery<RxDocType>).sort)\n        .map(sortPart => Object.keys(sortPart)[0]);\n\n    /**\n     * If the cursor iterated over the same index that\n     * would be used for sorting, we do not have to sort the results.\n     */\n    const sortFieldsSameAsIndexFields = queryPlanFields.join(',') === sortFields.join(',');\n    /**\n     * Also manually sort if one part of the sort is in descending order\n     * because all our indexes are ascending.\n     * TODO should we be able to define descending indexes?\n     */\n    const isOneSortDescending = preparedQuery.sort.find((sortPart: any) => Object.values(sortPart)[0] === 'desc');\n    const mustManuallyResort = isOneSortDescending || !sortFieldsSameAsIndexFields;\n\n\n    let rows: any[] = [];\n    await state.dexieDb.transaction(\n        'r',\n        state.dexieTable,\n        async (dexieTx) => {\n            /**\n             * TODO here we use the native IndexedDB transaction\n             * to get the cursor.\n             * Instead we should not leave Dexie.js API and find\n             * a way to create the cursor with Dexie.js.\n             */\n            const tx = (dexieTx as any).idbtrans;\n\n            // const nativeIndexedDB = state.dexieDb.backendDB();\n            // const trans = nativeIndexedDB.transaction([DEXIE_DOCS_TABLE_NAME], 'readonly');\n\n            const store = tx.objectStore(DEXIE_DOCS_TABLE_NAME);\n            let index: any;\n            if (\n                queryPlanFields.length === 1 &&\n                queryPlanFields[0] === instance.primaryPath\n            ) {\n                index = store;\n            } else {\n                let indexName: string;\n                if (queryPlanFields.length === 1) {\n                    indexName = dexieReplaceIfStartsWithPipe(queryPlanFields[0]);\n                } else {\n                    indexName = '[' +\n                        queryPlanFields\n                            .map(field => dexieReplaceIfStartsWithPipe(field))\n                            .join('+')\n                        + ']';\n                }\n                index = store.index(indexName);\n            }\n\n            const cursorReq = index.openCursor(keyRange);\n            await new Promise<void>(res => {\n                cursorReq.onsuccess = function (e: any) {\n                    const cursor = e.target.result;\n                    if (cursor) {\n                        // We have a record in cursor.value\n                        const docData = fromDexieToStorage(cursor.value);\n                        if (\n                            queryMatcher(docData)\n                        ) {\n                            rows.push(docData);\n                        }\n\n                        /**\n                         * If we do not have to manually sort\n                         * and have enough documents,\n                         * we can abort iterating over the cursor\n                         * because we already have every relevant document.\n                         */\n                        if (\n                            !mustManuallyResort &&\n                            rows.length === skipPlusLimit\n                        ) {\n                            res();\n                        } else {\n                            cursor.continue();\n                        }\n                    } else {\n                        // Iteration complete\n                        res();\n                    }\n                };\n            });\n\n\n        }\n    );\n\n\n    if (mustManuallyResort) {\n        rows = rows.sort(sortComparator);\n    }\n\n    // apply skip and limit boundaries.\n    rows = rows.slice(skip, skipPlusLimit);\n\n    /**\n     * Comment this in for debugging to check all fields in the database.\n     */\n    // const docsInDb = await state.dexieTable.filter(queryMatcher).toArray();\n    // let documents = docsInDb\n    //     .map(docData => stripDexieKey(docData))\n    //     .sort(sortComparator);\n    // if (preparedQuery.skip) {\n    //     documents = documents.slice(preparedQuery.skip);\n    // }\n    // if (preparedQuery.limit && documents.length > preparedQuery.limit) {\n    //     documents = documents.slice(0, preparedQuery.limit);\n    // }\n\n\n\n    return {\n        documents: rows\n    };\n}\n","/**\n * Helper functions for accessing the RxStorage instances.\n */\n\nimport type { ChangeEvent } from 'event-reduce-js';\nimport { map } from 'rxjs/operators';\nimport { runPluginHooks } from './hooks';\nimport { overwritable } from './overwritable';\nimport { newRxError } from './rx-error';\nimport { fillPrimaryKey, getPrimaryFieldOfPrimaryKey } from './rx-schema-helper';\nimport type {\n    BulkWriteRow,\n    EventBulk,\n    RxChangeEvent,\n    RxCollection,\n    RxDatabase,\n    RxDocumentData,\n    RxDocumentWriteData,\n    RxJsonSchema,\n    RxStorageBulkWriteError,\n    RxStorageBulkWriteResponse,\n    RxStorageChangeEvent,\n    RxStorageInstance,\n    RxStorageStatics\n} from './types';\nimport {\n    createRevision,\n    firstPropertyValueOfObject,\n    flatClone,\n    now,\n    randomCouchString\n} from './util';\n\nexport const INTERNAL_STORAGE_NAME = '_rxdb_internal';\nexport const RX_DATABASE_LOCAL_DOCS_STORAGE_NAME = 'rxdatabase_storage_local';\n\n/**\n * Returns all non-deleted documents\n * of the storage.\n */\nexport async function getAllDocuments<RxDocType>(\n    primaryKey: keyof RxDocType,\n    storageInstance: RxStorageInstance<RxDocType, any, any>\n): Promise<RxDocumentData<RxDocType>[]> {\n    const storage = storageInstance.storage;\n    const getAllQueryPrepared = storage.statics.prepareQuery(\n        storageInstance.schema,\n        {\n            selector: {},\n            sort: [{ [primaryKey]: 'asc' } as any],\n            skip: 0\n        }\n    );\n    const queryResult = await storageInstance.query(getAllQueryPrepared);\n    const allDocs = queryResult.documents;\n    return allDocs;\n}\n\nexport async function getSingleDocument<RxDocType>(\n    storageInstance: RxStorageInstance<RxDocType, any, any>,\n    documentId: string\n): Promise<RxDocumentData<RxDocType> | null> {\n    const results = await storageInstance.findDocumentsById([documentId], false);\n    const doc = results[documentId];\n    if (doc) {\n        return doc;\n    } else {\n        return null;\n    }\n}\n\n/**\n * Writes a single document,\n * throws RxStorageBulkWriteError on failure\n */\nexport async function writeSingle<RxDocType>(\n    instance: RxStorageInstance<RxDocType, any, any>,\n    writeRow: BulkWriteRow<RxDocType>\n): Promise<RxDocumentData<RxDocType>> {\n    const writeResult = await instance.bulkWrite(\n        [writeRow]\n    );\n\n    if (Object.keys(writeResult.error).length > 0) {\n        const error = firstPropertyValueOfObject(writeResult.error);\n        throw error;\n    } else {\n        const ret = firstPropertyValueOfObject(writeResult.success);\n        return ret;\n    }\n}\n\nexport function storageChangeEventToRxChangeEvent<DocType>(\n    isLocal: boolean,\n    rxStorageChangeEvent: RxStorageChangeEvent<DocType>,\n    rxCollection?: RxCollection,\n): RxChangeEvent<DocType> {\n    let documentData;\n    if (rxStorageChangeEvent.change.operation !== 'DELETE') {\n        documentData = rxStorageChangeEvent.change.doc;\n    }\n    let previousDocumentData;\n    if (rxStorageChangeEvent.change.operation !== 'INSERT') {\n        previousDocumentData = rxStorageChangeEvent.change.previous;\n    }\n    const ret: RxChangeEvent<DocType> = {\n        eventId: rxStorageChangeEvent.eventId,\n        documentId: rxStorageChangeEvent.documentId,\n        collectionName: rxCollection ? rxCollection.name : undefined,\n        startTime: rxStorageChangeEvent.startTime,\n        endTime: rxStorageChangeEvent.endTime,\n        isLocal,\n        operation: rxStorageChangeEvent.change.operation,\n        documentData: overwritable.deepFreezeWhenDevMode(documentData as any),\n        previousDocumentData: overwritable.deepFreezeWhenDevMode(previousDocumentData as any)\n    };\n    return ret;\n}\n\nexport function throwIfIsStorageWriteError<RxDocType>(\n    collection: RxCollection<RxDocType>,\n    documentId: string,\n    writeData: RxDocumentWriteData<RxDocType> | RxDocType,\n    error: RxStorageBulkWriteError<RxDocType> | undefined\n) {\n    if (error) {\n        if (error.status === 409) {\n            throw newRxError('COL19', {\n                collection: collection.name,\n                id: documentId,\n                pouchDbError: error,\n                data: writeData\n            });\n        } else {\n            throw error;\n        }\n    }\n}\n\n/**\n * Analyzes a list of BulkWriteRows and determines\n * which documents must be inserted, updated or deleted\n * and which events must be emitted and which documents cause a conflict\n * and must not be written.\n * Used as helper inside of some RxStorage implementations.\n */\nexport function categorizeBulkWriteRows<RxDocType>(\n    storageInstance: RxStorageInstance<any, any, any>,\n    primaryPath: keyof RxDocType,\n    /**\n     * Current state of the documents\n     * inside of the storage. Used to determine\n     * which writes cause conflicts.\n     */\n    docsInDb: Map<RxDocumentData<RxDocType>[keyof RxDocType], RxDocumentData<RxDocType>>,\n    /**\n     * The write rows that are passed to\n     * RxStorageInstance().bulkWrite().\n     */\n    bulkWriteRows: BulkWriteRow<RxDocType>[]\n): {\n    bulkInsertDocs: BulkWriteRow<RxDocType>[];\n    bulkUpdateDocs: BulkWriteRow<RxDocType>[];\n    /**\n     * Ids of all documents that are changed\n     * and so their change must be written into the\n     * sequences table so that they can be fetched via\n     * RxStorageInstance().getChangedDocumentsSince().\n     */\n    changedDocumentIds: RxDocumentData<RxDocType>[keyof RxDocType][];\n\n    /**\n     * TODO directly return a docId->error object\n     * like in the return value of bulkWrite().\n     * This will improve performance because we do not have to iterate\n     * over the error array again.\n     */\n    errors: RxStorageBulkWriteError<RxDocType>[];\n    eventBulk: EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>>;\n} {\n    const bulkInsertDocs: BulkWriteRow<RxDocType>[] = [];\n    const bulkUpdateDocs: BulkWriteRow<RxDocType>[] = [];\n    const errors: RxStorageBulkWriteError<RxDocType>[] = [];\n    const changedDocumentIds: RxDocumentData<RxDocType>[keyof RxDocType][] = [];\n    const eventBulk: EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>> = {\n        id: randomCouchString(10),\n        events: []\n    };\n\n\n    const startTime = now();\n    bulkWriteRows.forEach(writeRow => {\n        const id = writeRow.document[primaryPath];\n        const documentInDb = docsInDb.get(id);\n\n        if (!documentInDb) {\n            /**\n             * It is possible to insert already deleted documents,\n             * this can happen on replication.\n             */\n            const insertedIsDeleted = writeRow.document._deleted ? true : false;\n            bulkInsertDocs.push(writeRow);\n            if (!insertedIsDeleted) {\n                changedDocumentIds.push(id);\n                eventBulk.events.push({\n                    eventId: getUniqueDeterministicEventKey(storageInstance, primaryPath as any, writeRow),\n                    documentId: id as any,\n                    change: {\n                        doc: writeRow.document,\n                        id: id as any,\n                        operation: 'INSERT',\n                        previous: null\n                    },\n                    startTime,\n                    endTime: now()\n                });\n            }\n        } else {\n            // update existing document\n            const revInDb: string = documentInDb._rev;\n\n            // inserting a deleted document is possible\n            // without sending the previous data.\n            if (!writeRow.previous && documentInDb._deleted) {\n                writeRow.previous = documentInDb;\n            }\n\n            /**\n             * Check for conflict\n             */\n            if (\n                (\n                    !writeRow.previous &&\n                    !documentInDb._deleted\n                ) ||\n                (\n                    !!writeRow.previous &&\n                    revInDb !== writeRow.previous._rev\n                )\n            ) {\n                // is conflict error\n                const err: RxStorageBulkWriteError<RxDocType> = {\n                    isError: true,\n                    status: 409,\n                    documentId: id as any,\n                    writeRow: writeRow,\n                    documentInDb\n                };\n                errors.push(err);\n                return;\n            }\n\n            bulkUpdateDocs.push(writeRow);\n            let change: ChangeEvent<RxDocumentData<RxDocType>> | null = null;\n            const writeDoc = writeRow.document;\n            if (writeRow.previous && writeRow.previous._deleted && !writeDoc._deleted) {\n                change = {\n                    id: id as any,\n                    operation: 'INSERT',\n                    previous: null,\n                    doc: writeDoc\n                };\n            } else if (writeRow.previous && !writeRow.previous._deleted && !writeDoc._deleted) {\n                change = {\n                    id: id as any,\n                    operation: 'UPDATE',\n                    previous: writeRow.previous,\n                    doc: writeDoc\n                };\n            } else if (writeRow.previous && !writeRow.previous._deleted && writeDoc._deleted) {\n                change = {\n                    id: id as any,\n                    operation: 'DELETE',\n                    previous: writeRow.previous,\n                    doc: null\n                };\n            }\n            if (!change) {\n                if (\n                    writeRow.previous && writeRow.previous._deleted &&\n                    writeRow.document._deleted\n                ) {\n                    // deleted doc got overwritten with other deleted doc -> do not send an event\n                } else {\n                    throw newRxError('SNH', { args: { writeRow } });\n                }\n            } else {\n                changedDocumentIds.push(id);\n                eventBulk.events.push({\n                    eventId: getUniqueDeterministicEventKey(storageInstance, primaryPath as any, writeRow),\n                    documentId: id as any,\n                    change,\n                    startTime,\n                    endTime: now()\n                });\n            }\n        }\n    });\n\n\n    return {\n        bulkInsertDocs,\n        bulkUpdateDocs,\n        errors,\n        changedDocumentIds,\n        eventBulk\n    };\n}\n\n/**\n * Each event is labeled with the id\n * to make it easy to filter out duplicates.\n */\nexport function getUniqueDeterministicEventKey(\n    storageInstance: RxStorageInstance<any, any, any>,\n    primaryPath: string,\n    writeRow: BulkWriteRow<any>\n): string {\n    const docId = writeRow.document[primaryPath];\n    const binaryValues: boolean[] = [\n        !!writeRow.previous,\n        (writeRow.previous && writeRow.previous._deleted),\n        !!writeRow.document._deleted\n    ];\n    const binary = binaryValues.map(v => v ? '1' : '0').join('');\n    const eventKey = storageInstance.databaseName + '|' + storageInstance.collectionName + '|' + docId + '|' + '|' + binary + '|' + writeRow.document._rev;\n    return eventKey;\n}\n\n\nexport function hashAttachmentData(\n    attachmentBase64String: string,\n    storageStatics: RxStorageStatics\n): Promise<string> {\n    return storageStatics.hash(atob(attachmentBase64String));\n}\nexport function getAttachmentSize(\n    attachmentBase64String: string\n): number {\n    return atob(attachmentBase64String).length;\n}\n\n/**\n * Wraps the normal storageInstance of a RxCollection\n * to ensure that all access is properly using the hooks\n * and other data transformations and also ensure that database.lockedRun()\n * is used properly.\n */\n\nexport function getWrappedStorageInstance<RxDocType, Internals, InstanceCreationOptions>(\n    database: RxDatabase<{}, Internals, InstanceCreationOptions>,\n    storageInstance: RxStorageInstance<RxDocType, Internals, InstanceCreationOptions>,\n    /**\n     * The original RxJsonSchema\n     * before it was mutated by hooks.\n     */\n    rxJsonSchema: RxJsonSchema<RxDocumentData<RxDocType>>\n): RxStorageInstance<RxDocType, Internals, InstanceCreationOptions> {\n    overwritable.deepFreezeWhenDevMode(rxJsonSchema);\n    const primaryPath = getPrimaryFieldOfPrimaryKey(rxJsonSchema.primaryKey);\n\n    function transformDocumentDataFromRxDBToRxStorage(\n        writeRow: BulkWriteRow<RxDocType>\n    ) {\n        let data = flatClone(writeRow.document);\n        data._meta = flatClone(data._meta);\n\n        // ensure primary key has not been changed\n        if (overwritable.isDevMode()) {\n            data = fillPrimaryKey(\n                primaryPath,\n                rxJsonSchema,\n                data as any\n            );\n        }\n\n        data._meta.lwt = now();\n        const hookParams = {\n            database,\n            primaryPath,\n            schema: rxJsonSchema,\n            doc: data\n        };\n\n\n        /**\n         * Run the hooks once for the previous doc,\n         * once for the new write data\n         */\n        let previous = writeRow.previous;\n        if (previous) {\n            hookParams.doc = previous;\n            runPluginHooks('preWriteToStorageInstance', hookParams);\n            previous = hookParams.doc;\n        }\n\n        hookParams.doc = data;\n        runPluginHooks('preWriteToStorageInstance', hookParams);\n        data = hookParams.doc;\n\n        /**\n         * Update the revision after the hooks have run.\n         * Do not update the revision if no previous is given,\n         * because the migration plugin must be able to do an insert\n         * with a pre-created revision.\n         */\n        if (\n            writeRow.previous ||\n            !data._rev\n        ) {\n            data._rev = createRevision(data, writeRow.previous);\n        }\n\n        return {\n            document: data,\n            previous\n        };\n    }\n\n    function transformDocumentDataFromRxStorageToRxDB(\n        data: any\n    ): any {\n        const hookParams = {\n            database,\n            primaryPath,\n            schema: rxJsonSchema,\n            doc: data\n        };\n\n        runPluginHooks('postReadFromInstance', hookParams);\n        return hookParams.doc;\n    }\n\n    const ret: RxStorageInstance<RxDocType, Internals, InstanceCreationOptions> = {\n        storage: storageInstance.storage,\n        schema: storageInstance.schema,\n        internals: storageInstance.internals,\n        collectionName: storageInstance.collectionName,\n        databaseName: storageInstance.databaseName,\n        options: storageInstance.options,\n        bulkWrite(rows: BulkWriteRow<RxDocType>[]) {\n            const toStorageWriteRows: BulkWriteRow<RxDocType>[] = rows\n                .map(row => transformDocumentDataFromRxDBToRxStorage(row));\n            return database.lockedRun(\n                () => storageInstance.bulkWrite(\n                    toStorageWriteRows\n                )\n            ).then(writeResult => {\n                const ret: RxStorageBulkWriteResponse<RxDocType> = {\n                    success: {},\n                    error: {}\n                };\n                Object.entries(writeResult.error).forEach(([k, v]) => {\n                    ret.error[k] = v;\n                });\n                Object.entries(writeResult.success).forEach(([k, v]) => {\n                    ret.success[k] = transformDocumentDataFromRxStorageToRxDB(v);\n                });\n\n                return ret;\n            });\n        },\n        query(preparedQuery) {\n            return database.lockedRun(\n                () => storageInstance.query(preparedQuery)\n            ).then(queryResult => {\n                return {\n                    documents: queryResult.documents.map(doc => transformDocumentDataFromRxStorageToRxDB(doc))\n                };\n            });\n        },\n        findDocumentsById(ids, deleted) {\n            return database.lockedRun(\n                () => storageInstance.findDocumentsById(ids, deleted)\n            ).then(findResult => {\n                const ret: { [documentId: string]: RxDocumentData<RxDocType>; } = {};\n                Object.entries(findResult).forEach(([key, doc]) => {\n                    ret[key] = transformDocumentDataFromRxStorageToRxDB(doc);\n                });\n                return ret;\n            });\n        },\n        getAttachmentData(\n            documentId: string,\n            attachmentId: string\n        ) {\n            return database.lockedRun(\n                () => storageInstance.getAttachmentData(documentId, attachmentId)\n            );\n        },\n        getChangedDocumentsSince(limit: number, checkpoint?: any) {\n            return database.lockedRun(\n                () => storageInstance.getChangedDocumentsSince(limit, checkpoint)\n            ).then(result => {\n                return result.map(row => ({\n                    checkpoint: row.checkpoint,\n                    document: transformDocumentDataFromRxStorageToRxDB(row.document)\n                }));\n            });\n        },\n        cleanup(minDeletedTime: number) {\n            return database.lockedRun(\n                () => storageInstance.cleanup(minDeletedTime)\n            );\n        },\n        remove() {\n            return database.lockedRun(\n                () => storageInstance.remove()\n            );\n        },\n        close() {\n            return database.lockedRun(\n                () => storageInstance.close()\n            );\n        },\n        changeStream() {\n            return storageInstance.changeStream().pipe(\n                map(eventBulk => {\n                    const ret: EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>> = {\n                        id: eventBulk.id,\n                        events: eventBulk.events.map(event => {\n                            return {\n                                eventId: event.eventId,\n                                documentId: event.documentId,\n                                endTime: event.endTime,\n                                startTime: event.startTime,\n                                change: {\n                                    id: event.change.id,\n                                    operation: event.change.operation,\n                                    doc: event.change.doc ? transformDocumentDataFromRxStorageToRxDB(event.change.doc) : undefined,\n                                    previous: event.change.previous ? transformDocumentDataFromRxStorageToRxDB(event.change.previous) : undefined\n                                }\n                            }\n\n                        })\n                    };\n                    return ret;\n                })\n            )\n        }\n    };\n    return ret;\n}\n","import type {\n    ChangeEvent\n} from 'event-reduce-js';\nimport {\n    Subject,\n    Observable\n} from 'rxjs';\nimport {\n    now,\n    randomCouchString,\n    PROMISE_RESOLVE_VOID,\n    RX_META_LWT_MINIMUM,\n    sortDocumentsByLastWriteTime\n} from '../../util';\nimport { newRxError } from '../../rx-error';\nimport type {\n    RxStorageInstance,\n    RxStorageChangeEvent,\n    RxDocumentData,\n    BulkWriteRow,\n    RxStorageBulkWriteResponse,\n    RxStorageBulkWriteError,\n    RxStorageQueryResult,\n    RxJsonSchema,\n    RxStorageInstanceCreationParams,\n    EventBulk,\n    PreparedQuery,\n    DexieChangesCheckpoint\n} from '../../types';\nimport { DexieSettings, DexieStorageInternals } from '../../types/plugins/dexie';\nimport { RxStorageDexie } from './rx-storage-dexie';\nimport {\n    closeDexieDb,\n    fromDexieToStorage,\n    fromStorageToDexie,\n    getDexieDbWithTables,\n    getDocsInDb\n} from './dexie-helper';\nimport { dexieQuery } from './query/dexie-query';\nimport { getPrimaryFieldOfPrimaryKey } from '../../rx-schema-helper';\nimport { getUniqueDeterministicEventKey } from '../../rx-storage-helper';\n\nlet instanceId = now();\n\nexport class RxStorageInstanceDexie<RxDocType> implements RxStorageInstance<\n    RxDocType,\n    DexieStorageInternals,\n    DexieSettings\n> {\n    public readonly primaryPath: keyof RxDocType;\n    private changes$: Subject<EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>>> = new Subject();\n    public readonly instanceId = instanceId++;\n    public closed = false;\n\n    constructor(\n        public readonly storage: RxStorageDexie,\n        public readonly databaseName: string,\n        public readonly collectionName: string,\n        public readonly schema: Readonly<RxJsonSchema<RxDocumentData<RxDocType>>>,\n        public readonly internals: DexieStorageInternals,\n        public readonly options: Readonly<DexieSettings>,\n        public readonly settings: DexieSettings\n    ) {\n        this.primaryPath = getPrimaryFieldOfPrimaryKey(this.schema.primaryKey) as any;\n    }\n\n    async bulkWrite(documentWrites: BulkWriteRow<RxDocType>[]): Promise<RxStorageBulkWriteResponse<RxDocType>> {\n        const state = await this.internals;\n        const ret: RxStorageBulkWriteResponse<RxDocType> = {\n            success: {},\n            error: {}\n        };\n        const eventBulk: EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>> = {\n            id: randomCouchString(10),\n            events: []\n        };\n\n        const documentKeys: string[] = documentWrites.map(writeRow => writeRow.document[this.primaryPath] as any);\n        await state.dexieDb.transaction(\n            'rw',\n            state.dexieTable,\n            state.dexieDeletedTable,\n            async () => {\n                let docsInDb = await getDocsInDb<RxDocType>(this.internals, documentKeys);\n                docsInDb = docsInDb.map(d => d ? fromDexieToStorage(d) : d);\n\n                /**\n                 * Batch up the database operations\n                 * so we can later run them in bulk.\n                 */\n                const bulkPutDocs: any[] = [];\n                const bulkRemoveDocs: string[] = [];\n                const bulkPutDeletedDocs: any[] = [];\n                const bulkRemoveDeletedDocs: string[] = [];\n                const changesIds: string[] = [];\n\n                documentWrites.forEach((writeRow, docIndex) => {\n                    const id: string = writeRow.document[this.primaryPath] as any;\n                    const startTime = now();\n                    const documentInDb = docsInDb[docIndex];\n                    if (!documentInDb) {\n                        /**\n                         * It is possible to insert already deleted documents,\n                         * this can happen on replication.\n                         */\n                        const insertedIsDeleted = writeRow.document._deleted ? true : false;\n                        const writeDoc = Object.assign(\n                            {},\n                            writeRow.document,\n                            {\n                                _deleted: insertedIsDeleted,\n                                // TODO attachments are currently not working with dexie.js\n                                _attachments: {} as any\n                            }\n                        );\n                        changesIds.push(id);\n                        if (insertedIsDeleted) {\n                            bulkPutDeletedDocs.push(writeDoc);\n                        } else {\n                            bulkPutDocs.push(writeDoc);\n                            eventBulk.events.push({\n                                eventId: getUniqueDeterministicEventKey(this, this.primaryPath as any, writeRow),\n                                documentId: id,\n                                change: {\n                                    doc: writeDoc,\n                                    id,\n                                    operation: 'INSERT',\n                                    previous: null\n                                },\n                                startTime,\n                                // will be filled up before the event is pushed into the changestream\n                                endTime: startTime\n                            });\n                        }\n\n                        ret.success[id] = writeDoc;\n                    } else {\n                        // update existing document\n                        const revInDb: string = documentInDb._rev;\n\n                        // inserting a deleted document is possible\n                        // without sending the previous data.\n                        if (!writeRow.previous && documentInDb._deleted) {\n                            writeRow.previous = documentInDb;\n                        }\n\n                        if (\n                            (\n                                !writeRow.previous &&\n                                !documentInDb._deleted\n                            ) ||\n                            (\n                                !!writeRow.previous &&\n                                revInDb !== writeRow.previous._rev\n                            )\n                        ) {\n                            // conflict error\n                            const err: RxStorageBulkWriteError<RxDocType> = {\n                                isError: true,\n                                status: 409,\n                                documentId: id,\n                                writeRow: writeRow,\n                                documentInDb\n                            };\n                            ret.error[id] = err;\n                        } else {\n                            const isDeleted = !!writeRow.document._deleted;\n                            const writeDoc: any = Object.assign(\n                                {},\n                                writeRow.document,\n                                {\n                                    _deleted: isDeleted,\n                                    // TODO attachments are currently not working with lokijs\n                                    _attachments: {}\n                                }\n                            );\n                            changesIds.push(id);\n                            let change: ChangeEvent<RxDocumentData<RxDocType>> | null = null;\n                            if (writeRow.previous && writeRow.previous._deleted && !writeDoc._deleted) {\n                                /**\n                                 * Insert document that was deleted before.\n                                 */\n                                bulkPutDocs.push(writeDoc);\n                                bulkRemoveDeletedDocs.push(id);\n                                change = {\n                                    id,\n                                    operation: 'INSERT',\n                                    previous: null,\n                                    doc: writeDoc\n                                };\n                            } else if (writeRow.previous && !writeRow.previous._deleted && !writeDoc._deleted) {\n                                /**\n                                 * Update existing non-deleted document\n                                 */\n                                bulkPutDocs.push(writeDoc);\n                                change = {\n                                    id,\n                                    operation: 'UPDATE',\n                                    previous: writeRow.previous,\n                                    doc: writeDoc\n                                };\n                            } else if (writeRow.previous && !writeRow.previous._deleted && writeDoc._deleted) {\n                                /**\n                                 * Set non-deleted document to deleted.\n                                 */\n                                bulkPutDeletedDocs.push(writeDoc);\n                                bulkRemoveDocs.push(id);\n\n                                change = {\n                                    id,\n                                    operation: 'DELETE',\n                                    previous: writeRow.previous,\n                                    doc: null\n                                };\n                            } else if (\n                                writeRow.previous && writeRow.previous._deleted &&\n                                writeRow.document._deleted\n                            ) {\n                                // deleted doc was overwritten with other deleted doc\n                                bulkPutDeletedDocs.push(writeDoc);\n                            }\n                            if (!change) {\n                                if (\n                                    writeRow.previous && writeRow.previous._deleted &&\n                                    writeRow.document._deleted\n                                ) {\n                                    // deleted doc got overwritten with other deleted doc -> do not send an event\n                                } else {\n                                    throw newRxError('SNH', { args: { writeRow } });\n                                }\n                            } else {\n                                eventBulk.events.push({\n                                    eventId: getUniqueDeterministicEventKey(this, this.primaryPath as any, writeRow),\n                                    documentId: id,\n                                    change,\n                                    startTime,\n                                    // will be filled up before the event is pushed into the changestream\n                                    endTime: startTime\n                                });\n                            }\n                            ret.success[id] = writeDoc;\n                        }\n                    }\n                });\n                await Promise.all([\n                    bulkPutDocs.length > 0 ? state.dexieTable.bulkPut(bulkPutDocs.map(d => fromStorageToDexie(d))) : PROMISE_RESOLVE_VOID,\n                    bulkRemoveDocs.length > 0 ? state.dexieTable.bulkDelete(bulkRemoveDocs) : PROMISE_RESOLVE_VOID,\n                    bulkPutDeletedDocs.length > 0 ? state.dexieDeletedTable.bulkPut(bulkPutDeletedDocs.map(d => fromStorageToDexie(d))) : PROMISE_RESOLVE_VOID,\n                    bulkRemoveDeletedDocs.length > 0 ? state.dexieDeletedTable.bulkDelete(bulkRemoveDeletedDocs) : PROMISE_RESOLVE_VOID\n                ]);\n            });\n\n        const endTime = now();\n        eventBulk.events.forEach(event => event.endTime = endTime);\n        this.changes$.next(eventBulk);\n\n        return ret;\n    }\n\n    async findDocumentsById(\n        ids: string[],\n        deleted: boolean\n    ): Promise<{ [documentId: string]: RxDocumentData<RxDocType> }> {\n        const state = await this.internals;\n        const ret: { [documentId: string]: RxDocumentData<RxDocType> } = {};\n\n        await state.dexieDb.transaction(\n            'r',\n            state.dexieTable,\n            state.dexieDeletedTable,\n            async () => {\n                let docsInDb: RxDocumentData<RxDocType>[];\n                if (deleted) {\n                    docsInDb = await getDocsInDb<RxDocType>(this.internals, ids);\n                } else {\n                    docsInDb = await state.dexieTable.bulkGet(ids)\n                }\n                ids.forEach((id, idx) => {\n                    const documentInDb = docsInDb[idx];\n                    if (\n                        documentInDb &&\n                        (!documentInDb._deleted || deleted)\n                    ) {\n                        ret[id] = fromDexieToStorage(documentInDb);\n                    }\n                });\n            });\n        return ret;\n    }\n\n    query(preparedQuery: PreparedQuery<RxDocType>): Promise<RxStorageQueryResult<RxDocType>> {\n        return dexieQuery(\n            this,\n            preparedQuery\n        );\n    }\n\n    async getChangedDocumentsSince(\n        limit: number,\n        checkpoint?: DexieChangesCheckpoint\n    ): Promise<{\n        document: RxDocumentData<RxDocType>;\n        checkpoint: DexieChangesCheckpoint;\n    }[]> {\n        const sinceLwt = checkpoint ? checkpoint.lwt : RX_META_LWT_MINIMUM;\n        const sinceId = checkpoint ? checkpoint.id : '';\n        const state = await this.internals;\n\n\n        const [changedDocsNormal, changedDocsDeleted] = await Promise.all(\n            [\n                state.dexieTable,\n                state.dexieDeletedTable\n            ].map(async (table) => {\n                const query = table\n                    .where('[_meta.lwt+' + this.primaryPath + ']')\n                    .above([sinceLwt, sinceId])\n                    .limit(limit);\n                const changedDocuments: RxDocumentData<RxDocType>[] = await query.toArray();\n                return changedDocuments.map(d => fromDexieToStorage(d));\n            })\n        );\n        let changedDocs = changedDocsNormal.concat(changedDocsDeleted);\n\n        changedDocs = sortDocumentsByLastWriteTime(this.primaryPath as any, changedDocs);\n        changedDocs = changedDocs.slice(0, limit);\n        return changedDocs.map(docData => ({\n            document: docData,\n            checkpoint: {\n                id: docData[this.primaryPath] as any,\n                lwt: docData._meta.lwt\n            }\n        }));\n    }\n\n    async remove(): Promise<void> {\n        const state = await this.internals;\n        await Promise.all([\n            state.dexieDeletedTable.clear(),\n            state.dexieTable.clear()\n        ]);\n        return this.close();\n    }\n\n    changeStream(): Observable<EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>>> {\n        return this.changes$.asObservable();\n    }\n\n    async cleanup(minimumDeletedTime: number): Promise<boolean> {\n        const state = await this.internals;\n        await state.dexieDb.transaction(\n            'rw',\n            state.dexieDeletedTable,\n            async () => {\n                const maxDeletionTime = now() - minimumDeletedTime;\n                const toRemove = await state.dexieDeletedTable\n                    .where('_meta.lwt')\n                    .below(maxDeletionTime)\n                    .toArray();\n                const removeIds: string[] = toRemove.map(doc => doc[this.primaryPath]);\n                await state.dexieDeletedTable.bulkDelete(removeIds);\n            }\n        );\n\n        /**\n         * TODO instead of deleting all deleted docs at once,\n         * only clean up some of them and return false if there are more documents to clean up.\n         * This ensures that when many documents have to be purged,\n         * we do not block the more important tasks too long.\n         */\n        return true;\n    }\n\n    getAttachmentData(_documentId: string, _attachmentId: string): Promise<string> {\n        throw new Error('Attachments are not implemented in the dexie RxStorage. Make a pull request.');\n    }\n\n    async close(): Promise<void> {\n        if (this.closed) {\n            throw newRxError('SNH', {\n                database: this.databaseName,\n                collection: this.collectionName\n            });\n        }\n        this.closed = true;\n        this.changes$.complete();\n        closeDexieDb(this.internals);\n    }\n}\n\n\nexport async function createDexieStorageInstance<RxDocType>(\n    storage: RxStorageDexie,\n    params: RxStorageInstanceCreationParams<RxDocType, DexieSettings>,\n    settings: DexieSettings\n): Promise<RxStorageInstanceDexie<RxDocType>> {\n    const internals = getDexieDbWithTables(\n        params.databaseName,\n        params.collectionName,\n        settings,\n        params.schema\n    );\n\n    const instance = new RxStorageInstanceDexie(\n        storage,\n        params.databaseName,\n        params.collectionName,\n        params.schema,\n        internals,\n        params.options,\n        settings\n    );\n\n    return instance;\n}\n","import type {\n    DeterministicSortComparator,\n    QueryMatcher\n} from 'event-reduce-js';\nimport type {\n    MangoQuery,\n    RxDocumentData,\n    RxJsonSchema,\n    RxStorage,\n    RxStorageInstanceCreationParams,\n    RxStorageStatics\n} from '../../types';\nimport {\n    Query as MingoQuery\n} from 'mingo';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport { getDexieSortComparator } from './dexie-helper';\nimport {\n    DexieSettings,\n    DexieStorageInternals\n} from '../../types/plugins/dexie';\nimport {\n    createDexieStorageInstance,\n    RxStorageInstanceDexie\n} from './rx-storage-instance-dexie';\nimport { getPouchQueryPlan } from './query/dexie-query';\nimport { newRxError } from '../../rx-error';\n\n\nexport const RxStorageDexieStatics: RxStorageStatics = {\n    hash(data: Buffer | Blob | string): Promise<string> {\n        return new Promise(res => {\n            binaryMd5(data, (digest: string) => {\n                res(digest);\n            });\n        });\n    },\n    hashKey: 'md5',\n    doesBroadcastChangestream() {\n        return false;\n    },\n    prepareQuery<RxDocType>(\n        schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n        mutateableQuery: MangoQuery<RxDocType>\n    ) {\n\n        if (!mutateableQuery.sort) {\n            throw newRxError('SNH', {\n                query: mutateableQuery\n            });\n        }\n\n        /**\n         * Store the query plan together with the\n         * prepared query to save performance.\n         */\n        (mutateableQuery as any).pouchQueryPlan = getPouchQueryPlan(\n            schema,\n            mutateableQuery\n        );\n\n        return mutateableQuery;\n    },\n\n    getSortComparator<RxDocType>(\n        schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n        query: MangoQuery<RxDocType>\n    ): DeterministicSortComparator<RxDocType> {\n        return getDexieSortComparator(schema, query);\n    },\n\n    getQueryMatcher<RxDocType>(\n        _schema: RxJsonSchema<RxDocType>,\n        query: MangoQuery<RxDocType>\n    ): QueryMatcher<RxDocumentData<RxDocType>> {\n        const mingoQuery = new MingoQuery(query.selector ? query.selector : {});\n        const fun: QueryMatcher<RxDocumentData<RxDocType>> = (doc: RxDocumentData<RxDocType>) => {\n            if (doc._deleted) {\n                return false;\n            }\n            const cursor = mingoQuery.find([doc]);\n            const next = cursor.next();\n            if (next) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        return fun;\n    }\n\n}\n\n\nexport class RxStorageDexie implements RxStorage<DexieStorageInternals, DexieSettings> {\n    public name = 'dexie';\n    public statics = RxStorageDexieStatics;\n\n    constructor(\n        public settings: DexieSettings\n    ) { }\n\n    public createStorageInstance<RxDocType>(\n        params: RxStorageInstanceCreationParams<RxDocType, DexieSettings>\n    ): Promise<RxStorageInstanceDexie<RxDocType>> {\n        return createDexieStorageInstance(this, params, this.settings);\n    }\n}\n\n\nexport function getRxStorageDexie(\n    settings: DexieSettings = {}\n): RxStorageDexie {\n    const storage = new RxStorageDexie(settings);\n    return storage;\n}\n","import WorkerContext from \"./dist/worker/index.js\"\n\nexport const expose = WorkerContext.expose\nexport const registerSerializer = WorkerContext.registerSerializer\nexport const Transfer = WorkerContext.Transfer\n","import { getRxStorageDexie } from '../../dexie';\nimport { wrappedWorkerRxStorage } from '../../worker';\n\nconst indexedDB = require('fake-indexeddb');\nconst IDBKeyRange = require('fake-indexeddb/lib/FDBKeyRange');\n\nconst storage = getRxStorageDexie({\n    indexedDB,\n    IDBKeyRange\n});\nwrappedWorkerRxStorage({\n    storage\n});\n","/**\n * This file contains everything\n * that is supposed to run inside of the worker.\n */\nimport type {\n    BulkWriteRow,\n    EventBulk,\n    RxDocumentData,\n    RxStorage,\n    RxStorageBulkWriteResponse,\n    RxStorageChangeEvent,\n    RxStorageInstanceCreationParams,\n    RxStorageQueryResult\n} from '../../types';\nimport { expose } from 'threads/worker';\nimport { getFromMapOrThrow } from '../../util';\nimport { Observable } from 'rxjs';\n\n\nexport type InWorkerStorage = {\n    createStorageInstance<RxDocType>(\n        params: RxStorageInstanceCreationParams<RxDocType, any>\n    ): Promise<number>;\n    bulkWrite<DocumentData>(\n        instanceId: number,\n        documentWrites: BulkWriteRow<DocumentData>[]\n    ): Promise<RxStorageBulkWriteResponse<DocumentData>>;\n    findDocumentsById<DocumentData>(\n        instanceId: number,\n        ids: string[], deleted: boolean\n    ): Promise<{ [documentId: string]: RxDocumentData<DocumentData> }>;\n    query<DocumentData>(\n        instanceId: number,\n        preparedQuery: any\n    ): Promise<RxStorageQueryResult<DocumentData>>;\n    getAttachmentData(\n        instanceId: number,\n        documentId: string,\n        attachmentId: string\n    ): Promise<string>;\n    getChangedDocumentsSince<RxDocType>(\n        instanceId: number,\n        limit: number,\n        checkpoint: any\n    ): Promise<{\n        document: RxDocumentData<RxDocType>;\n        checkpoint: any;\n    }[]>;\n    changeStream<DocumentData>(\n        instanceById: number\n    ): Observable<EventBulk<RxStorageChangeEvent<RxDocumentData<DocumentData>>>>;\n    cleanup(instanceId: number, minDeletedTime: number): Promise<boolean>;\n    close(instanceId: number): Promise<void>;\n    remove(instanceId: number): Promise<void>;\n}\n\nexport function wrappedWorkerRxStorage<T, D>(\n    args: {\n        storage: RxStorage<T, D>\n    }\n) {\n    let nextId = 0;\n    const instanceById: Map<number, any> = new Map();\n\n    const exposeMe: InWorkerStorage = {\n        /**\n         * RxStorageInstance\n         */\n        async createStorageInstance(params) {\n            const instanceId = nextId++;\n            const instance = await args.storage.createStorageInstance(params);\n            instanceById.set(instanceId, instance);\n            return instanceId;\n        },\n        bulkWrite<DocumentData>(\n            instanceId: number,\n            documentWrites: BulkWriteRow<DocumentData>[]\n        ) {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.bulkWrite(documentWrites);\n        },\n        findDocumentsById<DocumentData>(\n            instanceId: number,\n            ids: string[],\n            deleted: boolean\n        ): Promise<{ [documentId: string]: RxDocumentData<DocumentData> }> {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.findDocumentsById(ids, deleted);\n        },\n        query<DocumentData>(\n            instanceId: number,\n            preparedQuery: any\n        ): Promise<RxStorageQueryResult<DocumentData>> {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.query(preparedQuery);\n        },\n        getAttachmentData(\n            instanceId: number,\n            documentId: string,\n            attachmentId: string\n        ): Promise<string> {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.getAttachmentData(\n                documentId,\n                attachmentId\n            );\n        },\n        getChangedDocumentsSince<RxDocType>(\n            instanceId: number,\n            limit: number,\n            checkpoint: any\n        ): Promise<{\n            document: RxDocumentData<RxDocType>;\n            checkpoint: any;\n        }[]> {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.getChangedDocumentsSince(\n                limit,\n                checkpoint\n            );\n        },\n        changeStream<DocumentData>(\n            instanceId: number\n        ): Observable<EventBulk<RxStorageChangeEvent<RxDocumentData<DocumentData>>>> {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.changeStream();\n        },\n        cleanup(\n            instanceId: number,\n            minDeletedTime: number\n        ) {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.cleanup(minDeletedTime);\n        },\n        close(instanceId: number) {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.close();\n        },\n        remove(instanceId: number) {\n            const instance = getFromMapOrThrow(instanceById, instanceId);\n            return instance.remove();\n        }\n    }\n    expose(exposeMe);\n}\n"],"names":["module","exports","fun","len","arguments","length","args","i","call","this","clone","_instanceof","obj","type","nativeMap","nativeSet","nativePromise","Map","_","Set","Promise","parent","circular","depth","prototype","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","Infinity","_clone","child","proto","resolve","reject","then","value","err","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","copy","Error","Object","create","getPrototypeOf","index","indexOf","push","forEach","key","keyChild","valueChild","set","entryChild","add","attrs","getOwnPropertyDescriptor","getOwnPropertySymbols","symbols","symbol","descriptor","enumerable","defineProperty","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","o","toString","re","flags","global","ignoreCase","multiline","clonePrototype","c","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","Function","ownKeys","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","once","emitter","name","errorListener","removeListener","resolver","slice","eventTargetAgnosticAddListener","handler","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","emit","unshift","warned","w","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","n","addEventListener","wrapListener","arg","removeEventListener","get","RangeError","setMaxListeners","getMaxListeners","doError","error","er","message","context","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","pop","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","__values","s","Symbol","iterator","next","done","FDBKeyRange_1","FDBObjectStore_1","cmp_1","errors_1","extractKey_1","structuredClone_1","valueToKey_1","getEffectiveObjectStore","cursor","default","objectStore","makeKeyRange","range","lowers","uppers","e_1","_a","e_2","_b","lower","upper","lowers_1","lowers_1_1","lowerTemp","e_1_1","return","uppers_1","uppers_1_1","upperTemp","e_2_1","bound","lowerBound","upperBound","FDBCursor","direction","request","keyOnly","_gotValue","_position","_objectStorePosition","_keyOnly","_key","_primaryKey","_range","_source","_direction","_request","val","configurable","_iterate","primaryKey","e_3","e_4","e_5","_c","e_6","_d","foundRecord","result","sourceIsObjectStore","records","_rawObjectStore","_rawIndex","_e","values","_f","record","cmpResultKey","cmpResultPosition","cmpResultPrimaryKey","includes","e_3_1","_g","_h","e_4_1","_j","_k","e_5_1","tempRecord","_l","_m","e_6_1","getValue","update","effectiveObjectStore","effectiveKey","hasOwnProperty","transaction","_state","TransactionInactiveError","mode","ReadOnlyError","deleted","InvalidStateError","keyPath","tempKey","DataError","_execRequestAsync","operation","storeRecord","_rollbackLog","advance","_this","isInteger","readyState","continue","cmpResult","continuePrimaryKey","InvalidAccessError","cmpResult2","delete","deleteRecord","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","__","constructor","FDBCursorWithValue","_super","FDBTransaction_1","fakeDOMStringList_1","FakeEventTarget_1","ObjectStore_1","scheduling_1","validateKeyPath_1","confirmActiveVersionchangeTransaction","database","_runningVersionchangeTransaction","transactions","_rawDatabase","filter","tx","closeConnection","connection","_closePending","every","_closed","connections","otherConnection","queueTask","FDBDatabase","rawDatabase","version","objectStoreNames","from","rawObjectStores","sort","createObjectStore","options","autoIncrement","has","ConstraintError","isArray","_scope","rawObjectStore","deleteObjectStore","store","NotFoundError","objectStoreName","_objectStoresCache","storeNames","some","db","storeNames_1","storeNames_1_1","storeName","processTransactions","close","__read","r","e","ar","FDBDatabase_1","FDBOpenDBRequest_1","FDBVersionChangeEvent_1","Database_1","enforceRange_1","FakeEvent_1","waitForOthersClosedDelete","databases","openDatabases","cb","openDatabase2","openDatabase","VersionError","oldVersion","otherDatabase","openDatabases_2","openDatabases_2_1","event_3","newVersion","dispatchEvent","openDatabase3","event_4","waitForOthersClosed","anyOpen2","event","AbortError","runVersionchangeTransaction","FDBFactory","cmp","_databases","deleteDatabase","deletePending","openDatabases_1","openDatabases_1_1","event_1","anyOpen","event_2","event_5","bubbles","cancelable","eventPath","event2","open","event_6","name_1","FDBCursor_1","FDBCursorWithValue_1","FDBRequest_1","valueToKeyRange_1","confirmActiveTransaction","FDBIndex","rawIndex","_name","multiEntry","unique","indexNames","oldName","oldIndexNames","_indexesCache","rawIndexes","indexName","openCursor","only","openKeyCursor","getAll","query","getAllValues","getKey","getAllKeys","FDBKeyRange","lowerOpen","upperOpen","FDBIndex_1","canInjectKey_1","Index_1","buildRecordAddPut","keyGenerator","FDBObjectStore","oldObjectStoreNames","oldScope","oldTransactionObjectStoreNames","put","clear","createIndex","optionalParameters","index2","initialize","deleteIndex","rawIndex2","FDBOpenDBRequest","onupgradeneeded","onblocked","FDBRequest","_result","_error","onsuccess","onerror","FDBTransaction","_started","onabort","oncomplete","_requests","_abort","errName","reverse","f","abort","objectStore2","_start","defaultAction","canceled","commit","FDBVersionChangeEvent","parameters","fakeIndexedDB","fakeIndexedDB_1","Database","find","Event","eventInitDict","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","propagationStopped","immediatePropagationStopped","initialized","dispatched","currentTarget","eventPhase","defaultPrevented","isTrusted","timeStamp","now","preventDefault","stopPropagation","stopImmediatePropagation","stopped","capture","invokeEventListeners","callback","prop","blocked","complete","success","upgradeneeded","versionchange","FakeEventTarget","findIndex","splice","RecordStore_1","Index","newRecord","indexKey","keep","indexKey_1","indexKey_1_1","part","indexKey_2","indexKey_2_1","individualIndexKey","indexKey_3","indexKey_3_1","MAX_KEY","KeyGenerator","num","setIfLarger","Math","floor","min","KeyGenerator_1","ObjectStore","noOverwrite","rollbackLog","keyGeneratorBefore_1","remainingKeyPath","object","identifier","deletedRecords","_loop_1","deletedRecords_1","deletedRecords_1_1","deleteByValue","e_7","_loop_2","deletedRecords_2","deletedRecords_2_1","e_7_1","binarySearch_1","RecordStore","getByKeyRange","getByKey","getIndexByKeyGTE","isRange","idx","getIndexByKeyRange","getIndexByKey","shouldDelete","binarySearch","mid","low","high","keyRange","lowerIdx","upperIdx","identifiers","split","identifiers_1","identifiers_1_1","getType","x","ArrayBuffer","first","second","t1","t2","Uint8Array","length_1","max","messages","DataCloneError","extractKey","keyPath_1","keyPath_1_1","item","arr2","globals","globalThis","g","self","window","getGlobal","setImmediate","navigator","test","userAgent","outerRealmFunctionConstructor","Node","fn","setTimeout","realisticStructuredClone","input","validateKeyPath","SyntaxError","keyPath_2","keyPath_2_1","valueToKey","seen","ms","valueOf","isView","buffer","entry","nullDisallowedFlag","draining","currentQueue","scheduleDrain","types","queueIndex","queue","scheduled","cleanUpNextTick","nextTick","timeout","run","clearTimeout","install","Item","array","task","MessageChannel","func","channel","port1","onmessage","port2","postMessage","Mutation","MutationObserver","WebKitMutationObserver","handle","called","observer","element","document","createTextNode","observe","characterData","data","queueMicrotask","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","t","ctor","superCtor","super_","writable","TempCtor","process","versions","electron","observable","Aggregator","core_1","lazy_1","util_1","pipeline","makeOptions","stream","collection","Lazy","processingMode","ProcessingMode","CLONE_ALL","CLONE_INPUT","map","cloneDeep","pipelineOperators","isEmpty","_i","operator","operatorKeys","op","getOperator","OperatorType","PIPELINE","assert","CLONE_OUTPUT","intersection","__spreadArray","to","pack","l","redact","computeValue","addOperators","useOperators","assign","idKey","CLONE_OFF","OPERATORS","ACCUMULATOR","EXPRESSION","PROJECTION","QUERY","validateOperatorMap","operators","entries","k","v","isOperator","cls","into","operatorType","operatorFactory","customOperators","normalizedOperators","selector","lhs","unwrapArray","expr","_loop_3","systemVariables","$$ROOT","root","$$CURRENT","$$REMOVE","redactVariables","$$KEEP","$$PRUNE","$$DESCEND","current","isObjectLike","current_1","elem","isObject","isNil","isString","substr","_loop_4","JSON","stringify","state_1","Cursor","aggregator_1","predicate","projection","stack","fetch","$project","all","skip","$skip","limit","$limit","modifier","$sort","collation","spec","hasNext","each","query_1","aggregator_2","query_2","criteria","Query","remove","aggregate","__createBinding","k2","__setModuleDefault","__importStar","mod","__esModule","booleanOperators","comparisonOperators","pipeline_1","projectionOperators","queryOperators","Iterator","dropItem","rest","Action","DONE","nextVal","nextFn","iteratees","bufferIndex","yieldedValues","isSingle","isDone","src_1","data_1","size_1","index_1","getNext","storeResult","outer","size","innerDone","action","MAP","FILTER","TAKE","DROP","validate","take","drop","transform","iter","reduce","initialValue","acc","$type","$elemMatch","$size","$all","$exists","$regex","$mod","$gte","$gt","$lte","$lt","$nin","$in","$ne","$eq","createExpressionOperator","createQueryOperator","a","isEqual","eq","flatten","isNull","ensureArray","hashFunction","isNonBooleanOperator","format","temp","compareType","BsonType","DOUBLE","DECIMAL","isNumber","JsType","STRING","OBJECT","ARRAY","UNDEFINED","BOOLEAN","BOOL","isBoolean","DATE","isDate","NULL","REGEXP","REGEX","isRegExp","INT","MIN_INT","MAX_INT","LONG","MIN_LONG","MAX_LONG","compare","opts","y","match","exec","queries","matched","inArray","queries_1","$slice","$and","truthy","__exportStar","$not","booleanExpr","$or","$cmp","_predicates_1","__assign","$addFields","newFields","newObj","newFields_1","field","newValue","setValue","removeValue","$bucket","boundaries","defaultKey","outputExpr","output","$sum","boundType","grouped","boundaries_1","groupBy","sorted","lo","hi","round","findInsertIndex","boundKey","_id","$bucketAuto","groupByExpr","bucketCount","buckets","coll","approxBucketSize","computeValueOptimized","memoize","remaining","sortBy","bucketItems","j","$count","trim","$facet","objectMap","$group","id","partitions","groups","$lookup","joinColl","collectionResolver","hash","joinColl_1","hashCode","foreignField","localField","as","$match","q","$out","outputColl","processObject","expressionKeys","idOnlyExcluded","foundSlice","foundExclusion","dropKeys","subExpr","subExprObj_1","subExprKeys_1","validateExpression","objPathGraph","resolveGraph","preserveMissing","merge","notInArray","expressionKeys_1","filterMissing","dropKeys_1","check","ID_KEY","$redact","$replaceRoot","newRoot","$replaceWith","replaceRoot_1","$sample","xs","random","$set","addFields_1","sortKeys","collationSpec","locale","localeOpt","sensitivity","COLLATION_STRENGTH","strength","caseFirst","numeric","numericOrdering","ignorePunctuation","alternate","caseLevel","collator","Intl","Collator","collationComparator","sortedIndex","indexKeys","indexKeys_1","$sortByCount","group_1","sort_1","newExpr","$unset","project_1","doc","expr_1","$unwind","path","includeArrayIndex","preserveNullAndEmptyArrays","tmp","wrapper","preserveKeys","slice_1","exprAsArray","createBitwiseOperator","mask","mask_1","$bitsAllClear","_internal_1","$bitsAllSet","$bitsAnyClear","$bitsAnySet","bitsAllClear_1","bitsAllSet_1","bitsAnyClear_1","bitsAnySet_1","$expr","$jsonSchema","schema","jsonSchemaValidator","$nor","or_1","normalize","cursor_1","compiled","compile","whereOperator","processOperator","traverse","union","isUndefined","isFunction","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","MISSING","DEFAULT_HASH_FUNC","encode","charCodeAt","JS_SIMPLE_TYPES","NUMBER","OBJECT_PROTOTYPE","OBJECT_TYPE_RE","objKeys","toLowerCase","toISOString","join","prefix","condition","FUNCTION","inputs","flipped","maxSize","maxResult","lookup","memo","indexes","ys","flatten2","rhs","nativeType","ka","kb","h","xs_1","keyFn","comparator","collection_1","MAX_ARRAY_PUSH","ceil","begin","force","names","resolve2","subpath_1","isIndex","obj_1","parseInt","item_1","OPERATOR_NAME_PATTERN","factory","toStr","intKey","hasShallowProperty","getShallowPropertySafely","objectPath","proxy","getShallowProperty","doNotReplace","currentPath","currentValue","includeInheritedProps","ensureExists","insert","at","empty","coalesce","paths","defaultValue","nextObj","del","withInheritedProps","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","tail","substring","md51_array","subarray","rhex","hex","toUtf8","str","unescape","encodeURIComponent","utf8Str2ArrayBuffer","returnUInt8Array","buff","arrayBuffer2Utf8Str","fromCharCode","concatenateArrayBuffers","byteLength","hexToBinaryString","bytes","SparkMD5","reset","clamp","targetArray","sourceArray","end","append","appendBinary","contents","_buff","_length","_hash","raw","_finish","getState","setState","destroy","hashBinary","content","byteToHex","_default","buf","offset","bth","_v","_v2","_v3","_v4","_interopRequireDefault","getOutputLength","inputLength8","safeAdd","lsw","md5cmn","cnt","md5ff","md5gg","md5hh","md5ii","msg","length32","hexTab","charAt","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","getRandomValues","rnds8","crypto","msCrypto","z","ROTL","K","H","N","M","pow","W","T","_rng","_bytesToUuid","_nodeId","_clockseq","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","rng","msecs","nsecs","dt","tl","tmh","_md","hashfunc","generateUUID","namespace","stringToBytes","uuid","replace","uuidToBytes","DNS","URL","rnds","start","_sha","define","u","code","_dereq_","DOMException","Typeson","structuredCloningThrowing","globalVar","WorkerGlobalScope","TSON","register","revive","encapsulate","entryUnbind","isCallable","tryToString","argument","wellKnownSymbol","definePropertyModule","UNSCOPABLES","ArrayPrototype","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","uncurryThis","stringSlice","it","hasOwn","getOwnPropertyDescriptorModule","exceptions","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","EXISTS","getBuiltIn","Deno","v8","CONSTRUCTOR","METHOD","_typeof","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","NATIVE_BIND","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","aFunction","method","aCallable","V","P","toObject","classof","propertyIsEnumerable","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","TYPE","wmget","wmhas","wmset","metadata","facade","STATE","replacement","feature","detection","POLYFILL","NATIVE","string","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","V8_VERSION","activeXDocument","anObject","definePropertiesModule","enumBugKeys","html","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","src","contentWindow","F","_NullProtoObject","ActiveXObject","domain","Properties","V8_PROTOTYPE_DEFINE_BUG","objectKeys","defineProperties","props","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","propertyIsEnumerableModule","internalObjectKeys","$propertyIsEnumerable","NASHORN_BUG","TO_ENTRIES","pref","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","uid","SHARED","IS_PURE","copyright","license","toIntegerOrInfinity","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","_Symbol","symbolFor","createWellKnownSymbol","withoutSetter","description","$","$includes","addToUnscopables","$values","_slicedToArray","sliceIterator","_arr","_n","_s","_createClass","Constructor","protoProps","staticProps","_classCallCheck","instance","legacyErrorCodes","idlUtils","implementation","DOMExceptionImpl","_ref","_ref2","impl","captureStackTrace","wrapperForImpl","conversions","utils","implSymbol","iface","setup","toStringTag","mixedInto","is","Impl","isImpl","convert","_ref$context","implForWrapper","constructorArgs","privateData","createImpl","_internalSetup","wrapperSymbol","interface","expose","Window","Worker","getReferenceToBytes","bufferSource","byteOffset","getCopyToBytes","mixin","sameObjectCaches","getSameObject","creator","tryWrapperForImpl","tryImplForWrapper","iterInternalSymbol","IteratorPrototype","_typeof2","_typeof$1","_classCallCheck$1","_defineProperties$1","_defineProperty$1","ownKeys$1","_toConsumableArray$1","_arrayLikeToArray$1","_defineProperties","_defineProperty","_objectSpread2","getOwnPropertyDescriptors","_unsupportedIterableToArray","_toConsumableArray","_arrayLikeToArray","TypesonPromise","__typeson__type__","catch","isThenable","hasConstructorOf","isPlainObject","escapeKeyPathComponent","unescapeKeyPathComponent","getByKeyPath","setAtKeyPath","_await","_async","nestedPathsFirst","keypath","plainObjectReplacers","nonplainObjectReplacers","revivers","stringification","throwOnBadSyncType","sync","parse","returnTypeNames","iterateNone","_encapsulate","cyclic","encapsulateObserver","finish","getJSONType","$types","_adaptBuiltinStateObjectProperties","stateObj","promisesData","resolvingTypesonPromise","awaitingTypesonPromise","NEGATIVE_INFINITY","POSITIVE_INFINITY","replaced","iterateIn","iterateUnsetNumeric","cyclicKeypath","S","addLength","A","Boolean","endIterateIn","endIterateOwn","C","I","endIterateUnsetNumeric","replaceAsync","replacing","typeDetected","executeReviver","reviveAsync","checkUndefined","plain","reducer","_revive","JSON_TYPES","testPlainObjects","fallback","Undefined","isUserObject","userObject","arrayNonindexKeys","sparseUndefined","undef","StringObject","BooleanObject","NumberObject","nan","NaN","infinity","negativeInfinity","date","regexp","sticky","unicode","arraybuffer","buffers","encoded","dataview","DataView","IntlCollator","resolvedOptions","IntlDateTimeFormat","DateTimeFormat","IntlNumberFormat","NumberFormat","string2arraybuffer","file","XMLHttpRequest","overrideMimeType","createObjectURL","send","status","stringContents","responseText","lastModified","File","FileReader","readAsBinaryString","bigint","BigInt","E","bigintObject","B","cryptokey","extractable","subtle","exportKey","jwk","algorithm","usages","importKey","imagedata","width","height","ImageData","Uint8ClampedArray","imagebitmap","dataset","getContext","drawImage","toDataURL","createImageBitmap","filelist","FileList","_files","blob","Blob","checkDataCloneException","nodeType","insertBefore","amd","presets","evenRound","censorNegativeZero","integerPart","trunc","sign","modulo","signMightNotMatch","createIntegerConversion","bitLength","typeOpts","isSigned","unsigned","twoToTheBitLength","twoToOneLessThanTheBitLength","enforceRange","isFinite","convertCallbackFunction","any","void","boolean","byte","octet","short","long","double","float","fround","DOMString","treatNullAsEmptyString","ByteString","codePointAt","USVString","U","fromCodePoint","Int8Array","Int16Array","Int32Array","Uint16Array","Float32Array","Float64Array","article","ArrayBufferView","BufferSource","DOMTimeStamp","VoidFunction","serialize","deserialize","registerSerializer","serializers_1","registeredSerializer","DefaultSerializer","serializer","extendSerializer","extend","fallbackDeserializer","fallbackSerializer","DefaultErrorSerializer","__error_marker","thing","$worker","$transferable","$terminate","$events","$errors","Transfer","isTransferDescriptor","symbols_1","payload","transferables","WorkerMessageType","MasterMessageType","isWorkerRuntime","isWindowContext","postMessageToMaster","transferList","subscribeToMasterMessages","onMessage","messageHandler","messageEvent","__awaiter","thisArg","_arguments","generator","fulfilled","step","rejected","__importDefault","is_observable_1","common_1","transferable_1","messages_1","implementation_1","common_2","transferable_2","exposeCalled","activeSubscriptions","isMasterJobRunMessage","isObservable","subscribe","isZenObservable","deconstructTransfer","postJobErrorMessage","rawError","errorMessage","postJobResultMessage","completed","resultValue","resultMessage","postUncaughtErrorMessage","uncaughtError","subError","runFunction","jobUID","syncResult","resultType","startMessage","running","postJobStartMessage","subscription","exposed","messageData","initMessage","postFunctionInitMessage","methodNames","methods","postModuleInitMessage","cancel","unsubscribe","reason","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","thisBtoa","btoa","setImmediateShim","appendBlob","webkitSlice","sliceBlob","reader","onloadend","readAsArrayBuffer","arrayBuffer","appendString","binaryMd5","inputIsString","chunkSize","chunks","currentChunk","loadNextChunk","base64","rawToBase64","isFrozen","D","location","href","L","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","Y","failures","failedKeys","successCount","G","failuresByPos","_stack","Q","X","inner","Syntax","Type","Range","J","Z","ee","te","ne","se","ie","oe","ae","ue","ModifyError","DexieError","BulkError","le","ce","he","de","digest","fe","pe","ye","me","ve","qe","attributes","setAttribute","ge","Oe","be","we","xe","ke","Ee","Pe","ref","unhandleds","onunhandled","ct","pgp","env","finalize","Ke","Se","Ae","Ce","onuncatched","_lib","_PSD","_stackHolder","_prev","_numPrev","_value","Be","Ie","je","Qe","et","Re","De","ut","Ne","onFulfilled","onRejected","psd","$e","_then","Te","Ue","_promise","Le","Fe","Me","Ve","We","st","finally","Timeout","tt","race","PSD","totalEchoes","newPSD","Je","usePSD","ot","scheduler","rejectionMapper","follow","allSettled","AggregateError","Ye","awaits","echoes","ze","Ge","He","Xe","PromiseProp","nthen","lt","gthen","Ze","ht","nt","rt","promise","createEvent","initEvent","CustomEvent","detail","PromiseRejectionEvent","onunhandledrejection","idbdb","openComplete","letThrough","_vip","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","_close","trans","_completion","dbOpenError","isBeingOpened","_options","autoOpen","dbReadyPromise","ft","pt","yt","mt","vt","gt","bt","_t","wt","xt","kt","Et","_trans","_tx","NotFound","idbtrans","transless","where","core","hook","reading","fire","WhereClause","equals","primKey","compound","_maxKey","idxByName","_deps","indexedDB","multi","toCollection","and","toArray","Collection","orderBy","mapToClass","mappedClass","table","readHook","defineClass","auto","mutate","numFailures","lastResult","modify","InvalidArgument","bulkGet","getMany","bulkAdd","allKeys","wantResults","results","bulkPut","bulkDelete","Pt","addEventType","subscribers","Kt","Ot","_allTables","creating","updating","deleting","St","or","justLimit","replayFilter","At","Ct","jt","isPrimKey","getIndexByKeyPath","Schema","Dt","keysOnly","dir","It","stop","fail","Bt","valueMapper","Tt","Rt","Ft","Mt","_read","_ctx","_write","_addAlgorithm","until","last","isMatch","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","outbound","modifyChunkSize","cache","Nt","changeSpec","qt","$t","Ut","Gt","Lt","zt","Vt","Wt","toUpperCase","Yt","between","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWith","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","_min","_max","startsWithAnyOf","Ht","Qt","Xt","Jt","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","OpenFailed","active","durability","chromeTransactionDurability","_reject","_resolve","storagemutated","mutatedParts","ReadOnly","_root","waitFor","_waitingFor","_waitingQueue","_spinCount","_memoizedTables","Table","Zt","en","tn","nn","rn","sn","an","un","hasGetAll","tables","isPrimaryKey","_pos","___id","MIN_KEY","ln","_novip","IDBKeyRange","dbcore","_middlewares","vip","cn","Ln","hn","dn","_cfg","_storeNames","yn","populate","_versions","vn","dbschema","gn","pn","change","recreate","Upgrade","mn","contentUpgrade","Transaction","contains","def","_hasGetAll","bn","_parseStoresSpec","stores","storesSource","upgrade","_dbNamesDB","addons","dbnames","wn","xn","kn","userAgentData","setInterval","clearInterval","Pn","throw","Kn","On","PrematureCommit","Sn","An","level","isVirtual","keyTail","keyLength","Cn","jn","Dn","In","_cache","Bn","Tn","Rn","qn","Fn","Nn","up","$n","addKey","addKeys","Un","subscr","verno","dependencies","onReadyBeingFired","dbReadyResolve","cancelOpen","openCanceller","autoSchema","ready","Version","_IDBKeyRange","_fireOnBlocked","vcFired","use","_whenReady","unuse","allowEmptyDB","NoSuchDatabase","onversionchange","onclose","En","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","SubTransaction","InvalidTable","Vn","Wn","_subscribe","Yn","Gn","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","Hn","Qn","Xn","exists","getDatabaseNames","ignoreTransaction","async","spawn","currentTransaction","debug","derive","override","Events","liveQuery","closed","Mn","extendObservabilitySet","setByKeyPath","delByKeyPath","shallowClone","deepClone","getObjectDiff","asap","minKey","errnames","semVer","maxKey","initCustomEvent","BroadcastChannel","localStorage","setItem","trig","changedParts","clients","matchAll","includeUncontrolled","serviceWorker","_lastNow","PROMISE_RESOLVE_VOID","ensureNotFalsy","randomCouchString","text","possible","flatClone","isElectron","getFromMapOrThrow","_setPrototypeOf","_inheritsLoose","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","construct","Proxy","_construct","Parent","Class","_wrapNativeSuper","Wrapper","overwritable","messageForError","paramStr","parametersToString","RxError","mes","rxdb","newRxError","getPrimaryFieldOfPrimaryKey","getDocsInDb","internals","docIds","dexieTable","dexieDeletedTable","nonDeletedDocsInDb","docsInDb","DEXIE_DOCS_TABLE_NAME","DEXIE_STATE_DB_BY_NAME","REF_COUNT_PER_DEXIE_DB","getDexieDbWithTables","databaseName","collectionName","settings","primaryPath","dexieDbName","useSettings","dexieDb","Dexie","rxJsonSchema","parts","arIndex","dexieReplaceIfStartsWithPipe","getDexieStoreSchema","DEXIE_DELETED_DOCS_TABLE_NAME","dexieChangesTable","DEXIE_PIPE_SUBSTITUTE","withoutFirst","fromStorageToDexie","documentData","row","fromDexieToStorage","createErrorClass","ctorFunc","UnsubscriptionError","errors","arrRemove","Subscription","initialTeardown","_parentage","_finalizers","_parentage_1","_parentage_1_1","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","teardown","_hasParent","_addParent","_removeParent","EMPTY","EMPTY_SUBSCRIPTION","isSubscription","config","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","delegate","noop","COMPLETE_NOTIFICATION","createNotification","kind","errorContext","isRoot","errorThrown","Subscriber","destination","isStopped","EMPTY_OBSERVER","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_complete","_bind","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","reportUnhandledError","notification","subscriber","identity","pipeFromArray","fns","prev","Observable","lift","isObserver","_trySubscribe","sink","promiseCtor","getPromiseCtor","pipe","operations","toPromise","ObjectUnsubscribedError","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","_checkFinalizedStatuses","_innerSubscribe","asObservable","primarySwapPouchDbQuerySelector","getPouchIndexDesignDocNameByIndex","mangle","unmangle","Map$1","_store","Set$1","mangled","res","species","supportsMapAndSet","PouchError","funcToString","pick","hasLocal","getItem","hasLocalStorage","Changes","attachBrowserEvents","dbName","inprogress","eventFunction","changesOpts","changes","seq","since","cancelled","onChange","notifyLocalWindows","notify","left","right","preparePouchDbQuery","mutateableQuery","sortPart","usePath","schemaObj","trimDots","sortArray","indexMaybeArray","indexArray","isMaybeReadonlyArray","use_index","IDB_NULL","IDB_FALSE","IDB_TRUE","IDB_COLLATE_LO","IDB_COLLATE_HI","subArr","mergeObjects","oneArrayIsSubArrayOfOther","arrayEquals","arr1","COLLATE_LO","SHORT_CIRCUIT_QUERY","queryOpts","startkey","endkey","inMemoryFields","checkFieldInIndex","indexFields","fields","userOperatorLosesPrecision","sortFieldsByIndex","userFields","aIdx","bIdx","MAX_VALUE","getInMemoryFields","coreInMemoryFields","needToFilterInMemory","getBasicInMemoryFields","matcher","getInMemoryFieldsFromNe","uniq","checkIndexFieldsMatch","sortOrder","sortMatches","selectorMatches","leftIdx","oneSetIsSubArrayOfOther","logicalMatchers","isNonLogicalMatcher","checkIndexMatches","checkFieldsLogicallySound","findBestMatchingIndex","useIndex","matchingIndexes","findMatchingIndexes","defaultIndex","defaultUsed","userFieldsMap","arrayToObject","useIndexDdoc","useIndexName","ddoc","maxScore","score","indexField","getSingleFieldCoreQueryPlan","combinedOpts","userOperator","newQueryOpts","userValue","inclusive_end","inclusive_start","getSingleFieldQueryOptsFor","getMultiFieldCoreQueryPlan","getCoreQueryPlan","_idx","getDefaultQueryPlan","inclusiveStart","inclusiveEnd","usingGtlt","previousKeys","previousWasEq","previousWasSame","userOperators","newOpts","getMultiFieldQueryOpts","planQuery","shouldShortCircuit","userFieldsRes","selectorFields","sortFields","rightIdx","getUserFields","coreQueryPlan","dexieQuery","preparedQuery","queryMatcher","RxStorageDexieStatics","getQueryMatcher","sortComparator","getSortComparator","skipPlusLimit","queryPlan","pouchQueryPlan","defined","exact","descending","realEndkey","realInclusiveEnd","generateKeyRange","getDexieKeyRange","queryPlanFields","fieldObj","sortFieldsSameAsIndexFields","mustManuallyResort","rows","dexieTx","cursorReq","docData","documents","getUniqueDeterministicEventKey","storageInstance","writeRow","docId","binary","previous","_deleted","_rev","instanceId","RxStorageInstanceDexie","storage","changes$","bulkWrite","documentWrites","eventBulk","documentKeys","bulkPutDocs","bulkRemoveDocs","bulkPutDeletedDocs","bulkRemoveDeletedDocs","changesIds","docIndex","startTime","documentInDb","revInDb","isError","documentId","isDeleted","writeDoc","_attachments","eventId","endTime","insertedIsDeleted","findDocumentsById","ids","getChangedDocumentsSince","checkpoint","sinceLwt","lwt","sinceId","changedDocuments","changedDocsNormal","changedDocsDeleted","changedDocs","_meta","getSortDocumentsByLastWriteTimeComparator","changeStream","cleanup","minimumDeletedTime","maxDeletionTime","toRemove","removeIds","getAttachmentData","_documentId","_attachmentId","statePromise","newCount","hashKey","doesBroadcastChangestream","prepareQuery","pouchCompatibleIndexes","indexPart","fieldName","getPouchQueryPlan","_schema","mingoSortObject","sortBlock","sortDirectionToMingo","mingo","getDexieSortComparator","mingoQuery","MingoQuery","RxStorageDexie","statics","createStorageInstance","params","createDexieStorageInstance","nextId","instanceById","exposeMe","getRxStorageDexie","require","attachmentId","minDeletedTime"],"sourceRoot":""}