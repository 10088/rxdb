{"version":3,"file":"webpack.config.js","names":["path","require","TerserPlugin","projectRootPath","resolve","__dirname","babelConfig","module","exports","entry","output","filename","clean","mode","cache","type","cacheDirectory","devtool","rules","test","exclude","use","loader","options","extensions","fallback","fs","optimization","moduleIds","minimize","minimizer","terserOptions","format","comments","extractComments"],"sources":["../../../../../src/plugins/worker/workers/webpack.config.js"],"sourcesContent":["const path = require('path');\nconst TerserPlugin = require('terser-webpack-plugin');\n\nconst projectRootPath = path.resolve(\n    __dirname,\n    '../../../../'\n);\n\nconst babelConfig = require('../../../../babel.config');\nmodule.exports = {\n    entry: {\n        'lokijs-incremental-indexeddb': './src/plugins/worker/workers/lokijs-incremental-indexeddb.worker.ts',\n        'lokijs-indexeddb': './src/plugins/worker/workers/lokijs-indexeddb.worker.ts',\n        'lokijs-memory': './src/plugins/worker/workers/lokijs-memory.worker.ts',\n        'lokijs-fs': './src/plugins/worker/workers/lokijs-fs.worker.ts',\n        'pouchdb-idb': './src/plugins/worker/workers/pouchdb-idb.worker.ts',\n        'pouchdb-memory': './src/plugins/worker/workers/pouchdb-memory.worker.ts',\n        'dexie': './src/plugins/worker/workers/dexie.worker.ts',\n        'dexie-memory': './src/plugins/worker/workers/dexie-memory.worker.ts'\n    },\n    output: {\n        filename: '[name].worker.js',\n        clean: true,\n        path: path.resolve(\n            projectRootPath,\n            'dist/workers'\n        ),\n    },\n    mode: 'production',\n    cache: {\n        type: 'filesystem',\n        cacheDirectory: path.resolve(\n            projectRootPath,\n            'test_tmp',\n            'webpack-cache'\n        ),\n    },\n    devtool: 'source-map',\n    module: {\n        rules: [\n            /**\n             * We transpile the typscript via babel instead of ts-loader.\n             * This ensures we have the exact same babel config\n             * as the root RxDB project.\n             */\n            {\n                test: /\\.tsx?$/,\n                exclude: /(node_modules)/,\n                use: {\n                    loader: 'babel-loader',\n                    options: babelConfig\n                }\n            }\n        ],\n    },\n    resolve: {\n        extensions: ['.tsx', '.ts', '.js'],\n        /**\n         * Fix LokiJS bundle error\n         * @link https://rxdb.info/rx-storage-lokijs.html\n         */\n        fallback: {\n            fs: false\n        }\n    },\n    optimization: {\n        moduleIds: 'deterministic',\n        minimize: true,\n        minimizer: [new TerserPlugin({\n            terserOptions: {\n                format: {\n                    comments: false,\n                },\n            },\n            /**\n             * Disable creating the license files.\n             * @link https://github.com/webpack/webpack/issues/12506#issuecomment-789314176\n             */\n            extractComments: false,\n        })],\n    }\n};\n"],"mappings":";;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMC,YAAY,GAAGD,OAAO,CAAC,uBAAD,CAA5B;;AAEA,IAAME,eAAe,GAAGH,IAAI,CAACI,OAAL,CACpBC,SADoB,EAEpB,cAFoB,CAAxB;;AAKA,IAAMC,WAAW,GAAGL,OAAO,CAAC,0BAAD,CAA3B;;AACAM,MAAM,CAACC,OAAP,GAAiB;EACbC,KAAK,EAAE;IACH,gCAAgC,qEAD7B;IAEH,oBAAoB,yDAFjB;IAGH,iBAAiB,sDAHd;IAIH,aAAa,kDAJV;IAKH,eAAe,oDALZ;IAMH,kBAAkB,uDANf;IAOH,SAAS,8CAPN;IAQH,gBAAgB;EARb,CADM;EAWbC,MAAM,EAAE;IACJC,QAAQ,EAAE,kBADN;IAEJC,KAAK,EAAE,IAFH;IAGJZ,IAAI,EAAEA,IAAI,CAACI,OAAL,CACFD,eADE,EAEF,cAFE;EAHF,CAXK;EAmBbU,IAAI,EAAE,YAnBO;EAoBbC,KAAK,EAAE;IACHC,IAAI,EAAE,YADH;IAEHC,cAAc,EAAEhB,IAAI,CAACI,OAAL,CACZD,eADY,EAEZ,UAFY,EAGZ,eAHY;EAFb,CApBM;EA4Bbc,OAAO,EAAE,YA5BI;EA6BbV,MAAM,EAAE;IACJW,KAAK,EAAE;IACH;AACZ;AACA;AACA;AACA;IACY;MACIC,IAAI,EAAE,SADV;MAEIC,OAAO,EAAE,gBAFb;MAGIC,GAAG,EAAE;QACDC,MAAM,EAAE,cADP;QAEDC,OAAO,EAAEjB;MAFR;IAHT,CANG;EADH,CA7BK;EA8CbF,OAAO,EAAE;IACLoB,UAAU,EAAE,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CADP;;IAEL;AACR;AACA;AACA;IACQC,QAAQ,EAAE;MACNC,EAAE,EAAE;IADE;EANL,CA9CI;EAwDbC,YAAY,EAAE;IACVC,SAAS,EAAE,eADD;IAEVC,QAAQ,EAAE,IAFA;IAGVC,SAAS,EAAE,CAAC,IAAI5B,YAAJ,CAAiB;MACzB6B,aAAa,EAAE;QACXC,MAAM,EAAE;UACJC,QAAQ,EAAE;QADN;MADG,CADU;;MAMzB;AACZ;AACA;AACA;MACYC,eAAe,EAAE;IAVQ,CAAjB,CAAD;EAHD;AAxDD,CAAjB"}