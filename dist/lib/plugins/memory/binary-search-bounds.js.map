{"version":3,"file":"binary-search-bounds.js","names":["ge","a","y","c","l","h","i","m","x","p","undefined","gt","lt","le","eq","norm","f","length","boundGE","boundGT","boundLT","boundLE","boundEQ"],"sources":["../../../../src/plugins/memory/binary-search-bounds.ts"],"sourcesContent":["/**\n * Everything in this file was copied and adapted from\n * @link https://github.com/mikolalysenko/binary-search-bounds\n * \n * TODO We should use the original npm module instead when this bug is fixed:\n * @link https://github.com/mikolalysenko/binary-search-bounds/pull/14\n */\n\n\n\ntype Compare<T> = ((a: T, b: T) => number | null | undefined);\n\nfunction ge<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i: number = h + 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1;\n        const x: any = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : (x - (y as any));\n        if (p >= 0) { i = m; h = m - 1 } else { l = m + 1 }\n    }\n    return i;\n}\n\nfunction gt<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = h + 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p > 0) { i = m; h = m - 1 } else { l = m + 1 }\n    }\n    return i;\n}\n\nfunction lt<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = l - 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p < 0) { i = m; l = m + 1 } else { h = m - 1 }\n    }\n    return i;\n}\n\nfunction le<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    let i = l - 1;\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p <= 0) { i = m; l = m + 1 } else { h = m - 1 }\n    }\n    return i;\n}\n\nfunction eq<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any): number {\n    while (l <= h) {\n        const m = (l + h) >>> 1, x = a[m];\n        const p: any = (c !== undefined) ? c(x, y) : ((x as any) - (y as any));\n        if (p === 0) { return m }\n        if (p <= 0) { l = m + 1 } else { h = m - 1 }\n    }\n    return -1;\n}\n\nfunction norm<T>(a: T[], y: T, c: Compare<T>, l: any, h: any, f: any) {\n    if (typeof c === 'function') {\n        return f(a, y, c, (l === undefined) ? 0 : l | 0, (h === undefined) ? a.length - 1 : h | 0);\n    }\n    return f(a, y, undefined, (c === undefined) ? 0 : c | 0, (l === undefined) ? a.length - 1 : l | 0);\n}\n\n\nexport function boundGE<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, ge) }\nexport function boundGT<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, gt) }\nexport function boundLT<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, lt) }\nexport function boundLE<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, le) }\nexport function boundEQ<T>(a: T[], y: T, c: Compare<T>, l?: any, h?: any) { return norm(a, y, c, l, h, eq) }\n"],"mappings":"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"}