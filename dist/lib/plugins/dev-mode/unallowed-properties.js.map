{"version":3,"sources":["../../../../src/plugins/dev-mode/unallowed-properties.ts"],"names":[],"mappings":";;;;;;;;AACA;;AACA;;AACA;;AACA;;AAGA;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAT,CACH,IADG,EAEL;AACE,MAAI,8CAAuB,QAAvB,CAAgC,IAAI,CAAC,IAArC,CAAJ,EAAgD;AAC5C,UAAM,yBAAW,KAAX,EAAkB;AACpB,MAAA,IAAI,EAAE,IAAI,CAAC;AADS,KAAlB,CAAN;AAGH;AACJ;;AAEM,SAAS,yBAAT,CAAmC,IAAnC,EAAsE;AAEzE,wCAAqB,IAAI,CAAC,IAA1B;AAEA;AACJ;AACA;AACA;AACA;;AACI,MAAI,wBAAa,IAAI,CAAC,IAAlB,CAAJ,EAA6B;AACzB,QAAI,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,GAAnB,KAA2B,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,IAAnB,CAA/B,EAAyD;AACrD,YAAM,yBAAW,MAAX,EAAmB;AACrB,QAAA,IAAI,EAAE,IAAI,CAAC;AADU,OAAnB,CAAN;AAGH;AACJ;AAEJ","file":"unallowed-properties.js","sourcesContent":["import type { RxCollectionCreator, RxDatabaseCreator } from '../../types';\nimport { newRxError } from '../../rx-error';\nimport { rxDatabaseProperties } from './entity-properties';\nimport { isFolderPath } from '../../util';\nimport { validateDatabaseName } from './check-names';\n\n\n/**\n * if the name of a collection\n * clashes with a property of RxDatabase,\n * we get problems so this function prohibits this\n */\nexport function ensureCollectionNameValid(\n    args: RxCollectionCreator & { name: string; }\n) {\n    if (rxDatabaseProperties().includes(args.name)) {\n        throw newRxError('DB5', {\n            name: args.name\n        });\n    }\n}\n\nexport function ensureDatabaseNameIsValid(args: RxDatabaseCreator<any, any>) {\n\n    validateDatabaseName(args.name);\n\n    /**\n     * The server-plugin has problems when a path with and ending slash is given\n     * So we do not allow this.\n     * @link https://github.com/pubkey/rxdb/issues/2251\n     */\n    if (isFolderPath(args.name)) {\n        if (args.name.endsWith('/') || args.name.endsWith('\\\\')) {\n            throw newRxError('DB11', {\n                name: args.name,\n            });\n        }\n    }\n\n}\n"]}