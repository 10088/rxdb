{"version":3,"file":"replication-helper.js","names":["DEFAULT_MODIFIER","d","Promise","resolve","swapDefaultDeletedTodeletedField","deletedField","doc","flatClone","isDeleted","_deleted","swapdeletedFieldToDefaultDeleted"],"sources":["../../../../src/plugins/replication/replication-helper.ts"],"sourcesContent":["import type {\n    WithDeleted\n} from '../../types';\nimport { flatClone } from '../../util';\n\n// does nothing\nexport const DEFAULT_MODIFIER = (d: any) => Promise.resolve(d);\n\n\nexport function swapDefaultDeletedTodeletedField<RxDocType>(\n    deletedField: string,\n    doc: WithDeleted<RxDocType>\n): RxDocType {\n    if (deletedField === '_deleted') {\n        return doc;\n    } else {\n        doc = flatClone(doc);\n        const isDeleted = !!doc._deleted;\n        (doc as any)[deletedField] = isDeleted;\n        delete (doc as any)._deleted;\n        return doc;\n    }\n}\n\n\nexport function swapdeletedFieldToDefaultDeleted<RxDocType>(\n    deletedField: string,\n    doc: RxDocType\n): WithDeleted<RxDocType> {\n    if (deletedField === '_deleted') {\n        return doc as any;\n    } else {\n        doc = flatClone(doc);\n        const isDeleted = !!(doc as any)[deletedField];\n        (doc as any)._deleted = isDeleted;\n        delete (doc as any)[deletedField];\n        return doc as any;\n    }\n}\n"],"mappings":";;;;;;;;AAGA;AAEA;AACO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,CAAM;EAAA,OAAKC,OAAO,CAACC,OAAO,CAACF,CAAC,CAAC;AAAA;AAAC;AAGxD,SAASG,gCAAgC,CAC5CC,YAAoB,EACpBC,GAA2B,EAClB;EACT,IAAID,YAAY,KAAK,UAAU,EAAE;IAC7B,OAAOC,GAAG;EACd,CAAC,MAAM;IACHA,GAAG,GAAG,IAAAC,eAAS,EAACD,GAAG,CAAC;IACpB,IAAME,SAAS,GAAG,CAAC,CAACF,GAAG,CAACG,QAAQ;IAC/BH,GAAG,CAASD,YAAY,CAAC,GAAGG,SAAS;IACtC,OAAQF,GAAG,CAASG,QAAQ;IAC5B,OAAOH,GAAG;EACd;AACJ;AAGO,SAASI,gCAAgC,CAC5CL,YAAoB,EACpBC,GAAc,EACQ;EACtB,IAAID,YAAY,KAAK,UAAU,EAAE;IAC7B,OAAOC,GAAG;EACd,CAAC,MAAM;IACHA,GAAG,GAAG,IAAAC,eAAS,EAACD,GAAG,CAAC;IACpB,IAAME,SAAS,GAAG,CAAC,CAAEF,GAAG,CAASD,YAAY,CAAC;IAC7CC,GAAG,CAASG,QAAQ,GAAGD,SAAS;IACjC,OAAQF,GAAG,CAASD,YAAY,CAAC;IACjC,OAAOC,GAAG;EACd;AACJ"}